(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1919113a"],{"014b":function(t,e,a){"use strict";var n=a("e53d"),s=a("07e3"),r=a("8e60"),i=a("63b6"),o=a("9138"),c=a("ebfd").KEY,u=a("294c"),l=a("dbdb"),p=a("45f2"),h=a("62a0"),d=a("5168"),f=a("ccb9"),m=a("6718"),v=a("47ee"),g=a("9003"),b=a("e4ae"),w=a("f772"),y=a("241e"),$=a("36c3"),k=a("1bc3"),_=a("aebd"),x=a("a159"),C=a("0395"),j=a("bf0b8"),S=a("9aa9"),P=a("d9f6"),O=a("c3a1"),T=j.f,L=P.f,U=C.f,R=n.Symbol,M=n.JSON,N=M&&M.stringify,D="prototype",z=d("_hidden"),E=d("toPrimitive"),q={}.propertyIsEnumerable,I=l("symbol-registry"),F=l("symbols"),V=l("op-symbols"),W=Object[D],A="function"==typeof R&&!!S.f,K=n.QObject,X=!K||!K[D]||!K[D].findChild,B=r&&u(function(){return 7!=x(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,a){var n=T(W,e);n&&delete W[e],L(t,e,a),n&&t!==W&&L(W,e,n)}:L,G=function(t){var e=F[t]=x(R[D]);return e._k=t,e},J=A&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},H=function(t,e,a){return t===W&&H(V,e,a),b(t),e=k(e,!0),b(a),s(F,e)?(a.enumerable?(s(t,z)&&t[z][e]&&(t[z][e]=!1),a=x(a,{enumerable:_(0,!1)})):(s(t,z)||L(t,z,_(1,{})),t[z][e]=!0),B(t,e,a)):L(t,e,a)},Y=function(t,e){b(t);var a,n=v(e=$(e)),s=0,r=n.length;while(r>s)H(t,a=n[s++],e[a]);return t},Q=function(t,e){return void 0===e?x(t):Y(x(t),e)},Z=function(t){var e=q.call(this,t=k(t,!0));return!(this===W&&s(F,t)&&!s(V,t))&&(!(e||!s(this,t)||!s(F,t)||s(this,z)&&this[z][t])||e)},tt=function(t,e){if(t=$(t),e=k(e,!0),t!==W||!s(F,e)||s(V,e)){var a=T(t,e);return!a||!s(F,e)||s(t,z)&&t[z][e]||(a.enumerable=!0),a}},et=function(t){var e,a=U($(t)),n=[],r=0;while(a.length>r)s(F,e=a[r++])||e==z||e==c||n.push(e);return n},at=function(t){var e,a=t===W,n=U(a?V:$(t)),r=[],i=0;while(n.length>i)!s(F,e=n[i++])||a&&!s(W,e)||r.push(F[e]);return r};A||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(a){this===W&&e.call(V,a),s(this,z)&&s(this[z],t)&&(this[z][t]=!1),B(this,t,_(1,a))};return r&&X&&B(W,t,{configurable:!0,set:e}),G(t)},o(R[D],"toString",function(){return this._k}),j.f=tt,P.f=H,a("6abf").f=C.f=et,a("355d").f=Z,S.f=at,r&&!a("b8e3")&&o(W,"propertyIsEnumerable",Z,!0),f.f=function(t){return G(d(t))}),i(i.G+i.W+i.F*!A,{Symbol:R});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),st=0;nt.length>st;)d(nt[st++]);for(var rt=O(d.store),it=0;rt.length>it;)m(rt[it++]);i(i.S+i.F*!A,"Symbol",{for:function(t){return s(I,t+="")?I[t]:I[t]=R(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in I)if(I[e]===t)return e},useSetter:function(){X=!0},useSimple:function(){X=!1}}),i(i.S+i.F*!A,"Object",{create:Q,defineProperty:H,defineProperties:Y,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:at});var ot=u(function(){S.f(1)});i(i.S+i.F*ot,"Object",{getOwnPropertySymbols:function(t){return S.f(y(t))}}),M&&i(i.S+i.F*(!A||u(function(){var t=R();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){var e,a,n=[t],s=1;while(arguments.length>s)n.push(arguments[s++]);if(a=e=n[1],(w(e)||void 0!==t)&&!J(t))return g(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!J(e))return e}),n[1]=e,N.apply(M,n)}}),R[D][E]||a("35e8")(R[D],E,R[D].valueOf),p(R,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},"0197":function(t,e,a){"use strict";var n=a("53d5"),s=a.n(n);s.a},"0395":function(t,e,a){var n=a("36c3"),s=a("6abf").f,r={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return s(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==r.call(t)?o(t):s(n(t))}},"105c":function(t,e,a){"use strict";var n=a("77c9"),s=a.n(n);s.a},1169:function(t,e,a){var n=a("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},1179:function(t,e,a){"use strict";var n=a("3a74"),s=a.n(n);s.a},"174c":function(t,e,a){},"268f":function(t,e,a){t.exports=a("fde4")},"2d78":function(t,e,a){"use strict";var n=a("af70"),s=a.n(n);s.a},3008:function(t,e,a){"use strict";var n=a("cf1d"),s=a.n(n);s.a},"32a6":function(t,e,a){var n=a("241e"),s=a("c3a1");a("ce7e")("keys",function(){return function(t){return s(n(t))}})},"355d":function(t,e){e.f={}.propertyIsEnumerable},3688:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main view-zps",class:{"g-loading2":t.showReadFileLoading},attrs:{"load-tip":t.$t("Console.readFilex")}},[a("div",{staticClass:"sidebar"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"tit",attrs:{cnrk:"我的工作台"}},[t._v(t._s(t.$t("Console.myWorkbench")))]),t._l(t.consRoutes,function(e,n){return a("div",{key:n,staticClass:"router-bar",class:{active:e.active},on:{click:function(a){return t.changeView(e.name)}}},[a("span",{staticClass:"name"},[t._v(t._s(e.label))]),a("span",{directives:[{name:"show",rawName:"v-show",value:"Message"===e.name&&t.getUnReadMsgCount>0,expression:"rt.name === 'Message' && getUnReadMsgCount > 0"}],staticClass:"tip"},[t._v(t._s(t.getUnReadMsgCount))])])})],2)]),a("div",{staticClass:"content-wrapper"},[a(t.currentView,{ref:"project_s",tag:"component",staticClass:"content-rv"})],1),a("Modal",{staticClass:"up-lay5",attrs:{width:"580",draggable:"",cnrk:"t:上传列表",title:t.$t("Console.uploadList"),closable:!0,"footer-hide":""},model:{value:t.showUpListLay,callback:function(e){t.showUpListLay=e},expression:"showUpListLay"}},[a("div",{staticClass:"uplay-inner",class:{tab2:t.isUpTab2,"g-loading2":t.upListLoading},attrs:{"load-tip":t.$t("Console.parsingDirectory"),cnrk:"l:正在解析目录.."}},[a("Row",{staticClass:"row-iny",attrs:{type:"flex",justify:"center"}},[a("Col",{staticClass:"c-tab c-tab1",attrs:{span:"12",cnrk:"正在上传"},nativeOn:{click:function(e){return t.changeUpTab(1)}}},[t._v(t._s(t.$t("Console.uploading"))+" ("+t._s(t.upingList.length)+")")]),a("Col",{staticClass:"c-tab c-tab2",attrs:{span:"12",cnrk:"已完成"},nativeOn:{click:function(e){return t.changeUpTab(2)}}},[t._v(t._s(t.$t("Console.uploaded"))+" ("+t._s(t.upDoneList.length)+")")])],1),a("div",{staticClass:"uping-dbox"},[a("ul",{staticClass:"u-up-m u-up-ing"},[a("li",{staticClass:"la"},[a("p",{staticClass:"pr p-file",attrs:{cnrk:"文件名"}},[t._v(t._s(t.$t("Console.fileName")))]),a("p",{staticClass:"pr p-size",attrs:{cnrk:"大小"}},[t._v(t._s(t.$t("Console.size1")))]),a("p",{staticClass:"pr pjd",attrs:{cnrk:"进度"}},[t._v(t._s(t.$t("Console.progress")))]),a("p",{staticClass:"pr p-state",attrs:{cnrk:"状态"}},[t._v(t._s(t.$t("Console.status")))])]),t._l(t.upingList_less,function(e){return a("li",{key:e.rid,staticClass:"la",class:{err:2===e.upState}},[a("p",{staticClass:"pr p-file"},[t._v(t._s(e.name))]),a("p",{staticClass:"pr p-size"},[t._v(t._s(t.utils.getfGMK(e.size)))]),a("p",{staticClass:"pr pjd p-jindu",style:"box-shadow:"+t.getCurUpProgress(e.loaded,e.size,e.upState),attrs:{"data-percent":t.getCurUpProgressPercent(e.loaded,e.size,e.upState)}}),a("p",{staticClass:"pr p-state p-stx",attrs:{title:t.getUpState(e.upState)}},[t._v(t._s(t.getUpState(e.upState)))])])})],2),a("button",{directives:[{name:"show",rawName:"v-show",value:t.showAgainUpBtn,expression:"showAgainUpBtn"}],staticClass:"base-btn2 bg-blue again-up-btn",attrs:{cnrk:"一键重传"},on:{click:function(e){return t.handleUpAgain(t.upingList)}}},[t._v("\n          "+t._s(t.$t("Console.reupload"))+"\n        ")])]),a("div",{staticClass:"updone-dbox"},[a("ul",{ref:"ref_up_done",staticClass:"u-up-m u-up-done"},[a("li",{staticClass:"la"},[a("p",{staticClass:"pr p-file",attrs:{cnrk:"文件名"}},[t._v(t._s(t.$t("Console.fileName")))]),a("p",{staticClass:"pr p-size",attrs:{cnrk:"大小"}},[t._v(t._s(t.$t("Console.size1")))]),a("p",{staticClass:"pr pjd",attrs:{cnrk:"进度"}},[t._v(t._s(t.$t("Console.progress")))]),a("p",{staticClass:"pr p-state",attrs:{cnrk:"状态"}},[t._v(t._s(t.$t("Console.status")))])]),t._l(t.upDoneList_less,function(e){return a("li",{key:e.rid,staticClass:"la"},[a("p",{staticClass:"pr p-file"},[t._v(t._s(e.name))]),a("p",{staticClass:"pr p-size"},[t._v(t._s(t.utils.getfGMK(e.size)))]),a("p",{staticClass:"pr pjd p-jindu jd-done",attrs:{"data-percent":"100%"}}),a("p",{staticClass:"pr p-state",attrs:{title:t.$t("Console.uploaded"),cnrk:"已完成"}},[t._v(t._s(t.$t("Console.uploaded")))])])})],2)])],1)]),a("Modal",{staticClass:"init-xinpan-tip-modal",attrs:{title:"提示",width:"400"},model:{value:t.showXinpanInitTipModal,callback:function(e){t.showXinpanInitTipModal=e},expression:"showXinpanInitTipModal"}},[a("p",{staticClass:"p5n"},[t._v("星盘开通成功")]),a("p",{staticClass:"p7s"},[t._v("恭喜您，已免费获得 "),a("span",{staticClass:"s9x"},[t._v("30GB")]),t._v(" 星盘空间，用于您的项目、模型和数据集存储。")]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"base-btn2 gbtn",on:{click:function(e){return t.handleXinPanTipOk()}}},[t._v("确定")])],1)])],1)},s=[],r=a("cebc"),i=(a("456d"),a("4917"),a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("ac6a"),a("96cf"),a("3b8d")),o=a("fa7d"),c=a("4ec3"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"con-overview overview-xza"},[a("section",{staticClass:"secpv"},[a("div",{staticClass:"head-x1"},[a("div",{staticClass:"sx-tit"},[a("span",{staticClass:"tit",attrs:{cnrk:"星盘"}},[t._v(t._s(t.$t("Overview.xinpan")))]),t.isEn?a("span",{staticClass:"sy-fr num-tip",attrs:{cnrk:"已使用"}},[t._v(" \n           "+t._s(t.usedSpace_calc)+" "+t._s(t.$t("Overview.usedTxt"))+" / \n          "+t._s(t.utils.getfGMK(t.userTotalSpace))+" \n        ")]):a("span",{staticClass:"sy-fr num-tip",attrs:{cnrk:"已使用"}},[t._v(" "+t._s(t.$t("Overview.usedTxt"))+" "+t._s(t.usedSpace_calc)+" / "+t._s(t.utils.getfGMK(t.userTotalSpace))+" ")])]),a("div",{staticClass:"space-box"},[a("div",{staticClass:"sp-tip",style:t.tipStyle},[t._v(t._s(t.curTipText))]),a("ul",{ref:"nstpx_xs",staticClass:"nstpx-re",attrs:{"data-usable-str":t.usableSpaceStr}},t._l(t.xinpan,function(e,n){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowJbar(n),expression:"isShowJbar(index)"}],key:n,staticClass:"l-xo",style:"width:"+t.getJindu(e.size),attrs:{"file-name":e.name,"file-size-tip":t.getItemSize(e.size),"raw-size":e.size}})}),0),a("ul",{staticClass:"u-mount"},t._l(t.xinpan,function(e,n){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowJbar(n),expression:"isShowJbar(index)"}],key:n},[t._v(t._s(e.name))])}),0)])])]),a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq"},[a("span",{staticClass:"tit",attrs:{cnrk:"当前运行的项目数"}},[t._v(t._s(t.$t("Overview.runProjectNum")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total1))])]),a("div",{staticClass:"table-wrapper"},[a("Table",{staticClass:"ovtbz",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns1,data:t.list1}})],1)]),a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq"},[a("span",{staticClass:"tit",attrs:{cnrk:"最近编辑的项目"}},[t._v(t._s(t.$t("Overview.lastEditPro")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total2))])]),a("div",{staticClass:"table-wrapper"},[a("Table",{staticClass:"ovtbz",class:{"g-loading":t.tbLoad2},attrs:{columns:t.columns2,data:t.list2}})],1)]),a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq"},[a("span",{staticClass:"tit",attrs:{cnrk:"推理部署"}},[t._v(t._s(t.$t("Overview.tuiliDep")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total3))])]),a("div",{staticClass:"table-wrapper"},[a("Table",{staticClass:"ovtbz",class:{"g-loading":t.tbLoad2},attrs:{columns:t.columns3,data:t.list3}})],1)])])},l=[],p={name:"Overview",data:function(){var t=this;return{utils:o["a"],workspace:"",tbLoad1:!1,tbLoad2:!1,tbLoad3:!1,curTipText:"",tipStyle:{},isEn:o["a"].isEn(),userTotalSpace:30*Math.pow(1024,3),xinpan:[{name:this.$t("Overview.dataset"),cname:"数据集",size:0},{name:this.$t("Overview.project"),cname:"项目",size:0},{name:this.$t("Overview.model"),cname:"模型",size:0},{name:this.$t("Overview.deployModel"),cname:"训练后的模型",size:0},{name:this.$t("Overview.recycle"),cname:"回收站",size:1}],columns1:[{title:this.$t("Overview.projectName"),key:"taskName",minWidth:130,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"P"),t("span",{class:"name"},e.row.taskName)])}},{title:this.$t("Overview.tranStatus"),key:"trainStatus",width:150,render:function(e,a){var n={0:t.$t("Overview.state0"),1:t.$t("Overview.state1"),2:t.$t("Overview.state2"),31:t.$t("Overview.state31"),32:t.$t("Overview.state32"),33:t.$t("Overview.state33"),4:t.$t("Overview.state4"),7:t.$t("Overview.state7")},s=a.row.trainStatus||0,r=n[s];return e("span",r)}},{title:this.$t("Overview.size"),key:"projectSize",width:110,render:function(t,e){var a=e.row.projectSize;return t("span",o["a"].getfGMK(a))}},{title:this.$t("Overview.usedTime"),key:"useDuration",width:120,render:function(t,e){var a=e.row.useDuration;return t("span",o["a"].fMCN(a))}},{title:this.$t("Overview.hasBeenConsume"),key:"payTh",width:150,render:function(t,e){var a=e.row.payTh;return t("span",o["a"].floor(a)||"-")}},{title:" ",key:"action",width:80,render:function(e,a){return e("div",[e("span",{class:"checkx-btn",props:{type:"text"},on:{click:function(){t.handleCheck(a.row.id)}}},t.$t("Overview.check"))])}}],columns2:[{title:this.$t("Overview.projectName"),key:"taskName",minWidth:130,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"P"),t("span",{class:"name"},e.row.taskName)])}},{title:this.$t("Overview.tranStatus"),key:"trainStatus",width:150,render:function(e,a){var n={0:t.$t("Overview.state0"),1:t.$t("Overview.state1"),2:t.$t("Overview.state2"),31:t.$t("Overview.state31"),32:t.$t("Overview.state32"),33:t.$t("Overview.state33"),4:t.$t("Overview.state4"),7:t.$t("Overview.state7")},s=a.row.trainStatus||0,r=n[s];return e("span",r)}},{title:this.$t("Overview.size"),key:"projectSize",width:110,render:function(t,e){var a=e.row.projectSize;return t("span",o["a"].getfGMK(a))}},{title:this.$t("Overview.updateTime"),key:"updateTime",width:150,render:function(t,e){var a=e.row.updateTime;return t("span",o["a"].ft("Y-M-D h:m",a))}},{title:this.$t("Overview.describe"),key:"projectDesc",minWidth:120,render:function(e,a){var n=a.row.id,s=a.row.projectDesc;return e("input",{class:"inp-xtyb",key:n,attrs:{type:"text",maxLength:100,value:s},on:{change:function(){t.handleEditRemark(n,event.target.value)}}})}},{title:this.$t("Overview.curConsume"),key:"payTh",width:130,render:function(t,e){var a=e.row.payTh;return t("span",o["a"].floor(a)||"-")}},{title:" ",key:"action",width:90,render:function(e,a){return e("div",[e("span",{class:"checkx-btn",props:{type:"text"},on:{click:function(){t.handleCheck(a.row.id)}}},t.$t("Overview.check"))])}}],columns3:[{title:this.$t("Overview.deployName"),key:"name",minWidth:130,toolTip:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"I"),t("span",{class:"name"},e.row.name)])}},{title:this.$t("Overview.deployVersion"),key:"version",width:110},{title:this.$t("Overview.deployStatus"),key:"status",width:150,toolTip:!0,render:function(e,a){var n={0:t.$t("Overview.state100"),1:t.$t("Overview.state101"),2:t.$t("Overview.state102"),3:t.$t("Overview.state103")},s=a.row.status||0,r=n[s];return e("span",r)}},{title:this.$t("Overview.updateTime"),key:"createTime",width:150,toolTip:!0,render:function(t,e){var a=e.row.createTime;return t("span",o["a"].ft("Y-M-D h:m",a))}},{title:this.$t("Overview.reqTotal"),key:"reqTotalS",width:150,toolTip:!0,render:function(t,e){var a=o["a"].convertToKW(e.row.successNumber),n=o["a"].convertToKW(e.row.failNumber);return t("span","".concat(a," / ").concat(n))}},{title:" ",key:"action",width:90,toolTip:!0,render:function(e,a){return e("div",[e("span",{class:"checkx-btn",props:{type:"text"},on:{click:function(){t.handleViewDeployDetail(a.row)}}},t.$t("Overview.check"))])}}],list1:[],list2:[],list3:[],total1:0,total2:0,total3:0,myUsedSpace:0}},methods:{init:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.getRuningProject(),this.getLatestProject(),this.reqUsedSpaceInfo(),this.moveMouseShowTip(),this.reqDeployList(),t.next=7,this.$store.dispatch("getUserInfo");case 7:this.workspace=this.$store.state.userInfo.workspace,this.mkdirs("/".concat(this.workspace));case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),reqUsedSpaceInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].getWorkspaceInfo);case 2:if(e=t.sent,200!==e.data.code){t.next=10;break}if(a=e.data.payload||[],Object.keys(a).length){t.next=7;break}return t.abrupt("return");case 7:this.myUsedSpace=a.workspaceSize,n={"数据集":"datasetSize","项目":"projectSize","模型":"modelSize","训练后的模型":"deployModelSize","回收站":"trashSize"},this.xinpan=this.xinpan.map(function(t){for(var e in n)if(e===t.cname){t.size=a[n[e]];break}return t});case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditRemark:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n={id:e,projectDesc:a},t.next=3,this.$axios.post(c["a"].updateConfig,n);case 3:s=t.sent,200===s.data.code&&this.$Message.success(this.$t("Overview.saved"));case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getItemSize:function(t){return o["a"].getfGMK(t)},moveMouseShowTip:function(){var t=this,e=this.$refs.nstpx_xs;e.addEventListener("mousemove",function(e){var a=e.clientX,n=e.clientY;if("l-xo"===e.target.className){var s=e.target.getAttribute("file-size-tip"),r=e.target.getAttribute("file-name");t.curTipText="".concat(r,": ").concat(s),t.tipStyle={top:"".concat(n+10,"px"),left:"".concat(a+14,"px"),opacity:1}}else t.tipStyle.opacity=0}),e.addEventListener("mouseleave",function(e){t.tipStyle.opacity=0})},getRuningProject:function(){var t=this;this.tbLoad1=!0;var e=c["a"].getRunningTask,a={pageSize:1e9};this.$axios.post(e,a).then(function(e){if(200===e.data.code){var a=e.data.payload||[];if(!Object.keys(a).length)return;t.tbLoad1=!1,t.list1=a.list,t.total1=a.total}})},getLatestProject:function(){var t=this;this.tbLoad2=!0;var e=c["a"].getLatestEditTask,a={pageSize:1e9};this.$axios.post(e,a).then(function(e){if(200===e.data.code){var a=e.data.payload||[];if(!Object.keys(a).length)return;t.tbLoad2=!1,t.list2=a.list,t.total2=a.total}})},reqDeployList:function(){var t=this;this.tbLoad3=!0;var e=c["a"].findDeployList,a={pageSize:1e9,status:1};this.$axios.post(e,a).then(function(e){if(200===e.data.code){var a=e.data.payload||[];if(!Object.keys(a).length)return;t.tbLoad3=!1,t.list3=a.list,t.total3=a.total}})},handleCheck:function(t){this.$router.push({name:"AiTrain",query:{id:t}})},handleViewDeployDetail:function(t){this.$store.commit("set_deploy_taskid",t.taskId),this.$store.commit("set_deploy_id",t.id),this.$router.push({name:"Deployment",params:{showDeployDetail:!0}})},mkdirs:function(t){var e=this;return new Promise(function(a,n){e.$ipfs.files.mkdir(t,{parents:!0},function(t,e){t?n(t):a(e)})})},getJindu:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 0==t?"0%":100*Math.max(t/this.userTotalSpace,.005)+"%"},isShowJbar:function(t){return this.xinpan[t].size>0}},computed:{usedSpace_calc:function(){return o["a"].getfGMK(this.myUsedSpace)},usableSpace:function(){return o["a"].floor(this.userTotalSpace-this.myUsedSpace,3)},usableSpaceStr:function(){return this.$t("Overview.usable")+o["a"].getfGMK(this.usableSpace)}},mounted:function(){this.init()}},h=p,d=(a("7e49"),a("2877")),f=Object(d["a"])(h,u,l,!1,null,"44feb052",null),m=f.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-project project-togh"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我创建的"}},[t._v(t._s(t.$t("Project.mySetup")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total))])]),a("div",{staticClass:"r-usx"},[a("p",{staticClass:"uppro-txt",class:{on:t.isUping},attrs:{cnrk:"上传列表"},on:{click:function(e){return t.handleUppro()}}},[t._v(t._s(t.$t("Project.uplist")))]),a("label",{staticClass:"base-btn2 bg-blue lb-up--ye62hsd8d3",attrs:{disabled:!t.canUpload,cnrk:"上传"},on:{click:function(e){return t.handleUpload()}}},[t._v(t._s(t.$t("Project.upload")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoading},attrs:{columns:t.columns1,data:t.projectList},on:{"on-filter-change":function(e){return t.getProjectList()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.projectList.length,expression:"projectList.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.total,"page-size":t.query.pageSize,current:t.query.pageNum},on:{"on-change":t.changePage}})],1),a("Modal",{staticClass:"up-lay2",attrs:{width:"500",draggable:"",title:t.$t("Console.uploadProject"),closable:!0,"footer-hide":""},model:{value:t.upModel,callback:function(e){t.upModel=e},expression:"upModel"}},[a("div",{staticClass:"ups-inner"},[a("Row",{staticClass:"row_xs"},[a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"项目框架"}},[t._v(t._s(t.$t("Project.proFrame")))]),a("Select",{staticClass:"slt",model:{value:t.upt.frameSltVal,callback:function(e){t.$set(t.upt,"frameSltVal",e)},expression:"upt.frameSltVal"}},t._l(t.upt.frameSlt,function(e,n){return a("Option",{key:n,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"神经网络类型"}},[t._v(t._s(t.$t("Project.netType")))]),a("Select",{staticClass:"slt",attrs:{span:"6"},model:{value:t.upt.networkType,callback:function(e){t.$set(t.upt,"networkType",e)},expression:"upt.networkType"}},t._l(t.upt.netType,function(e,n){return a("Option",{key:n,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1),a("Row",{staticClass:"row_xs row_xs2"},[a("span",{staticClass:"sp1",attrs:{cnrk:"描述"}},[t._v(t._s(t.$t("Project.describe")))]),a("Input",{staticClass:"inp-ms",attrs:{maxlength:100,type:"textarea",autosize:!1,placeholder:t.$t("Project.typeDescContent"),cnrk:"p: 请输入项目描述内容"},model:{value:t.upt.describe,callback:function(e){t.$set(t.upt,"describe",e)},expression:"upt.describe"}})],1),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.utils.isEn(),expression:"!utils.isEn()"}],staticClass:"penrc"},[t._v("提示：您的星盘可用空间为："+t._s(t.utils.getfGMK(t.userUsableSpace)))]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.utils.isEn(),expression:"utils.isEn()"}],staticClass:"penrc"},[t._v("Tip: the available space of your astrolabe is："+t._s(t.utils.getfGMK(t.userUsableSpace)))]),a("div",{staticClass:"row_xs rs-xm"},[a("span",{staticClass:"sp1",attrs:{cnrk:"项目名称"}},[t._v(t._s(t.$t("Project.projectName")))]),a("Input",{staticClass:"inp-mt",attrs:{type:"text",readonly:"",placeholder:t.$t("Project.choicePro"),cnrk:"r: 请选择项目"},model:{value:t.upt.proName,callback:function(e){t.$set(t.upt,"proName",e)},expression:"upt.proName"}}),a("input",{ref:"inpq",attrs:{type:"file",id:"inpx1",webkitdirectory:"",directory:"",hidden:""},on:{change:function(e){return t.upFileXz()}}}),a("label",{staticClass:"base-btn2 bg-blue chs-btn",attrs:{for:"inpx1",cnrk:"选择"}},[t._v(t._s(t.$t("Project.choice")))])],1),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.utils.isEn(),expression:"!utils.isEn()"}],staticClass:"p-tip"},[t._v("提示：项目名称或主函数所在类类名使用单引号(')、双引号(\")、空格( )、正反斜杠(/ \\)会导致训练失败。")]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.utils.isEn(),expression:"utils.isEn()"}],staticClass:"p-tip"},[t._v("Tip: using single quotation marks ('), double quotation marks (\"), space (), forward and backward slashes (/ \\) for the project name or class name of the main function will cause training failure.")]),a("Row",{staticClass:"row-btm",attrs:{type:"flex",justify:"center"}},[a("button",{staticClass:"base-btn2 bg-blue un-btn",attrs:{cnrk:"上传"},on:{click:t.handleShowUpList}},[t._v(t._s(t.$t("Project.upload")))]),a("button",{staticClass:"base-btn3 un-btn qx-btn",attrs:{cnrk:"取消"},on:{click:t.handleCancleUp}},[t._v(t._s(t.$t("Project.cancel")))])])],1)])],1)},g=[],b=(a("a481"),{methods:{downloadDir:function(t){window.open(c["a"].ipfsUrl.replace("/ipfs/","/zip/")+t)},downloadFile:function(t){window.open(c["a"].ipfsUrl+t)}}}),w=a("2f62"),y=null,$={name:"Project",mixins:[b],data:function(){var t=this;this.$createElement;return{utils:o["a"],workspace:"",modal1:!1,upModel:!1,taskCode:-1,taskName:"",tbLoading:!1,projectList:[],userUsableSpace:0,query:{pageNum:1,pageSize:10},filt:{trainState:"",trainFrame:"",netType:""},total:0,upt:{frameSltVal:1,networkType:1,describe:"",proName:"",frameSlt:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:"caffe",value:6},{label:this.$t("Project.other"),value:5}],netType:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:"caffe",value:6},{label:this.$t("Project.other"),value:5}]},columns1:[{title:this.$t("Project.projectName"),key:"taskName",minWidth:230,ellipsis:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"P"),t("span",{class:"name",attrs:{title:e.row.taskName}},e.row.taskName||"-")])}},{title:this.$t("Project.tranStatus"),key:"trainStatus",width:150,filters:[{label:this.$t("Project.state0"),value:0},{label:this.$t("Project.state1"),value:1},{label:this.$t("Project.state2"),value:2},{label:this.$t("Project.state31"),value:31},{label:this.$t("Project.state4"),value:4},{label:this.$t("Project.state7"),value:7}],filterMultiple:!1,filterRemote:function(t,e,a){31!=t[0]?y.filt.trainState=t[0]:y.filt.trainState="31,32,33"},render:function(e,a){var n={0:t.$t("Overview.state0"),1:t.$t("Overview.state1"),2:t.$t("Overview.state2"),31:t.$t("Overview.state31"),32:t.$t("Overview.state32"),33:t.$t("Overview.state33"),4:t.$t("Overview.state4"),7:t.$t("Overview.state7")},s=a.row.trainStatus||0,r=n[s];return e("span",r)}},{title:this.$t("Project.frames"),key:"trainWay",width:150,tooltip:!0,filters:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){y.filt.trainFrame=t[0]},render:function(e,a){var n=a.row.id,s=a.row.trainWay,r=function(e){t.handleEditFrame(n,e)};return e("Select",{class:"slt-xps slt-byp",on:{"on-change":r},model:{value:s,callback:function(t){s=t}}},[t.upt.frameSlt.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.netType2"),key:"neuralNetworkType",width:160,tooltip:!0,filters:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){y.filt.netType=t[0]},render:function(e,a){var n=a.row.id,s=a.row.neuralNetworkType,r=function(e){t.handleEditNetType(n,e)};return e("Select",{class:"slt-xps slt-byp",on:{"on-change":r},model:{value:s,callback:function(t){s=t}}},[t.upt.netType.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.size"),key:"projectSize",width:120,tooltip:!0,render:function(t,e){var a=o["a"].getfGMK(e.row.projectSize);return t("span",a)}},{title:this.$t("Project.updateTime"),key:"updateTime",width:150,ellipsis:!0,render:function(t,e){var a=o["a"].ft("Y-M-D h:m",e.row.updateTime);return t("span",a)}},{title:this.$t("Project.describe"),key:"projectDesc",minWidth:180,tooltip:!0,render:function(e,a){var n=a.row.id,s=a.row.projectDesc;return e("input",{class:"inp-xtyb",key:n,attrs:{type:"text",maxLength:100,value:s},on:{change:function(){t.handleEditRemark(n,event.target.value)}}})}},{title:this.$t("Project.usedTime"),key:"useDuration",width:100,tooltip:!0,render:function(t,e){var a=e.row.useDuration;return t("span",o["a"].fMCN(a))}},{title:this.$t("Project.hasBeenConsume"),key:"payTh",width:130,tooltip:!0,render:function(t,e){var a=e.row.payTh;return t("span",o["a"].floor(a)||0)}},{title:this.$t("Project.ctrl"),key:"action",align:"center",width:o["a"].isEn()?210:170,fixed:"right",render:function(e,a){var n=a.row;return e("div",[e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleCheck(n.id)}}},t.$t("Project.check")),e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleDownloadProject(n.fileHash)}}},t.$t("Console.download")),e("span",{class:"del-fp-btn",props:{type:"text"},on:{click:function(){t.reqDelProject(n.taskCode)}}},t.$t("Project.del"))])}}]}},methods:{handleDownloadProject:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ipfs.files.stat("/ipfs/"+e);case 2:a=t.sent,"file"===a.type?this.downloadFile(e):this.downloadDir(e);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),init:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getProjectList();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditRemark:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n={id:e,projectDesc:a},t.next=3,this.$axios.post(c["a"].updateConfig,n);case 3:s=t.sent,200===s.data.code&&this.$Message.success(this.$t("Project.saved"));case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEditFrame:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return n={id:e,trainWay:a},t.next=5,this.$axios.post(c["a"].updateConfig,n);case 5:s=t.sent,200===s.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEditNetType:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return n={id:e,neuralNetworkType:a},t.next=5,this.$axios.post(c["a"].updateConfig,n);case 5:s=t.sent,200===s.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getProjectList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoading=!0,e={trainStatus:this.filt.trainState,trainWay:this.filt.trainFrame,neuralNetworkType:this.filt.netType},e=Object.assign(this.query,e),t.next=5,this.$axios.post(c["a"].getTaskList,e);case 5:if(a=t.sent,200!==a.data.code){t.next=12;break}if(n=a.data.payload||[],Object.keys(n).length){t.next=10;break}return t.abrupt("return");case 10:this.projectList=n.list,this.total=n.total;case 12:this.tbLoading=!1;case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.query.pageNum=t,this.getProjectList()},handleCheck:function(t){this.$router.push({name:"AiTrain",query:{id:t}})},mkdirs:function(t){var e=this;return new Promise(function(a,n){e.$ipfs.files.mkdir(t,{parents:!0},function(t,e){t?n(t):a(e)})})},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},handleUpload:function(){this.canUpload&&(this.upModel=!0,this.resetUpCfg(),this.reqUserUsableSpace())},upFileXz:function(){var t=event.target.files,e=(t||[])[0]?t[0].webkitRelativePath.match(/^[^\/]+/)[0]:"";this.upt.proName=e},handleShowUpList:function(){if(this.upt.proName){var t=this.$refs.inpq.files;this.upModel=!1,this.$parent.upFileXs(t,-1)}else this.$Message.warning(this.$t("Project.choiceUpPro"))},resetUpCfg:function(){this.upt.frameSltVal=1,this.upt.networkType=1,this.$store.commit("set_pro_describe",null),this.upt.describe="",this.upt.proName="",this.$refs.inpq.value=""},handleCancleUp:function(){this.upModel=!1},reqDelProject:o["a"].debounce(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=c["a"].delProject,n={taskCode:e},t.next=4,this.$axios.post(a,n);case 4:if(s=t.sent,200!==s.data.code){t.next=12;break}return this.$Message.success(this.$t("Project.shiftInRecycle")),t.next=9,o["a"].timeout(300);case 9:this.getProjectList(),t.next=13;break;case 12:this.$Message.error(s.data.message);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_delay||300),handleUppro:function(){this.$parent.showUpListLay=!this.$parent.showUpListLay},getUsedSpace:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getIpfsProjectInfo(e);case 2:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),reqUserUsableSpace:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].getFreeSpace);case 2:e=t.sent,200===e.data.code&&(this.userUsableSpace=e.data.payload||0);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},computed:Object(r["a"])({},Object(w["c"])({showUpTipBar:function(t){return t.ups.showUpTipBar}}),{canUpload:function(){return this.$store.state.ups.canUpload},isUping:function(){return this.$store.state.ups.showUpTipBar}}),watch:{"upt.frameSltVal":function(t){this.$store.commit("set_frame_type",t)},"upt.networkType":function(t){this.$store.commit("set_net_type",t)},"upt.describe":function(t){this.$store.commit("set_pro_describe",t)}},mounted:function(){this.init()},created:function(){y=this,-1===this.$parent.curUptype&&this.$store.state.ups.upDoneList.length?this.$store.commit("set_up_tip_bar",!0):this.$store.commit("set_up_tip_bar",!1)}},k=$,_=(a("d27b"),Object(d["a"])(k,v,g,!1,null,"aced16f6",null)),x=_.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-project model-togh"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我创建的"}},[t._v(t._s(t.$t("DataSet.mySetup")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total))])]),a("div",{staticClass:"r-usx"},[a("p",{staticClass:"uppro-txt",class:{on:t.showUpTipBar},attrs:{cnrk:"上传列表"},on:{click:t.handleUpDataset}},[t._v(t._s(t.$t("Project.uplist")))]),a("label",{staticClass:"base-btn2 bg-blue lb-up--ye62hsd8d3",attrs:{disabled:!t.canUpload,cnrk:"上传"},on:{click:t.handleUpload}},[t._v(t._s(t.$t("Project.upload")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoading},attrs:{columns:t.columns1,data:t.pList},on:{"on-filter-change":function(e){return t.getProjectList()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pList.length,expression:"pList.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.total,"page-size":t.query.pageSize,current:t.query.pageNum},on:{"on-change":t.changePage}})],1),a("Modal",{staticClass:"up-lay2",attrs:{width:"500",draggable:"",cnrk:"t: 数据集上传",title:t.$t("DataSet.dataSetUpload"),closable:!0,"footer-hide":""},model:{value:t.upDataset,callback:function(e){t.upDataset=e},expression:"upDataset"}},[a("div",{staticClass:"ups-inner"},[a("Row",{staticClass:"row_xs"},[a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1 spa",attrs:{cnrk:"数据集类型"}},[t._v(t._s(t.$t("DataSet.dataSetType")))]),a("Select",{staticClass:"slt",model:{value:t.upt.datasetTypeVal,callback:function(e){t.$set(t.upt,"datasetTypeVal",e)},expression:"upt.datasetTypeVal"}},t._l(t.upt.datasetType,function(e,n){return a("Option",{key:n,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1),a("Row",{staticClass:"row_xs row_xs2"},[a("span",{staticClass:"sp1",attrs:{cnrk:"描述"}},[t._v(t._s(t.$t("Project.describe")))]),a("Input",{staticClass:"inp-ms",attrs:{maxlength:15,type:"textarea",autosize:!1,placeholder:t.$t("Project.typeDescContent")},model:{value:t.upt.describe,callback:function(e){t.$set(t.upt,"describe",e)},expression:"upt.describe"}})],1),a("div",{staticClass:"row_xs rs-xm"},[a("span",{staticClass:"sp1 spk",attrs:{cnrk:"数据集名称"}},[t._v(t._s(t.$t("DataSet.dataSetName")))]),a("Input",{staticClass:"inp-mt",attrs:{type:"text",readonly:"",placeholder:t.$t("DataSet.choiceDataSet")},model:{value:t.upt.proName,callback:function(e){t.$set(t.upt,"proName",e)},expression:"upt.proName"}}),a("input",{ref:"inpq",attrs:{type:"file",id:"inpx1",webkitdirectory:"",directory:"",hidden:""},on:{change:function(e){return t.upFileXz()}}}),a("label",{staticClass:"base-btn2 bg-blue chs-btn",attrs:{for:"inpx1",cnrk:"选择"}},[t._v(t._s(t.$t("Project.choice")))])],1),a("Row",{staticClass:"row-btm",attrs:{type:"flex",justify:"center"}},[a("button",{staticClass:"base-btn2 bg-blue un-btn",attrs:{cnrk:"上传"},on:{click:t.handleShowUpList}},[t._v(t._s(t.$t("Project.upload")))]),a("button",{staticClass:"base-btn3 un-btn qx-btn",attrs:{cnrk:"取消"},on:{click:t.handleCancleUp}},[t._v(t._s(t.$t("Project.cancel")))])])],1)])],1)},j=[],S={},P={name:"Dataset",mixins:[b],data:function(){var t=this;this.$createElement;return{workspace:"",modal1:!1,upDataset:!1,query:{pageNum:1,pageSize:10},filt:{dataSetType:""},total:0,tbLoading:!1,pList:[],upt:{describe:"",proName:"",datasetTypeVal:1,datasetType:[{label:this.$t("DataSet.tranSet"),value:1},{label:this.$t("DataSet.verifySet"),value:2},{label:this.$t("DataSet.testSet"),value:3}]},columns1:[{title:this.$t("DataSet.dataSetName"),key:"dataName",minWidth:230,ellipsis:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"D"),t("span",{class:"name",attrs:{title:e.row.dataName}},e.row.dataName||"-")])}},{title:this.$t("DataSet.type"),key:"dataSetType",width:150,tooltip:!0,filters:[{label:this.$t("DataSet.tranSet"),value:1},{label:this.$t("DataSet.verifySet"),value:2},{label:this.$t("DataSet.testSet"),value:3}],filterMultiple:!1,filterRemote:function(t,e,a){S.filt.dataSetType=t[0]},render:function(e,a){var n=a.row.id,s=a.row.dataSetType,r=function(e){t.handleUpdateList(n,e)};return e("Select",{class:"slt-xps slt-byp",on:{"on-change":r},model:{value:s,callback:function(t){s=t}}},[t.upt.datasetType.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.updateTime"),key:"createTime",width:150,tooltip:!0,render:function(t,e){var a=o["a"].ft("Y-M-D h:m",e.row.createTime);return t("span",a)}},{title:this.$t("Project.size"),key:"fileSize",width:150,tooltip:!0,render:function(t,e){var a=o["a"].getfGMK(e.row.fileSize);return t("span",a)}},{title:this.$t("Project.describe"),key:"note",width:200,tooltip:!0,render:function(e,a){var n=a.row.id,s=a.row.note;return e("input",{class:"inp-xtyb",key:n,attrs:{type:"text",maxLength:15,value:s},on:{change:function(){t.handleEditRemark(n,event.target.value)}}})}},{title:this.$t("Project.ctrl"),key:"action",align:"center",width:o["a"].isEn()?200:170,fixed:"right",render:function(e,a){var n=a.row;return e("div",[e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleDownloadDataset(n.dataHash)}}},t.$t("Console.download")),e("span",{class:"del-fp-btn",props:{type:"text"},on:{click:function(){t.reqDelProject(n.id)}}},t.$t("Project.del"))])}}]}},methods:{handleDownloadDataset:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ipfs.files.stat("/ipfs/"+e);case 2:a=t.sent,"file"===a.type?this.downloadFile(e):this.downloadDir(e);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),init:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getProjectList();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditRemark:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n={id:e,note:a},t.next=3,this.$axios.post(c["a"].updateMorD,n);case 3:s=t.sent,200===s.data.code&&this.$Message.success(this.$t("Project.saved"));case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleUpdateList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return n={id:e,dataSetType:a},t.next=5,this.$axios.post(c["a"].updateMorD,n);case 5:s=t.sent,200===s.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getProjectList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoading=!0,e={dataType:1,dataSetType:this.filt.dataSetType},e=Object.assign(this.query,e),t.next=5,this.$axios.post(c["a"].getDataList,e);case 5:if(a=t.sent,200!==a.data.code){t.next=12;break}if(n=a.data.payload||[],Object.keys(n).length){t.next=10;break}return t.abrupt("return");case 10:this.pList=n.list,this.total=n.total;case 12:this.tbLoading=!1;case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.query.pageNum=t,this.getProjectList()},handleCheck:function(t){this.$router.push({name:"AiTrain",query:{d:t}})},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},handleUpload:function(){this.canUpload&&(this.upDataset=!0,this.resetUpCfg())},upFileXz:function(){var t=event.target.files,e=t[0]?t[0].webkitRelativePath.match(/^[^\/]+/)[0]:"";this.upt.proName=e},handleShowUpList:function(){if(this.upt.proName){var t=this.$refs.inpq.files;this.upDataset=!1,this.$parent.upFileXs(t,1)}else this.$Message.warning(this.$t("DataSet.choiceUploadDataSetX"))},resetUpCfg:function(){this.upt.datasetTypeVal=1,this.$store.commit("set_pro_describe",null),this.$store.commit("set_dataset_type",1),this.upt.describe="",this.upt.proName="",this.$refs.inpq.value=""},handleCancleUp:function(){this.upDataset=!1},reqDelProject:o["a"].debounce(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=c["a"].delMorD,n={id:e},t.next=4,this.$axios.post(a,n);case 4:if(s=t.sent,200!==s.data.code){t.next=12;break}return this.$Message.success(this.$t("Project.shiftInRecycle")),t.next=9,o["a"].timeout(300);case 9:this.getProjectList(),t.next=13;break;case 12:this.$Message.error(s.data.message);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_delay||300),handleUpDataset:function(){this.$parent.showUpListLay=!this.$parent.showUpListLay},getUsedSpace:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getIpfsProjectInfo(e);case 2:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},computed:Object(r["a"])({},Object(w["c"])({showUpTipBar:function(t){return t.ups.showUpTipBar}}),{canUpload:function(){return this.$store.state.ups.canUpload}}),watch:{"upt.datasetTypeVal":function(t){this.$store.commit("set_dataset_type",t)},"upt.describe":function(t){this.$store.commit("set_pro_describe",t)}},mounted:function(){this.init()},created:function(){S=this,1===this.$parent.curUptype&&this.$store.state.ups.upDoneList.length?this.$store.commit("set_up_tip_bar",!0):this.$store.commit("set_up_tip_bar",!1)}},O=P,T=(a("a25e"),Object(d["a"])(O,C,j,!1,null,"5dbb0554",null)),L=T.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-project model-togh"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我创建的"}},[t._v(t._s(t.$t("Model.mySetup")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total))])]),a("div",{staticClass:"r-usx"},[a("p",{staticClass:"uppro-txt",class:{on:t.showUpTipBar},attrs:{cnrk:"上传列表"},on:{click:t.handleUpModel}},[t._v(t._s(t.$t("Project.uplist")))]),a("label",{staticClass:"base-btn2 bg-blue lb-up--ye62hsd8d3",attrs:{disabled:!t.canUpload,cnrk:"上传"},on:{click:t.handleUpload}},[t._v(t._s(t.$t("Project.upload")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoading},attrs:{columns:t.columns1,data:t.modelList},on:{"on-filter-change":function(e){return t.getProjectList()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.modelList.length,expression:"modelList.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.total,"page-size":t.query.pageSize,current:t.query.pageNum},on:{"on-change":t.changePage}})],1),a("Modal",{staticClass:"up-lay2",attrs:{width:"500",draggable:"",cnrk:"t: 模型上传",title:t.$t("Model.modelUpload"),closable:!0,"footer-hide":""},model:{value:t.upModel,callback:function(e){t.upModel=e},expression:"upModel"}},[a("div",{staticClass:"ups-inner"},[a("Row",{staticClass:"row_xs"},[a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"训练框架"}},[t._v(t._s(t.$t("Model.tranFrameS")))]),a("Select",{staticClass:"slt",model:{value:t.upt.frameSltVal,callback:function(e){t.$set(t.upt,"frameSltVal",e)},expression:"upt.frameSltVal"}},t._l(t.upt.frameSlt,function(e,n){return a("Option",{key:n,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"神经网络类型"}},[t._v(t._s(t.$t("Project.netType")))]),a("Select",{staticClass:"slt",attrs:{span:"6"},model:{value:t.upt.networkType,callback:function(e){t.$set(t.upt,"networkType",e)},expression:"upt.networkType"}},t._l(t.upt.netType,function(e,n){return a("Option",{key:n,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1),a("Row",{staticClass:"row_xs row_xs2"},[a("span",{staticClass:"sp1",attrs:{cnrk:"描述"}},[t._v(t._s(t.$t("Project.describe")))]),a("Input",{staticClass:"inp-ms",attrs:{maxlength:15,type:"textarea",autosize:!1,placeholder:t.$t("Project.typeDescContent")},model:{value:t.upt.describe,callback:function(e){t.$set(t.upt,"describe",e)},expression:"upt.describe"}})],1),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.utils.isEn(),expression:"!utils.isEn()"}],staticClass:"penrc"},[t._v("提示：您的星盘可用空间为："+t._s(t.utils.getfGMK(t.userUsableSpace)))]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.utils.isEn(),expression:"utils.isEn()"}],staticClass:"penrc"},[t._v("Tip: the available space of your astrolabe is："+t._s(t.utils.getfGMK(t.userUsableSpace)))]),a("div",{staticClass:"row_xs rs-xm"},[a("span",{staticClass:"sp1",attrs:{cnrk:"模型名称"}},[t._v(t._s(t.$t("Model.modelName")))]),a("Input",{staticClass:"inp-mt",attrs:{type:"text",readonly:"",placeholder:t.$t("Model.choiceModel")},model:{value:t.upt.proName,callback:function(e){t.$set(t.upt,"proName",e)},expression:"upt.proName"}}),a("input",{ref:"inpq",attrs:{type:"file",id:"inpx1",webkitdirectory:"",directory:"",hidden:""},on:{change:function(e){return t.upFileXz()}}}),a("label",{staticClass:"base-btn2 bg-blue chs-btn",attrs:{for:"inpx1",cnrk:"选择"}},[t._v(t._s(t.$t("Project.choice")))])],1),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.utils.isEn(),expression:"!utils.isEn()"}],staticClass:"p-tip"},[t._v("提示：模型名称或主函数所在类类名使用单引号(')、双引号(\")、空格( )、正反斜杠(/ \\)会导致训练失败。")]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.utils.isEn(),expression:"utils.isEn()"}],staticClass:"p-tip"},[t._v("Tip: using single quotation marks ('), double quotation marks (\"), space (), forward and backward slashes (/ \\) for the model name or class name of the main function will cause training failure.")]),a("Row",{staticClass:"row-btm",attrs:{type:"flex",justify:"center"}},[a("button",{staticClass:"base-btn2 bg-blue un-btn",attrs:{cnrk:"上传"},on:{click:t.handleShowUpList}},[t._v(t._s(t.$t("Project.upload")))]),a("button",{staticClass:"base-btn3 un-btn qx-btn",attrs:{cnrk:"取消"},on:{click:t.handleCancleUp}},[t._v(t._s(t.$t("Project.cancel")))])])],1)])],1)},R=[],M={},N={name:"Model",mixins:[b],data:function(){var t=this;this.$createElement;return{utils:o["a"],workspace:"",modal1:!1,upModel:!1,query:{pageNum:1,pageSize:10},filt:{trainState:"",trainFrame:"",netType:""},total:0,tbLoading:!1,userUsableSpace:0,modelList:[],upt:{frameSltVal:1,networkType:1,describe:"",proName:"",frameSlt:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],netType:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}]},columns1:[{title:this.$t("Model.modelName"),key:"dataName",minWidth:230,ellipsis:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"M"),t("span",{class:"name",attrs:{title:e.row.dataName}},e.row.dataName||"-")])}},{title:this.$t("Project.frames"),key:"trainWay",width:150,tooltip:!0,filters:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){M.filt.trainFrame=t[0]},render:function(e,a){var n=a.row.id,s=a.row.trainWay,r=function(e){t.handleEditFrame(n,e)};return e("Select",{attrs:{value:s},class:"slt-xps slt-byp",on:{"on-change":r}},[t.upt.frameSlt.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.netType"),key:"neuralNetworkType",width:160,tooltip:!0,filters:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){M.filt.netType=t[0]},render:function(e,a){var n=a.row.id,s=a.row.neuralNetworkType,r=function(e){t.handleEditNetType(n,e)};return e("Select",{class:"slt-xps slt-byp",on:{"on-change":r},model:{value:s,callback:function(t){s=t}}},[t.upt.netType.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.size"),key:"fileSize",width:120,tooltip:!0,render:function(t,e){var a=o["a"].getfGMK(e.row.fileSize);return t("span",a)}},{title:this.$t("Project.updateTime"),key:"updateTime",width:150,ellipsis:!0,render:function(t,e){var a=o["a"].ft("Y-M-D h:m",e.row.updateTime);return t("span",a)}},{title:this.$t("Project.describe"),key:"note",minWidth:180,tooltip:!0,render:function(e,a){var n=a.row.id,s=a.row.note;return e("input",{class:"inp-xtyb",key:n,attrs:{type:"text",maxLength:15,value:s},on:{change:function(){t.handleEditRemark(n,event.target.value)}}})}},{title:this.$t("Project.ctrl"),key:"action",align:"center",width:o["a"].isEn()?210:170,fixed:"right",render:function(e,a){var n=a.row;return e("div",[e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleCheck(n.id)}}},t.$t("Project.check")),e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleDownloadModel(n.dataHash)}}},t.$t("Console.download")),e("span",{class:"del-fp-btn",props:{type:"text"},on:{click:function(){t.reqDelProject(n.id)}}},t.$t("Project.del"))])}}]}},methods:{handleDownloadModel:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$ipfs.files.stat("/ipfs/"+e);case 2:a=t.sent,"file"===a.type?this.downloadFile(e):this.downloadDir(e);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),init:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getProjectList();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditRemark:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n={id:e,note:a},t.next=3,this.$axios.post(c["a"].updateMorD,n);case 3:s=t.sent,200===s.data.code&&this.$Message.success(this.$t("Project.saved"));case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEditFrame:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return n={id:e,trainWay:a},t.next=5,this.$axios.post(c["a"].updateMorD,n);case 5:s=t.sent,200===s.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEditNetType:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return n={id:e,neuralNetworkType:a},t.next=5,this.$axios.post(c["a"].updateMorD,n);case 5:s=t.sent,200===s.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getProjectList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoading=!0,e={dataType:2,trainStatus:this.filt.trainState,trainWay:this.filt.trainFrame,neuralNetworkType:this.filt.netType},e=Object.assign(this.query,e),t.next=5,this.$axios.post(c["a"].getDataList,e);case 5:if(a=t.sent,200!==a.data.code){t.next=12;break}if(n=a.data.payload||[],Object.keys(n).length){t.next=10;break}return t.abrupt("return");case 10:this.modelList=n.list,this.total=n.total;case 12:this.tbLoading=!1;case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.query.pageNum=t,this.getProjectList()},handleCheck:function(t){this.$router.push({name:"AiTrain",query:{m:t}})},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},handleUpload:function(){this.canUpload&&(this.upModel=!0,this.resetUpCfg(),this.reqUserUsableSpace())},upFileXz:function(){var t=event.target.files,e=(t||[])[0]?t[0].webkitRelativePath.match(/^[^\/]+/)[0]:"";this.upt.proName=e},handleShowUpList:function(){if(this.upt.proName){var t=this.$refs.inpq.files;this.upModel=!1,this.$store.commit("show_read_file_loading",!0),this.$parent.upFileXs(t,2)}else this.$Message.warning(this.$t("Model.choiceUpModel"))},resetUpCfg:function(){this.$store.commit("set_dataset_type",null),this.$store.commit("set_pro_describe",null),this.upt.frameSltVal=1,this.upt.networkType=1,this.upt.describe="",this.upt.proName="",this.$refs.inpq.value=""},handleCancleUp:function(){this.upModel=!1},reqDelProject:o["a"].debounce(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=c["a"].delMorD,n={id:e},t.next=4,this.$axios.post(a,n);case 4:if(s=t.sent,200!==s.data.code){t.next=12;break}return this.$Message.success(this.$t("Project.shiftInRecycle")),t.next=9,o["a"].timeout(300);case 9:this.getProjectList(),t.next=13;break;case 12:this.$Message.error(s.data.message);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_delay||300),handleUpModel:function(){this.$parent.showUpListLay=!this.$parent.showUpListLay},getUsedSpace:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getIpfsProjectInfo(e);case 2:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),reqUserUsableSpace:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].getFreeSpace);case 2:e=t.sent,200===e.data.code&&(this.userUsableSpace=e.data.payload||0);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},computed:Object(r["a"])({},Object(w["c"])({showUpTipBar:function(t){return t.ups.showUpTipBar}}),{canUpload:function(){return this.$store.state.ups.canUpload}}),watch:{"upt.frameSltVal":function(t){this.$store.commit("set_frame_type",t)},"upt.networkType":function(t){this.$store.commit("set_net_type",t)},"upt.describe":function(t){this.$store.commit("set_pro_describe",t)}},mounted:function(){this.init()},created:function(){M=this,2===this.$parent.curUptype&&this.$store.state.ups.upDoneList.length?this.$store.commit("set_up_tip_bar",!0):this.$store.commit("set_up_tip_bar",!1)}},D=N,z=(a("49fa"),Object(d["a"])(D,U,R,!1,null,"bdef36fe",null)),E=z.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap msg-m-xs"},[a("div",{staticClass:"head"},[a("div",{staticClass:"leftx"},[a("span",{staticClass:"tit",attrs:{cnrk:"全部消息"}},[t._v(t._s(t.$t("Console.allMessages")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.msgTotal))])]),a("div",{staticClass:"r-xp"},[a("span",{staticClass:"h-all-read",on:{click:function(e){return t.handleAllreaded()}}},[t._v(t._s(t.$t("Console.allReaded")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns2,data:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.msgTotal,current:t.curPage,"page-size":t.pageSize},on:{"on-change":t.changePage}})],1)],1)},I=[],F={name:"Message",data:function(){var t=this;return{curPage:1,pageSize:10,tbLoad1:!1,msgTotal:0,columns2:[{title:this.$t("Console.messageTitle"),key:"messageTitle",minWidth:180,render:function(e,a){var n=a.row;return e("div",{class:"title-wrap-8x"},[e("span",{class:{"title-tag":!0,"b-red":1===n.status}},""),e("span",{class:["title--wdashfty74",{gray:1!==n.status}],on:{click:function(){t.handleNotice(n.id)}}},n.messageTitle)])}},{title:this.$t("Console.status"),key:"createTime",minWidth:80,render:function(e,a){var n=a.row.status,s=["-",t.$t("Console.unread"),t.$t("Console.read")];return e("span",{class:{gray:1!==a.row.status}},s[n])}},{title:this.$t("Console.time"),key:"createTime",minWidth:150,render:function(t,e){return t("span",{class:{gray:1!==e.row.status}},o["a"].ft("Y-M-D h:m",e.row.createTime))}},{title:" ",width:100,align:"center",render:function(e,a){var n=a.row.id;return e("span",{class:["handle--btn handle--del",{gray:1!==a.row.status}],on:{click:function(){t.handleDelMsg(n)}}},t.$t("Console.delete"))}}],tableData:[]}},props:{data:null},methods:{getMsg:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,e=c["a"].getUserMsg,a={pageNum:this.curPage,pageSize:this.pageSize},t.next=5,this.$axios.post(e,a);case 5:if(n=t.sent,this.tbLoad1=!1,200!=n.data.code){t.next=16;break}if(s=n.data.payload||[],Object.keys(s).length){t.next=11;break}return t.abrupt("return");case 11:this.curPage=s.pageNum,this.msgTotal=s.total,this.tableData=s.list,this.$store.commit("set_user_msg_list",s.list),this.$store.commit("set_user_unread_msg_count",s.noReadNum);case 16:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleDelMsg:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].delUserMsg,{ids:e});case 2:a=t.sent,200===a.data.code?(this.$Message.success(this.$t("Console.deleted")),this.getMsg()):this.$Message.success(a.data.message);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),changePage:function(t){this.curPage=t,o["a"].setStore("message.curPage",t),this.getMsg()},setItemsAsReaded:function(t){return this.$axios.post(c["a"].changeUserMsgStatus,{ids:t})},handleNotice:function(t){this.$router.push({query:{id:t}}),this.$parent.currentView="MessageDetail",this.setItemsAsReaded(t)},handleAllreaded:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.tableData.map(function(t){return t.id}).join(","),t.next=3,this.setItemsAsReaded(e);case 3:if(a=t.sent,200!==a.data.code){t.next=11;break}if(this.isSomeUnReaded()){t.next=7;break}return t.abrupt("return");case 7:this.reqUnReadMsgCount(),this.curPage=1,this.getMsg(),this.$Message.success("标记成功");case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),isSomeUnReaded:function(){return!!this.tableData.length&&this.tableData.some(function(t){return 1===t.status})},reqUnReadMsgCount:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].userUnreadMsgCount);case 2:e=t.sent,200===e.data.code&&(a=e.data.payload||0,this.$store.commit("set_user_unread_msg_count",a));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.$router.push({query:{}}),this.curPage=+o["a"].getStore("message.curPage")||1,this.getMsg()}},V=F,W=(a("105c"),Object(d["a"])(V,q,I,!1,null,"0848ba68",null)),A=W.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap msg-m-xs"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"回收站"},on:{click:t.UP_JSON}},[t._v(t._s(t.$t("Console.recycleBin")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.dTotal))]),a("span",{staticClass:"txt-tip",attrs:{cnrk:"超过90天的内容会被自动删除"}},[t._v(t._s(t.$t("Console.recycleBinTip")))])]),a("div",{staticClass:"r-btn"},[a("span",{staticClass:"sbtn",attrs:{cnrk:"一键清空"},on:{click:function(e){return t.handleRmAll()}}},[t._v(t._s(t.$t("Console.allEmpty")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns2,data:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.dTotal,current:t.curPage,"page-size":t.pageSize},on:{"on-change":t.changePage}})],1)],1)},X=[],B=(a("6c7b"),{name:"Recycled",data:function(){var t=this;return{curPage:1,pageSize:10,tbLoad1:!1,dTotal:0,columns2:[{title:this.$t("Console.name"),key:"name",minWidth:180,render:function(t,e){e.row;return t("div",{class:"title-wrap-8x"},[t("span",{class:{"title-tag":!0,"b-red":1===e.row.status}},""),t("span",{class:"title--wdashfty78"},e.row.name)])}},{title:this.$t("Console.type"),key:"type",width:180,render:function(e,a){var n=["",t.$t("Console.project"),t.$t("Console.model"),t.$t("Console.dataset"),t.$t("Console.drillModel")],s=a.row.type;return e("span",n[s])}},{title:this.$t("Console.size"),key:"size",width:180,render:function(t,e){var a=e.row.size;return t("span",o["a"].getfGMK(a))}},{title:this.$t("Console.delTime"),key:"createTime",width:180,render:function(t,e){return t("span",o["a"].ft("Y-M-D h:m",e.row.createTime))}},{title:" ",width:150,align:"center",render:function(e,a){return[e("span",{class:"handle--btn restore-btn",on:{click:function(){t.handleRestore(a.row.id)}}},t.$t("Console.recover")),e("span",{class:"handle--btn empty-btn",on:{click:function(){t.handleClear(a.row.id)}}},t.$t("Console.empty"))]}}],tableData:[]}},methods:{reqList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,e=c["a"].recycledList,a={pageNum:this.curPage,pageSize:this.pageSize},t.next=5,this.$axios.post(e,a);case 5:if(n=t.sent,this.tbLoad1=!1,200!==n.data.code){t.next=14;break}if(s=n.data.payload||[],Object.keys(s).length){t.next=11;break}return t.abrupt("return");case 11:this.curPage=s.pageNum,this.dTotal=s.total,this.tableData=s.list;case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.curPage=t,o["a"].setStore("recycled.curPage",t),this.reqList()},handleRestore:o["a"].debounce(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].restorePro,{id:e});case 2:a=t.sent,200===a.data.code?(this.$Message.success(this.$t("Console.restored")),this.reqList()):this.$Message.error(a.data.message);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_dealy||300),handleRmAll:function(){var t=confirm(this.$t("Console.emptyConfm")),e=this.tableData.map(function(t){return t.id}).join(",");t&&this.reqRmItems(e)},handleClear:function(t){this.reqRmItems(t)},reqRmItems:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=c["a"].clearRecycledProject,t.next=3,this.$axios.post(a,{ids:e});case 3:n=t.sent,200===n.data.code?(this.$Message.success(this.$t("Console.deleted")),this.reqList()):this.$Message.error(n.data.message);case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),UP_JSON:function(){}},created:function(){this.curPage=+o["a"].getStore("recycled.curPage")||1,this.reqList()}}),G=B,J=(a("2d78"),a("0197"),Object(d["a"])(G,K,X,!1,null,"bd524f80",null)),H=J.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap msg-m-xs"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我的收藏"}},[t._v(" "+t._s(t.$t("Console.myFavorites"))+" ")]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.dTotal))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns2,data:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.dTotal,current:t.curPage,"page-size":t.pageSize},on:{"on-change":t.changePage}})],1)],1)},Q=[],Z={name:"Collect",data:function(){var t=this;return{curPage:1,pageSize:10,tbLoad1:!1,dTotal:0,columns2:[{title:this.$t("Console.name"),key:"documentTitle",minWidth:180,render:function(e,a){var n=a.row,s=-1===n.type?n.documentTitle:n.title;return e("div",{class:"title-wrap-8x"},[e("span",{class:{"title-tag":!0,"b-red":1===a.row.status}},""),e("span",{class:"title--wdashfty74",on:{click:function(){t.handleToDoc(n.documentId,n.type)}}},s)])}},{title:this.$t("Console.source"),key:"documentDir",minWidth:180,render:function(e,a){return-1===a.row.type?e("span",a.row.documentDir):e("span",t.$t("Console.activities"))}},{title:" ",width:150,align:"center",render:function(e,a){return e("span",{class:"handle--btn restore-btn",on:{click:function(){t.handleRemove(a.row.documentId,a.row.type)}}},t.$t("Console.favoritesCanceled"))}}],tableData:[]}},methods:{reqList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,e=c["a"].userCollectList,a={pageNum:this.curPage,pageSize:this.pageSize},t.next=5,this.$axios.post(e,a);case 5:if(n=t.sent,this.tbLoad1=!1,200!=n.data.code){t.next=14;break}if(s=n.data.payload||[],Object.keys(s).length){t.next=11;break}return t.abrupt("return");case 11:this.curPage=s.pageNum,this.dTotal=s.total,this.tableData=s.list;case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.curPage=t,o["a"].setStore("collect.curPage",t),this.reqList()},handleRemove:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].cancelCollect,{documentId:e,type:a});case 2:n=t.sent,200===n.data.code?(this.$Message.success(this.$t("Console.canceled")),this.reqList()):this.$Message.error(n.data.message);case 4:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleToDoc:function(t,e){-1===e?this.$router.push({path:"/help-detail/"+t}):this.$router.push({name:"Activity",params:{id:t}})}},created:function(){this.curPage=+o["a"].getStore("collect.curPage")||1,this.reqList()}},tt=Z,et=(a("1179"),a("8e4e"),Object(d["a"])(tt,Y,Q,!1,null,"7351ecb8",null)),at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"head"},[a("span",{staticClass:"back-btn",attrs:{cnkr:"返回"},on:{click:t.handleBack}},[t._v(t._s(t.isEn?"Back":"返回"))])]),a("div",{staticClass:"content-ux"},[a("h1",{staticClass:"h1t"},[t._v(t._s(t.caption))]),a("h2",{staticClass:"desc_qs"},[t._v(t._s(t.getftTime))]),a("div",{staticClass:"notic-content-m",domProps:{innerHTML:t._s(t.msgContent)}})])])},st=[],rt={name:"MessageDetail",data:function(){return{msgContent:"",caption:"",stime:0,isEn:o["a"].isEn()}},methods:{getMassegeData:function(){var t=this,e=this.$route.query.id,a=this.$store.state.userMsgList;a.forEach(function(a){a.id===e&&(t.stime=a.createTime,t.caption=a.messageTitle,t.msgContent=a.messageBody)})},handleBack:function(){this.$router.push({query:{}}),this.$parent.currentView="Message"}},computed:{getftTime:function(){return o["a"].ft("Y-M-D h:m",this.stime)}},created:function(){this.getMassegeData()}},it=rt,ot=(a("3008"),Object(d["a"])(it,nt,st,!1,null,"efde7cbe",null)),ct=ot.exports,ut=(a("4328"),a("bc3a")),lt=a.n(ut),pt={name:"Console",components:{Overview:m,Project:x,Message:A,MessageDetail:ct,Recycled:H,Collect:at,Dataset:L,Model:E},data:function(){return{utils:o["a"],userSpaceTotal:30*Math.pow(1024,3),upOnceMaximumLimit:2*Math.pow(1024,3)*789,ipfsTemp:null,curUptype:-1,showUpListLay:!1,upListLoading:!1,upingDomLimit:100,upDoneDomLimit:60,upingDomLimitS:0,upDoneLimitS:0,projectSize:0,fileHash:"",tabsData:{Overview:{label:"工作台"}},isUpTab2:!1,showXinpanInitTipModal:!1,consRoutes:[{name:"Overview",label:this.$t("Console.Workbench"),active:!0,data:null},{name:"Project",label:this.$t("Console.project")},{name:"Model",label:this.$t("Console.model")},{name:"Dataset",label:this.$t("Console.dataset")},{name:"Collect",label:this.$t("Console.favorites")},{name:"Message",label:this.$t("Console.Message")},{name:"Recycled",label:this.$t("Console.recycleBin")}],currentView:"Overview"}},methods:{init:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$store.state.console_child_component,this.changeView(e),this.reqUnReadMsgCount(),this.reqGetUserConfig(),t.next=6,this.$store.dispatch("getUserInfo");case 6:this.mkdirs("/".concat(this.workspace));case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changeView:function(t){t&&"Console"!==t||(t="Overview"),this.currentView=t,this.$store.commit("set_console_child_component",t),this.consRoutes.forEach(function(e){e.active=!1,e.name==t&&(e.active=!0)})},reqUnReadMsgCount:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].userUnreadMsgCount);case 2:e=t.sent,200===e.data.code&&(a=e.data.payload||0,this.$store.commit("set_user_unread_msg_count",a));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),joinData:function(t,e){this.consRoutes.forEach(function(a){a.name==t&&(a.data=e)})},mkdirs:function(t){return this.$ipfs.files.mkdir(t,{parents:!0})},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},upProject:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$store.commit("show_read_file_loading",!1),this.isUpTab2=!1,this.showUpListLay=!0,this.upListLoading=!1,this.upingDomLimitS=this.upingDomLimit,this.upDoneLimitS=this.upDoneDomLimit,this.$store.commit("set_cur_canup_status",!1),this.$store.commit("set_up_tip_bar",!0),this.$store.commit("empty_updone_list"),e=Array.from(e,function(t){return t.rid=o["a"].getRandStr(10),t.loaded=0,t.upState=8,t}),this.$store.commit("set_uping_list",e),this.ipfsTemp=this.$ipfsUp.addDirectory(e,{progress:function(t,e,a){if(t){var s=[],r=!0,i=!1,o=void 0;try{for(var c,u=function(){var t=c.value;s=n.upingList.map(function(e){return e.rid===t.rid&&(8!==e.upState&&2!==e.upState||(e.upState=0),e.loaded=t.loaded),e})},l=t[Symbol.iterator]();!(r=(c=l.next()).done);r=!0)u()}catch(p){i=!0,o=p}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}n.changeUpingListStatus(s)}},hasUpload:function(t,e,a){n.manageUpingList(n.upingList),1===t.upState&&n.$store.commit("set_updone_list",t)}},function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(a,s){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a&&(console.log("Err5::",a),n.$Message.error("上传失败")),!(s||{}).Hash||n.upingList.length){t.next=20;break}return n.fileHash=s.Hash,n.projectSize=s.Size,t.prev=4,t.next=7,n.copyFileToWorkSpace(s.Hash,s.Size);case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t["catch"](4),alert(n.$t("Console.parsingDirectoryError")),o["a"].pushCnzz("解析目录失败",n.vuex_userId,n.vuex_phone),t.abrupt("return");case 14:return t.next=16,lt()({method:"get",baseURL:"",timeout:5e3,url:c["a"].ipfsGetServersGeoCode});case 16:r=t.sent,n.$store.commit("set_geo_code",r.headers["geo-code"]||null),n.setUpDoneView(e),n.reqUpFileInfo();case 20:n.$store.commit("set_cur_canup_status",!0),n.upListLoading=!1,n.checkMoreData(),console.log("result::",s);case 24:case"end":return t.stop()}},t,null,[[4,9]])}));return function(e,a){return t.apply(this,arguments)}}());case 12:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),upFileXs:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n,s,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.length){t.next=2;break}return t.abrupt("return");case 2:return this.curUptype=a,this.$store.commit("show_read_file_loading",!0),n=e[0]?e[0].webkitRelativePath.match(/^[^\/]+/)[0]:"",this.$store.commit("set_prefix",o["a"].getRandStr(10)),s=Array.from(e,function(t){return t.size}).reduce(function(t,e){return t+e},0),r="/".concat(this.workspace),"".concat(r,"/").concat(this.prefix,"-").concat(n),t.next=11,this.getUsedSpace(r);case 11:if(i=t.sent,!(s>this.upOnceMaximumLimit)){t.next=15;break}return this.$store.commit("show_read_file_loading",!1),t.abrupt("return",this.$Message.error("".concat(this.$t("Console.uploadRestrictions")).concat(o["a"].getfGMK(this.upOnceMaximumLimit))));case 15:if(!(i+s>this.userSpaceTotal)){t.next=18;break}return this.$store.commit("show_read_file_loading",!1),t.abrupt("return",this.$Message.error(this.$t("Console.spaceUnEnoughTip")));case 18:if(this.workspace){t.next=22;break}return this.$store.commit("show_read_file_loading",!1),this.$Message.error(this.$t("Console.workspaceNotFound")),t.abrupt("return");case 22:this.$store.commit("set_project_name",n),this.upProject(e,s);case 24:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),copyFileToWorkSpace:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var n,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return console.error(this.$t("Console.hashNotFound")),t.abrupt("return");case 3:return t.next=5,this.getUsedSpace("/".concat(this.workspace));case 5:if(n=t.sent,!(n+a>this.userSpaceTotal)){t.next=9;break}return o["a"].pushCnzz("磁盘空间不足",this.vuex_userId),t.abrupt("return",this.$Message.error(this.$t("Console.spaceUnEnoughTip")));case 9:return s="",r=this.curUptype,1===r?s="ws-dataset/":2===r&&(s="ws-model/"),t.abrupt("return",this.$ipfs.files.cp("/ipfs/".concat(e),"/".concat(this.workspace,"/").concat(s).concat(this.prefix,"-").concat(this.projectName)));case 13:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),reqUpFileInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.curUptype>-1?c["a"].createData:c["a"].createTask,a={filePrefixIdentify:this.prefix,trainWay:this.frameSltVal,neuralNetworkType:this.networkType},n={projectName:this.projectName,projectSize:this.projectSize,fileHash:this.fileHash,projectDesc:this.describe,geoCode:this.geoCode},s={dataType:this.curUptype,dataSetType:this.datasetTypeVal,dataHash:this.fileHash,dataName:this.projectName,fileSize:this.projectSize,note:this.describe},a=this.curUptype>-1?Object.assign(a,s):Object.assign(a,n),t.next=7,this.$axios.post(e,a);case 7:r=t.sent,200===r.data.code?(this.$store.commit("set_cur_canup_status",!0),this.$Message.success(this.$t("Console.uploadSuccess")),this.upListLoading=!1,this.$refs.project_s.getProjectList()):alert(r.data.message);case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getUsedSpace:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getIpfsProjectInfo(e);case 3:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(e){return t.apply(this,arguments)}return e}(),showUpAgain:function(){this.$store.commit("show_up_again",!0)},handleUpAgain:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.ipfsTemp.retry(e);case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),handleCloseUpLay:function(){this.showUpListLay=!1},changeUpTab:function(t){this.isUpTab2=2===t},getCurUpProgress:function(t,e,a){if(1===a)return"120px 0 0 0 #389cfa inset";var n=Math.min(t,e)/e*120;return"".concat(n,"px 0 0 0 #389cfa inset")},getCurUpProgressPercent:function(t,e,a){if(!o["a"].isNumber(t)||!o["a"].isNumber(t))return"0%";if(1===a)return"100%";var n=Math.min(t,e)/e*100;return n=o["a"].round(n,0),"".concat(n,"%")},getUpState:function(t){var e={0:this.$t("Console.uploadStatus0"),1:this.$t("Console.uploadStatus1"),2:this.$t("Console.uploadStatus2"),8:this.$t("Console.uploadStatus8")};return e[t]},changeUpingListStatus:function(t){this.$store.commit("set_uping_list",t)},manageUpingList:function(t){var e=t.filter(function(t){return 1!==t.upState});this.$store.commit("set_uping_list",e),this.isAllUpSuccess&&(this.isUpTab2=!0,this.upListLoading=!0)},setUpDoneView:function(t){this.$store.commit("set_uping_list",[]),this.upDoneList.length||this.$store.commit("set_updone_list",t),this.isUpTab2=!0},checkMoreData:function(){var t=this,e=this.$refs.ref_up_done;e.addEventListener("scroll",function(e){var a=e.target.clientHeight,n=e.target.scrollTop,s=e.target.scrollHeight;a+n===s&&(t.upDoneLimitS=Math.min(t.upDoneLimitS+10,t.upDoneList.length))})},handleXinPanTipOk:function(){this.showXinpanInitTipModal=!1,this.reqXinPanInitConfirm()},reqXinPanInitConfirm:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=c["a"].updateUserConfig,a={name:"newRegister",value:2},t.next=4,this.$axios.post(e,a);case 4:if(n=t.sent,200!==n.data.code){t.next=7;break}return t.abrupt("return");case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),reqGetUserConfig:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=c["a"].findUserConfig,t.next=3,this.$axios.post(e);case 3:if(a=t.sent,200!==a.data.code){t.next=10;break}if(n=a.data.payload||[],Object.keys(n).length){t.next=8;break}return t.abrupt("return");case 8:this.showXinpanInitTipModal=1==n.newRegister&&!o["a"].isEn(),this.reqXinPanInitConfirm();case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},computed:Object(r["a"])({},Object(w["c"])({geoCode:function(t){return t.geoCode},uploadListLay:function(t){return t.ups.uploadListLay},canUpload:function(t){return t.ups.canUpload},upingList:function(t){return t.ups.upingList},upErrList:function(t){return t.ups.upErrList},upDoneList:function(t){return t.ups.upDoneList},isShowUpAgain:function(t){return t.ups.showUpAgain},getUnReadMsgCount:function(t){return t.userUnreadMsgCount},projectName:function(t){return t.projectName},workspace:function(t){return t.userInfo.workspace},prefix:function(t){return t.prefix},frameSltVal:function(t){return t.frameSltVal},networkType:function(t){return t.networkType},datasetTypeVal:function(t){return t.datasetTypeVal},describe:function(t){return t.describe},showUpTipBar:function(t){return t.ups.showUpTipBar},showReadFileLoading:function(t){return t.showReadFileLoading},vuex_userId:function(t){return t.userInfo.id},vuex_phone:function(t){return t.userInfo.phone}}),Object(w["b"])({isAllUpSuccess:"isAllUpSuccess"}),{upingList_less:function(){var t=this;return this.upingList.filter(function(e,a){return a<t.upingDomLimitS})},upDoneList_less:function(){var t=this;return this.upDoneList.filter(function(e,a){return a<t.upDoneLimitS})},showAgainUpBtn:function(){return this.upingList.length&&this.upingList.every(function(t){return 2===t.upState})}}),watch:{"$store.state.console_child_component":function(t){this.changeView(t)}},mounted:function(){this.init()},created:function(){this.showUpTipBar&&location.reload()}},ht=pt,dt=(a("4c75"),a("41ff"),Object(d["a"])(ht,n,s,!1,null,"7fd7207a",null));e["default"]=dt.exports},"36bd":function(t,e,a){"use strict";var n=a("4bf8"),s=a("77f1"),r=a("9def");t.exports=function(t){var e=n(this),a=r(e.length),i=arguments.length,o=s(i>1?arguments[1]:void 0,a),c=i>2?arguments[2]:void 0,u=void 0===c?a:s(c,a);while(u>o)e[o++]=t;return e}},"37c8":function(t,e,a){e.f=a("2b4c")},"3a72":function(t,e,a){var n=a("7726"),s=a("8378"),r=a("2d00"),i=a("37c8"),o=a("86cc").f;t.exports=function(t){var e=s.Symbol||(s.Symbol=r?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:i.f(t)})}},"3a74":function(t,e,a){},"3f18":function(t,e,a){},"41ff":function(t,e,a){"use strict";var n=a("3f18"),s=a.n(n);s.a},"47ee":function(t,e,a){var n=a("c3a1"),s=a("9aa9"),r=a("355d");t.exports=function(t){var e=n(t),a=s.f;if(a){var i,o=a(t),c=r.f,u=0;while(o.length>u)c.call(t,i=o[u++])&&e.push(i)}return e}},"49fa":function(t,e,a){"use strict";var n=a("896f"),s=a.n(n);s.a},"4c75":function(t,e,a){"use strict";var n=a("8428"),s=a.n(n);s.a},"4fa7":function(t,e,a){},"53d5":function(t,e,a){},6718:function(t,e,a){var n=a("e53d"),s=a("584a"),r=a("b8e3"),i=a("ccb9"),o=a("d9f6").f;t.exports=function(t){var e=s.Symbol||(s.Symbol=r?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:i.f(t)})}},"67ab":function(t,e,a){var n=a("ca5a")("meta"),s=a("d3f4"),r=a("69a8"),i=a("86cc").f,o=0,c=Object.isExtensible||function(){return!0},u=!a("79e5")(function(){return c(Object.preventExtensions({}))}),l=function(t){i(t,n,{value:{i:"O"+ ++o,w:{}}})},p=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[n].i},h=function(t,e){if(!r(t,n)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[n].w},d=function(t){return u&&f.NEED&&c(t)&&!r(t,n)&&l(t),t},f=t.exports={KEY:n,NEED:!1,fastKey:p,getWeak:h,onFreeze:d}},"6abf":function(t,e,a){var n=a("e6f3"),s=a("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},"6c7b":function(t,e,a){var n=a("5ca1");n(n.P,"Array",{fill:a("36bd")}),a("9c6c")("fill")},"77c9":function(t,e,a){},"7bbc":function(t,e,a){var n=a("6821"),s=a("9093").f,r={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return s(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==r.call(t)?o(t):s(n(t))}},"7cc5":function(t,e,a){},"7e49":function(t,e,a){"use strict";var n=a("174c"),s=a.n(n);s.a},8428:function(t,e,a){},"896f":function(t,e,a){},"8a81":function(t,e,a){"use strict";var n=a("7726"),s=a("69a8"),r=a("9e1e"),i=a("5ca1"),o=a("2aba"),c=a("67ab").KEY,u=a("79e5"),l=a("5537"),p=a("7f20"),h=a("ca5a"),d=a("2b4c"),f=a("37c8"),m=a("3a72"),v=a("d4c0"),g=a("1169"),b=a("cb7c"),w=a("d3f4"),y=a("4bf8"),$=a("6821"),k=a("6a99"),_=a("4630"),x=a("2aeb"),C=a("7bbc"),j=a("11e9"),S=a("2621"),P=a("86cc"),O=a("0d58"),T=j.f,L=P.f,U=C.f,R=n.Symbol,M=n.JSON,N=M&&M.stringify,D="prototype",z=d("_hidden"),E=d("toPrimitive"),q={}.propertyIsEnumerable,I=l("symbol-registry"),F=l("symbols"),V=l("op-symbols"),W=Object[D],A="function"==typeof R&&!!S.f,K=n.QObject,X=!K||!K[D]||!K[D].findChild,B=r&&u(function(){return 7!=x(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,a){var n=T(W,e);n&&delete W[e],L(t,e,a),n&&t!==W&&L(W,e,n)}:L,G=function(t){var e=F[t]=x(R[D]);return e._k=t,e},J=A&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},H=function(t,e,a){return t===W&&H(V,e,a),b(t),e=k(e,!0),b(a),s(F,e)?(a.enumerable?(s(t,z)&&t[z][e]&&(t[z][e]=!1),a=x(a,{enumerable:_(0,!1)})):(s(t,z)||L(t,z,_(1,{})),t[z][e]=!0),B(t,e,a)):L(t,e,a)},Y=function(t,e){b(t);var a,n=v(e=$(e)),s=0,r=n.length;while(r>s)H(t,a=n[s++],e[a]);return t},Q=function(t,e){return void 0===e?x(t):Y(x(t),e)},Z=function(t){var e=q.call(this,t=k(t,!0));return!(this===W&&s(F,t)&&!s(V,t))&&(!(e||!s(this,t)||!s(F,t)||s(this,z)&&this[z][t])||e)},tt=function(t,e){if(t=$(t),e=k(e,!0),t!==W||!s(F,e)||s(V,e)){var a=T(t,e);return!a||!s(F,e)||s(t,z)&&t[z][e]||(a.enumerable=!0),a}},et=function(t){var e,a=U($(t)),n=[],r=0;while(a.length>r)s(F,e=a[r++])||e==z||e==c||n.push(e);return n},at=function(t){var e,a=t===W,n=U(a?V:$(t)),r=[],i=0;while(n.length>i)!s(F,e=n[i++])||a&&!s(W,e)||r.push(F[e]);return r};A||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(a){this===W&&e.call(V,a),s(this,z)&&s(this[z],t)&&(this[z][t]=!1),B(this,t,_(1,a))};return r&&X&&B(W,t,{configurable:!0,set:e}),G(t)},o(R[D],"toString",function(){return this._k}),j.f=tt,P.f=H,a("9093").f=C.f=et,a("52a7").f=Z,S.f=at,r&&!a("2d00")&&o(W,"propertyIsEnumerable",Z,!0),f.f=function(t){return G(d(t))}),i(i.G+i.W+i.F*!A,{Symbol:R});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),st=0;nt.length>st;)d(nt[st++]);for(var rt=O(d.store),it=0;rt.length>it;)m(rt[it++]);i(i.S+i.F*!A,"Symbol",{for:function(t){return s(I,t+="")?I[t]:I[t]=R(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in I)if(I[e]===t)return e},useSetter:function(){X=!0},useSimple:function(){X=!1}}),i(i.S+i.F*!A,"Object",{create:Q,defineProperty:H,defineProperties:Y,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:at});var ot=u(function(){S.f(1)});i(i.S+i.F*ot,"Object",{getOwnPropertySymbols:function(t){return S.f(y(t))}}),M&&i(i.S+i.F*(!A||u(function(){var t=R();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){var e,a,n=[t],s=1;while(arguments.length>s)n.push(arguments[s++]);if(a=e=n[1],(w(e)||void 0!==t)&&!J(t))return g(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!J(e))return e}),n[1]=e,N.apply(M,n)}}),R[D][E]||a("32e9")(R[D],E,R[D].valueOf),p(R,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},"8aae":function(t,e,a){a("32a6"),t.exports=a("584a").Object.keys},"8e4e":function(t,e,a){"use strict";var n=a("4fa7"),s=a.n(n);s.a},9003:function(t,e,a){var n=a("6b4c");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},a25e:function(t,e,a){"use strict";var n=a("7cc5"),s=a.n(n);s.a},a4bb:function(t,e,a){t.exports=a("8aae")},ac4d:function(t,e,a){a("3a72")("asyncIterator")},af70:function(t,e,a){},bf0b8:function(t,e,a){var n=a("355d"),s=a("aebd"),r=a("36c3"),i=a("1bc3"),o=a("07e3"),c=a("794b"),u=Object.getOwnPropertyDescriptor;e.f=a("8e60")?u:function(t,e){if(t=r(t),e=i(e,!0),c)try{return u(t,e)}catch(a){}if(o(t,e))return s(!n.f.call(t,e),t[e])}},bf90:function(t,e,a){var n=a("36c3"),s=a("bf0b8").f;a("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return s(n(t),e)}})},ccb9:function(t,e,a){e.f=a("5168")},ce7e:function(t,e,a){var n=a("63b6"),s=a("584a"),r=a("294c");t.exports=function(t,e){var a=(s.Object||{})[t]||Object[t],i={};i[t]=e(a),n(n.S+n.F*r(function(){a(1)}),"Object",i)}},cebc:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var n=a("268f"),s=a.n(n),r=a("e265"),i=a.n(r),o=a("a4bb"),c=a.n(o),u=a("bd86");function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=c()(a);"function"===typeof i.a&&(n=n.concat(i()(a).filter(function(t){return s()(a,t).enumerable}))),n.forEach(function(e){Object(u["a"])(t,e,a[e])})}return t}},cf1d:function(t,e,a){},d27b:function(t,e,a){"use strict";var n=a("e0e3"),s=a.n(n);s.a},d4c0:function(t,e,a){var n=a("0d58"),s=a("2621"),r=a("52a7");t.exports=function(t){var e=n(t),a=s.f;if(a){var i,o=a(t),c=r.f,u=0;while(o.length>u)c.call(t,i=o[u++])&&e.push(i)}return e}},e0e3:function(t,e,a){},e265:function(t,e,a){t.exports=a("ed33")},ebfd:function(t,e,a){var n=a("62a0")("meta"),s=a("f772"),r=a("07e3"),i=a("d9f6").f,o=0,c=Object.isExtensible||function(){return!0},u=!a("294c")(function(){return c(Object.preventExtensions({}))}),l=function(t){i(t,n,{value:{i:"O"+ ++o,w:{}}})},p=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[n].i},h=function(t,e){if(!r(t,n)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[n].w},d=function(t){return u&&f.NEED&&c(t)&&!r(t,n)&&l(t),t},f=t.exports={KEY:n,NEED:!1,fastKey:p,getWeak:h,onFreeze:d}},ed33:function(t,e,a){a("014b"),t.exports=a("584a").Object.getOwnPropertySymbols},fde4:function(t,e,a){a("bf90");var n=a("584a").Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}}}]);