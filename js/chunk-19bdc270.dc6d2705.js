(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19bdc270"],{"014b":function(t,e,a){"use strict";var s=a("e53d"),n=a("07e3"),r=a("8e60"),i=a("63b6"),o=a("9138"),c=a("ebfd").KEY,l=a("294c"),u=a("dbdb"),p=a("45f2"),h=a("62a0"),d=a("5168"),f=a("ccb9"),m=a("6718"),v=a("47ee"),g=a("9003"),b=a("e4ae"),w=a("f772"),y=a("241e"),$=a("36c3"),C=a("1bc3"),_=a("aebd"),k=a("a159"),x=a("0395"),j=a("bf0b8"),S=a("9aa9"),T=a("d9f6"),P=a("c3a1"),L=j.f,O=T.f,N=x.f,M=s.Symbol,D=s.JSON,U=D&&D.stringify,R="prototype",z=d("_hidden"),E=d("toPrimitive"),q={}.propertyIsEnumerable,I=u("symbol-registry"),F=u("symbols"),V=u("op-symbols"),B=Object[R],W="function"==typeof M&&!!S.f,H=s.QObject,A=!H||!H[R]||!H[R].findChild,K=r&&l(function(){return 7!=k(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,a){var s=L(B,e);s&&delete B[e],O(t,e,a),s&&t!==B&&O(B,e,s)}:O,G=function(t){var e=F[t]=k(M[R]);return e._k=t,e},X=W&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},J=function(t,e,a){return t===B&&J(V,e,a),b(t),e=C(e,!0),b(a),n(F,e)?(a.enumerable?(n(t,z)&&t[z][e]&&(t[z][e]=!1),a=k(a,{enumerable:_(0,!1)})):(n(t,z)||O(t,z,_(1,{})),t[z][e]=!0),K(t,e,a)):O(t,e,a)},Y=function(t,e){b(t);var a,s=v(e=$(e)),n=0,r=s.length;while(r>n)J(t,a=s[n++],e[a]);return t},Q=function(t,e){return void 0===e?k(t):Y(k(t),e)},Z=function(t){var e=q.call(this,t=C(t,!0));return!(this===B&&n(F,t)&&!n(V,t))&&(!(e||!n(this,t)||!n(F,t)||n(this,z)&&this[z][t])||e)},tt=function(t,e){if(t=$(t),e=C(e,!0),t!==B||!n(F,e)||n(V,e)){var a=L(t,e);return!a||!n(F,e)||n(t,z)&&t[z][e]||(a.enumerable=!0),a}},et=function(t){var e,a=N($(t)),s=[],r=0;while(a.length>r)n(F,e=a[r++])||e==z||e==c||s.push(e);return s},at=function(t){var e,a=t===B,s=N(a?V:$(t)),r=[],i=0;while(s.length>i)!n(F,e=s[i++])||a&&!n(B,e)||r.push(F[e]);return r};W||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(a){this===B&&e.call(V,a),n(this,z)&&n(this[z],t)&&(this[z][t]=!1),K(this,t,_(1,a))};return r&&A&&K(B,t,{configurable:!0,set:e}),G(t)},o(M[R],"toString",function(){return this._k}),j.f=tt,T.f=J,a("6abf").f=x.f=et,a("355d").f=Z,S.f=at,r&&!a("b8e3")&&o(B,"propertyIsEnumerable",Z,!0),f.f=function(t){return G(d(t))}),i(i.G+i.W+i.F*!W,{Symbol:M});for(var st="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;st.length>nt;)d(st[nt++]);for(var rt=P(d.store),it=0;rt.length>it;)m(rt[it++]);i(i.S+i.F*!W,"Symbol",{for:function(t){return n(I,t+="")?I[t]:I[t]=M(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in I)if(I[e]===t)return e},useSetter:function(){A=!0},useSimple:function(){A=!1}}),i(i.S+i.F*!W,"Object",{create:Q,defineProperty:J,defineProperties:Y,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:at});var ot=l(function(){S.f(1)});i(i.S+i.F*ot,"Object",{getOwnPropertySymbols:function(t){return S.f(y(t))}}),D&&i(i.S+i.F*(!W||l(function(){var t=M();return"[null]"!=U([t])||"{}"!=U({a:t})||"{}"!=U(Object(t))})),"JSON",{stringify:function(t){var e,a,s=[t],n=1;while(arguments.length>n)s.push(arguments[n++]);if(a=e=s[1],(w(e)||void 0!==t)&&!X(t))return g(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!X(e))return e}),s[1]=e,U.apply(D,s)}}),M[R][E]||a("35e8")(M[R],E,M[R].valueOf),p(M,"Symbol"),p(Math,"Math",!0),p(s.JSON,"JSON",!0)},"0197":function(t,e,a){"use strict";var s=a("53d5"),n=a.n(s);n.a},"0395":function(t,e,a){var s=a("36c3"),n=a("6abf").f,r={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return n(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==r.call(t)?o(t):n(s(t))}},"182d":function(t,e,a){"use strict";var s=a("75f4"),n=a.n(s);n.a},"24c2":function(t,e,a){"use strict";var s=a("d8d8"),n=a.n(s);n.a},"268f":function(t,e,a){t.exports=a("fde4")},3008:function(t,e,a){"use strict";var s=a("cf1d"),n=a.n(s);n.a},"32a6":function(t,e,a){var s=a("241e"),n=a("c3a1");a("ce7e")("keys",function(){return function(t){return n(s(t))}})},"33c3":function(t,e,a){"use strict";var s=a("9f4e"),n=a.n(s);n.a},"34f2":function(t,e,a){},"355d":function(t,e){e.f={}.propertyIsEnumerable},3688:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main view-zps",class:{"g-loading2":t.showReadFileLoading},attrs:{"load-tip":t.$t("Console.readFilex")}},[a("div",{staticClass:"sidebar"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"tit",attrs:{cnrk:"我的工作台"}},[t._v(t._s(t.$t("Console.myWorkbench")))]),t._l(t.consRoutes,function(e,s){return a("div",{key:s,staticClass:"router-bar",class:{active:e.active},on:{click:function(a){return t.changeView(e.name)}}},[a("span",{staticClass:"name"},[t._v(t._s(e.label))]),a("span",{directives:[{name:"show",rawName:"v-show",value:"Message"===e.name&&t.getUnReadMsgCount>0,expression:"rt.name === 'Message' && getUnReadMsgCount > 0"}],staticClass:"tip"},[t._v(t._s(t.getUnReadMsgCount))])])})],2)]),a("div",{staticClass:"content-wrapper"},[a(t.currentView,{ref:"project_s",tag:"component",staticClass:"content-rv"})],1),a("Modal",{staticClass:"up-lay5",attrs:{width:"580",draggable:"",cnrk:"t:上传列表",title:t.$t("Console.uploadList"),closable:!0,"footer-hide":""},model:{value:t.showUpListLay,callback:function(e){t.showUpListLay=e},expression:"showUpListLay"}},[a("div",{staticClass:"uplay-inner",class:{tab2:t.isUpTab2,"g-loading2":t.upListLoading},attrs:{"load-tip":t.$t("Console.parsingDirectory"),cnrk:"l:正在解析目录.."}},[a("Row",{staticClass:"row-iny",attrs:{type:"flex",justify:"center"}},[a("Col",{staticClass:"c-tab c-tab1",attrs:{span:"12",cnrk:"正在上传"},nativeOn:{click:function(e){return t.changeUpTab(1)}}},[t._v(t._s(t.$t("Console.uploading"))+" ("+t._s(t.upingList.length)+")")]),a("Col",{staticClass:"c-tab c-tab2",attrs:{span:"12",cnrk:"已完成"},nativeOn:{click:function(e){return t.changeUpTab(2)}}},[t._v(t._s(t.$t("Console.uploaded"))+" ("+t._s(t.upDoneList.length)+")")])],1),a("div",{staticClass:"uping-dbox"},[a("ul",{staticClass:"u-up-m u-up-ing"},[a("li",{staticClass:"la"},[a("p",{staticClass:"pr p-file",attrs:{cnrk:"文件名"}},[t._v(t._s(t.$t("Console.fileName")))]),a("p",{staticClass:"pr p-size",attrs:{cnrk:"大小"}},[t._v(t._s(t.$t("Console.size1")))]),a("p",{staticClass:"pr pjd",attrs:{cnrk:"进度"}},[t._v(t._s(t.$t("Console.progress")))]),a("p",{staticClass:"pr p-state",attrs:{cnrk:"状态"}},[t._v(t._s(t.$t("Console.status")))])]),t._l(t.upingList_less,function(e){return a("li",{key:e.rid,staticClass:"la",class:{err:2===e.upState}},[a("p",{staticClass:"pr p-file"},[t._v(t._s(e.name))]),a("p",{staticClass:"pr p-size"},[t._v(t._s(t.utils.getfGMK(e.size)))]),a("p",{staticClass:"pr pjd p-jindu",style:"box-shadow:"+t.getCurUpProgress(e.loaded,e.size,e.upState),attrs:{"data-percent":t.getCurUpProgressPercent(e.loaded,e.size,e.upState)}}),a("p",{staticClass:"pr p-state p-stx",attrs:{title:t.getUpState(e.upState)}},[t._v(t._s(t.getUpState(e.upState)))])])})],2),a("button",{directives:[{name:"show",rawName:"v-show",value:t.showAgainUpBtn,expression:"showAgainUpBtn"}],staticClass:"base-btn2 bg-blue again-up-btn",attrs:{cnrk:"一键重传"},on:{click:function(e){return t.handleUpAgain(t.upingList)}}},[t._v("\n          "+t._s(t.$t("Console.reupload"))+"\n        ")])]),a("div",{staticClass:"updone-dbox"},[a("ul",{ref:"ref_up_done",staticClass:"u-up-m u-up-done"},[a("li",{staticClass:"la"},[a("p",{staticClass:"pr p-file",attrs:{cnrk:"文件名"}},[t._v(t._s(t.$t("Console.fileName")))]),a("p",{staticClass:"pr p-size",attrs:{cnrk:"大小"}},[t._v(t._s(t.$t("Console.size1")))]),a("p",{staticClass:"pr pjd",attrs:{cnrk:"进度"}},[t._v(t._s(t.$t("Console.progress")))]),a("p",{staticClass:"pr p-state",attrs:{cnrk:"状态"}},[t._v(t._s(t.$t("Console.status")))])]),t._l(t.upDoneList_less,function(e){return a("li",{key:e.rid,staticClass:"la"},[a("p",{staticClass:"pr p-file"},[t._v(t._s(e.name))]),a("p",{staticClass:"pr p-size"},[t._v(t._s(t.utils.getfGMK(e.size)))]),a("p",{staticClass:"pr pjd p-jindu jd-done",attrs:{"data-percent":"100%"}}),a("p",{staticClass:"pr p-state",attrs:{title:t.$t("Console.uploaded"),cnrk:"已完成"}},[t._v(t._s(t.$t("Console.uploaded")))])])})],2)])],1)])],1)},n=[],r=a("cebc"),i=(a("4917"),a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("ac6a"),a("96cf"),a("3b8d")),o=a("fa7d"),c=a("4ec3"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"con-overview overview-xza"},[a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq head-x1"},[a("div",{staticClass:"sx-tit"},[a("span",{staticClass:"tit",attrs:{cnrk:"星盘"}},[t._v(t._s(t.$t("Overview.xinpan")))]),t.isEn?a("span",{staticClass:"sy-fr num-tip",attrs:{cnrk:"已使用"}},[t._v(" \n           "+t._s(t.usedSpace_calc)+" "+t._s(t.$t("Overview.usedTxt"))+" / \n          "+t._s(t.utils.getfGMK(t.userTotalSpace))+" \n        ")]):a("span",{staticClass:"sy-fr num-tip",attrs:{cnrk:"已使用"}},[t._v(" "+t._s(t.$t("Overview.usedTxt"))+" "+t._s(t.usedSpace_calc)+" / "+t._s(t.utils.getfGMK(t.userTotalSpace))+" ")])]),a("div",{staticClass:"space-box"},[a("div",{staticClass:"sp-tip",style:t.tipStyle},[t._v(t._s(t.curTipText))]),a("ul",{ref:"nstpx_xs",staticClass:"nstpx-re"},t._l(t.xinpan,function(e,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowJbar(s),expression:"isShowJbar(index)"}],key:s,staticClass:"l-xo",style:"width:"+t.getJindu(e.size),attrs:{"file-name":e.name,"file-size-tip":t.getItemSize(e.size),"raw-size":e.size}})}),0),a("ul",{staticClass:"u-mount"},t._l(t.xinpan,function(e,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowJbar(s),expression:"isShowJbar(index)"}],key:s},[t._v(t._s(e.name))])}),0)])])]),a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq"},[a("span",{staticClass:"tit",attrs:{cnrk:"当前运行的项目数"}},[t._v(t._s(t.$t("Overview.runProjectNum")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total1))])]),a("div",{staticClass:"table-wrapper"},[a("Table",{staticClass:"ovtbz",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns1,data:t.list1}})],1)]),a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq"},[a("span",{staticClass:"tit",attrs:{cnrk:"最近编辑的项目"}},[t._v(t._s(t.$t("Overview.lastEditPro")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total2))])]),a("div",{staticClass:"table-wrapper"},[a("Table",{staticClass:"ovtbz",class:{"g-loading":t.tbLoad2},attrs:{columns:t.columns2,data:t.list2}})],1)]),a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq"},[a("span",{staticClass:"tit",attrs:{cnrk:"推理部署"}},[t._v(t._s(t.$t("Overview.tuiliDep")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total3))])]),a("div",{staticClass:"table-wrapper"},[a("Table",{staticClass:"ovtbz",class:{"g-loading":t.tbLoad2},attrs:{columns:t.columns3,data:t.list3}})],1)])])},u=[],p=(a("456d"),{name:"Overview",data:function(){var t=this;return{utils:o["a"],workspace:"",tbLoad1:!1,tbLoad2:!1,tbLoad3:!1,curTipText:"",tipStyle:{},isEn:o["a"].isEn(),userTotalSpace:30*Math.pow(1024,3),xinpan:[{name:this.$t("Overview.dataset"),cname:"数据集",size:0},{name:this.$t("Overview.project"),cname:"项目",size:0},{name:this.$t("Overview.model"),cname:"模型",size:0},{name:this.$t("Overview.deployModel"),cname:"训练后的模型",size:0},{name:this.$t("Overview.recycle"),cname:"回收站",size:1}],columns1:[{title:this.$t("Overview.projectName"),key:"taskName",minWidth:130,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"P"),t("span",{class:"name"},e.row.taskName)])}},{title:this.$t("Overview.tranStatus"),key:"trainStatus",width:150,render:function(e,a){var s={0:t.$t("Overview.state0"),1:t.$t("Overview.state1"),2:t.$t("Overview.state2"),31:t.$t("Overview.state31"),32:t.$t("Overview.state32"),33:t.$t("Overview.state33"),4:t.$t("Overview.state4"),7:t.$t("Overview.state7")},n=a.row.trainStatus||0,r=s[n];return e("span",r)}},{title:this.$t("Overview.size"),key:"projectSize",width:110,render:function(t,e){var a=e.row.projectSize;return t("span",o["a"].getfGMK(a))}},{title:this.$t("Overview.usedTime"),key:"useDuration",width:120,render:function(t,e){var a=e.row.useDuration;return t("span",o["a"].fMCN(a))}},{title:this.$t("Overview.hasBeenConsume"),key:"payTh",width:150,render:function(t,e){var a=e.row.payTh;return t("span",o["a"].floor(a)||"-")}},{title:" ",key:"action",width:80,render:function(e,a){return e("div",[e("span",{class:"checkx-btn",props:{type:"text"},on:{click:function(){t.handleCheck(a.row.id)}}},t.$t("Overview.check"))])}}],columns2:[{title:this.$t("Overview.projectName"),key:"taskName",minWidth:130,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"P"),t("span",{class:"name"},e.row.taskName)])}},{title:this.$t("Overview.tranStatus"),key:"trainStatus",width:150,render:function(e,a){var s={0:t.$t("Overview.state0"),1:t.$t("Overview.state1"),2:t.$t("Overview.state2"),31:t.$t("Overview.state31"),32:t.$t("Overview.state32"),33:t.$t("Overview.state33"),4:t.$t("Overview.state4"),7:t.$t("Overview.state7")},n=a.row.trainStatus||0,r=s[n];return e("span",r)}},{title:this.$t("Overview.size"),key:"projectSize",width:110,render:function(t,e){var a=e.row.projectSize;return t("span",o["a"].getfGMK(a))}},{title:this.$t("Overview.updateTime"),key:"updateTime",width:150,render:function(t,e){var a=e.row.updateTime;return t("span",o["a"].ft("Y-M-D h:m",a))}},{title:this.$t("Overview.describe"),key:"projectDesc",minWidth:120,render:function(e,a){var s=a.row.id,n=a.row.projectDesc;return e("input",{class:"inp-xtyb",key:s,attrs:{type:"text",maxLength:100,value:n},on:{change:function(){t.handleEditRemark(s,event.target.value)}}})}},{title:this.$t("Overview.curConsume"),key:"payTh",width:130,render:function(t,e){var a=e.row.payTh;return t("span",o["a"].floor(a)||"-")}},{title:" ",key:"action",width:90,render:function(e,a){return e("div",[e("span",{class:"checkx-btn",props:{type:"text"},on:{click:function(){t.handleCheck(a.row.id)}}},t.$t("Overview.check"))])}}],columns3:[{title:this.$t("Overview.deployName"),key:"name",minWidth:130,toolTip:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"I"),t("span",{class:"name"},e.row.name)])}},{title:this.$t("Overview.deployVersion"),key:"version",width:110},{title:this.$t("Overview.deployStatus"),key:"status",width:150,toolTip:!0,render:function(e,a){var s={0:t.$t("Overview.state100"),1:t.$t("Overview.state101"),2:t.$t("Overview.state102"),3:t.$t("Overview.state103")},n=a.row.status||0,r=s[n];return e("span",r)}},{title:this.$t("Overview.updateTime"),key:"createTime",width:150,toolTip:!0,render:function(t,e){var a=e.row.createTime;return t("span",o["a"].ft("Y-M-D h:m",a))}},{title:this.$t("Overview.reqTotal"),key:"reqTotalS",width:150,toolTip:!0,render:function(t,e){var a=o["a"].convertToKW(e.row.successNumber),s=o["a"].convertToKW(e.row.failNumber);return t("span","".concat(a," / ").concat(s))}},{title:" ",key:"action",width:90,toolTip:!0,render:function(e,a){return e("div",[e("span",{class:"checkx-btn",props:{type:"text"},on:{click:function(){t.handleViewDeployDetail(a.row)}}},t.$t("Overview.check"))])}}],list1:[],list2:[],list3:[],total1:0,total2:0,total3:0,myUsedSpace:0}},methods:{init:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.getRuningProject(),this.getLatestProject(),this.reqUsedSpaceInfo(),this.moveMouseShowTip(),this.reqDeployList(),t.next=7,this.$store.dispatch("getUserInfo");case 7:this.workspace=this.$store.state.userInfo.workspace,this.mkdirs("/".concat(this.workspace));case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),reqUsedSpaceInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].getWorkspaceInfo);case 2:if(e=t.sent,200!==e.data.code){t.next=10;break}if(a=e.data.payload||[],Object.keys(a).length){t.next=7;break}return t.abrupt("return");case 7:this.myUsedSpace=a.workspaceSize,s={"数据集":"datasetSize","项目":"projectSize","模型":"modelSize","训练后的模型":"deployModelSize","回收站":"trashSize"},this.xinpan=this.xinpan.map(function(t){for(var e in s)if(e===t.cname){t.size=a[s[e]];break}return t});case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditRemark:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={id:e,projectDesc:a},t.next=3,this.$axios.post(c["a"].updateConfig,s);case 3:n=t.sent,200===n.data.code&&this.$Message.success(this.$t("Overview.saved"));case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getItemSize:function(t){return o["a"].getfGMK(t)},moveMouseShowTip:function(){var t=this,e=this.$refs.nstpx_xs;e.addEventListener("mousemove",function(e){var a=e.clientX,s=e.clientY;if("l-xo"===e.target.className){var n=e.target.getAttribute("file-size-tip"),r=e.target.getAttribute("file-name");t.curTipText="".concat(r,": ").concat(n),t.tipStyle={top:"".concat(s+10,"px"),left:"".concat(a+14,"px"),opacity:1}}else t.tipStyle.opacity=0}),e.addEventListener("mouseleave",function(e){t.tipStyle.opacity=0})},getRuningProject:function(){var t=this;this.tbLoad1=!0;var e=c["a"].getRunningTask,a={pageSize:1e9};this.$axios.post(e,a).then(function(e){if(200===e.data.code){var a=e.data.payload||[];if(!Object.keys(a).length)return;t.tbLoad1=!1,t.list1=a.list,t.total1=a.total}})},getLatestProject:function(){var t=this;this.tbLoad2=!0;var e=c["a"].getLatestEditTask,a={pageSize:1e9};this.$axios.post(e,a).then(function(e){if(200===e.data.code){var a=e.data.payload||[];if(!Object.keys(a).length)return;t.tbLoad2=!1,t.list2=a.list,t.total2=a.total}})},reqDeployList:function(){var t=this;this.tbLoad3=!0;var e=c["a"].findDeployList,a={pageSize:1e9,status:1};this.$axios.post(e,a).then(function(e){if(200===e.data.code){var a=e.data.payload||[];if(!Object.keys(a).length)return;t.tbLoad3=!1,t.list3=a.list,t.total3=a.total}})},handleCheck:function(t){this.$router.push({name:"AiTrain",query:{id:t}})},handleViewDeployDetail:function(t){this.$store.commit("set_deploy_taskid",t.taskId),this.$store.commit("set_deploy_id",t.id),this.$router.push({name:"Deployment",params:{showDeployDetail:!0}})},mkdirs:function(t){var e=this;return new Promise(function(a,s){e.$ipfs.files.mkdir(t,{parents:!0},function(t,e){t?s(t):a(e)})})},getJindu:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 0==t?"0%":100*Math.max(t/this.userTotalSpace,.005)+"%"},isShowJbar:function(t){return this.xinpan[t].size>0}},computed:{usedSpace_calc:function(){return o["a"].getfGMK(this.myUsedSpace)}},mounted:function(){this.init()}}),h=p,d=(a("d34a"),a("2877")),f=Object(d["a"])(h,l,u,!1,null,"675b2189",null),m=f.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-project project-togh"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我创建的"}},[t._v(t._s(t.$t("Project.mySetup")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total))])]),a("div",{staticClass:"r-usx"},[a("p",{staticClass:"uppro-txt",class:{on:t.isUping},attrs:{cnrk:"上传列表"},on:{click:function(e){return t.handleUppro()}}},[t._v(t._s(t.$t("Project.uplist")))]),a("label",{staticClass:"base-btn2 bg-blue lb-up--ye62hsd8d3",attrs:{disabled:!t.canUpload,cnrk:"上传"},on:{click:function(e){return t.handleUpload()}}},[t._v(t._s(t.$t("Project.upload")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoading},attrs:{columns:t.columns1,data:t.projectList},on:{"on-filter-change":function(e){return t.getProjectList()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.projectList.length,expression:"projectList.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.total,"page-size":t.query.pageSize,current:t.query.pageNum},on:{"on-change":t.changePage}})],1),a("Modal",{staticClass:"up-lay2",attrs:{width:"500",draggable:"",title:t.$t("Console.uploadProject"),closable:!0,"footer-hide":""},model:{value:t.upModel,callback:function(e){t.upModel=e},expression:"upModel"}},[a("div",{staticClass:"ups-inner"},[a("Row",{staticClass:"row_xs"},[a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"项目框架"}},[t._v(t._s(t.$t("Project.proFrame")))]),a("Select",{staticClass:"slt",model:{value:t.upt.frameSltVal,callback:function(e){t.$set(t.upt,"frameSltVal",e)},expression:"upt.frameSltVal"}},t._l(t.upt.frameSlt,function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"神经网络类型"}},[t._v(t._s(t.$t("Project.netType")))]),a("Select",{staticClass:"slt",attrs:{span:"6"},model:{value:t.upt.networkType,callback:function(e){t.$set(t.upt,"networkType",e)},expression:"upt.networkType"}},t._l(t.upt.netType,function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1),a("Row",{staticClass:"row_xs row_xs2"},[a("span",{staticClass:"sp1",attrs:{cnrk:"描述"}},[t._v(t._s(t.$t("Project.describe")))]),a("Input",{staticClass:"inp-ms",attrs:{maxlength:15,type:"textarea",autosize:!1,placeholder:t.$t("Project.typeDescContent"),cnrk:"p: 请输入项目描述内容"},model:{value:t.upt.describe,callback:function(e){t.$set(t.upt,"describe",e)},expression:"upt.describe"}})],1),a("div",{staticClass:"row_xs rs-xm"},[a("span",{staticClass:"sp1",attrs:{cnrk:"项目名称"}},[t._v(t._s(t.$t("Project.projectName")))]),a("Input",{staticClass:"inp-mt",attrs:{type:"text",readonly:"",placeholder:t.$t("Project.choicePro"),cnrk:"r: 请选择项目"},model:{value:t.upt.proName,callback:function(e){t.$set(t.upt,"proName",e)},expression:"upt.proName"}}),a("input",{ref:"inpq",attrs:{type:"file",id:"inpx1",webkitdirectory:"",directory:"",hidden:""},on:{change:function(e){return t.upFileXz()}}}),a("label",{staticClass:"base-btn2 bg-blue chs-btn",attrs:{for:"inpx1",cnrk:"选择"}},[t._v(t._s(t.$t("Project.choice")))])],1),a("Row",{staticClass:"row-btm",attrs:{type:"flex",justify:"center"}},[a("button",{staticClass:"base-btn2 bg-blue un-btn",attrs:{cnrk:"上传"},on:{click:t.handleShowUpList}},[t._v(t._s(t.$t("Project.upload")))]),a("button",{staticClass:"base-btn3 un-btn qx-btn",attrs:{cnrk:"取消"},on:{click:t.handleCancleUp}},[t._v(t._s(t.$t("Project.cancel")))])])],1)])],1)},g=[],b=a("2f62"),w=null,y={name:"Project",data:function(){var t=this;this.$createElement;return{workspace:"",modal1:!1,upModel:!1,taskCode:-1,taskName:"",tbLoading:!1,projectList:[],query:{pageNum:1,pageSize:10},filt:{trainState:"",trainFrame:"",netType:""},total:0,upt:{frameSltVal:1,networkType:1,describe:"",proName:"",frameSlt:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],netType:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}]},columns1:[{title:this.$t("Project.projectName"),key:"taskName",minWidth:230,ellipsis:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"P"),t("span",{class:"name",attrs:{title:e.row.taskName}},e.row.taskName||"-")])}},{title:this.$t("Project.tranStatus"),key:"trainStatus",width:150,filters:[{label:this.$t("Project.state0"),value:0},{label:this.$t("Project.state1"),value:1},{label:this.$t("Project.state2"),value:2},{label:this.$t("Project.state31"),value:31},{label:this.$t("Project.state4"),value:4},{label:this.$t("Project.state7"),value:7}],filterMultiple:!1,filterRemote:function(t,e,a){31!=t[0]?w.filt.trainState=t[0]:w.filt.trainState="31,32,33"},render:function(e,a){var s={0:t.$t("Overview.state0"),1:t.$t("Overview.state1"),2:t.$t("Overview.state2"),31:t.$t("Overview.state31"),32:t.$t("Overview.state32"),33:t.$t("Overview.state33"),4:t.$t("Overview.state4"),7:t.$t("Overview.state7")},n=a.row.trainStatus||0,r=s[n];return e("span",r)}},{title:this.$t("Project.frames"),key:"trainWay",width:150,tooltip:!0,filters:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){w.filt.trainFrame=t[0]},render:function(e,a){var s=a.row.id,n=a.row.trainWay,r=function(e){t.handleEditFrame(s,e)};return e("Select",{class:"slt-xps slt-byp",on:{"on-change":r},model:{value:n,callback:function(t){n=t}}},[t.upt.frameSlt.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.netType2"),key:"neuralNetworkType",width:160,tooltip:!0,filters:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){w.filt.netType=t[0]},render:function(e,a){var s=a.row.id,n=a.row.neuralNetworkType,r=function(e){t.handleEditNetType(s,e)};return e("Select",{class:"slt-xps slt-byp",on:{"on-change":r},model:{value:n,callback:function(t){n=t}}},[t.upt.netType.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.size"),key:"projectSize",width:120,tooltip:!0,render:function(t,e){var a=o["a"].getfGMK(e.row.projectSize);return t("span",a)}},{title:this.$t("Project.updateTime"),key:"updateTime",width:150,ellipsis:!0,render:function(t,e){var a=o["a"].ft("Y-M-D h:m",e.row.updateTime);return t("span",a)}},{title:this.$t("Project.describe"),key:"projectDesc",minWidth:180,tooltip:!0,render:function(e,a){var s=a.row.id,n=a.row.projectDesc;return e("input",{class:"inp-xtyb",key:s,attrs:{type:"text",maxLength:15,value:n},on:{change:function(){t.handleEditRemark(s,event.target.value)}}})}},{title:this.$t("Project.usedTime"),key:"useDuration",width:100,tooltip:!0,render:function(t,e){var a=e.row.useDuration;return t("span",o["a"].fMCN(a))}},{title:this.$t("Project.hasBeenConsume"),key:"payTh",width:130,tooltip:!0,render:function(t,e){var a=e.row.payTh;return t("span",o["a"].floor(a)||0)}},{title:this.$t("Project.ctrl"),key:"action",align:"center",width:140,fixed:"right",render:function(e,a){var s=a.row;return e("div",[e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleCheck(s.id)}}},t.$t("Project.check")),e("span",{class:"del-fp-btn",props:{type:"text"},on:{click:function(){t.reqDelProject(s.taskCode)}}},t.$t("Project.del"))])}}]}},methods:{init:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getProjectList();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditRemark:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={id:e,projectDesc:a},t.next=3,this.$axios.post(c["a"].updateConfig,s);case 3:n=t.sent,200===n.data.code&&this.$Message.success(this.$t("Project.saved"));case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEditFrame:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return s={id:e,trainWay:a},t.next=5,this.$axios.post(c["a"].updateConfig,s);case 5:n=t.sent,200===n.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEditNetType:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return s={id:e,neuralNetworkType:a},t.next=5,this.$axios.post(c["a"].updateConfig,s);case 5:n=t.sent,200===n.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getProjectList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoading=!0,e={trainStatus:this.filt.trainState,trainWay:this.filt.trainFrame,neuralNetworkType:this.filt.netType},e=Object.assign(this.query,e),t.next=5,this.$axios.post(c["a"].getTaskList,e);case 5:if(a=t.sent,200!==a.data.code){t.next=12;break}if(s=a.data.payload||[],Object.keys(s).length){t.next=10;break}return t.abrupt("return");case 10:this.projectList=s.list,this.total=s.total;case 12:this.tbLoading=!1;case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.query.pageNum=t,this.getProjectList()},handleCheck:function(t){this.$router.push({name:"AiTrain",query:{id:t}})},mkdirs:function(t){var e=this;return new Promise(function(a,s){e.$ipfs.files.mkdir(t,{parents:!0},function(t,e){t?s(t):a(e)})})},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},handleUpload:function(){this.canUpload&&(this.upModel=!0,this.resetUpCfg())},upFileXz:function(){var t=event.target.files,e=(t||[])[0]?t[0].webkitRelativePath.match(/^[^\/]+/)[0]:"";this.upt.proName=e},handleShowUpList:function(){if(this.upt.proName){var t=this.$refs.inpq.files;this.upModel=!1,this.$parent.upFileXs(t,-1)}else this.$Message.warning(this.$t("Project.choiceUpPro"))},resetUpCfg:function(){this.upt.frameSltVal=1,this.upt.networkType=1,this.$store.commit("set_pro_describe",null),this.upt.describe="",this.upt.proName="",this.$refs.inpq.value=""},handleCancleUp:function(){this.upModel=!1},reqDelProject:o["a"].debounce(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=c["a"].delProject,s={taskCode:e},t.next=4,this.$axios.post(a,s);case 4:if(n=t.sent,200!==n.data.code){t.next=12;break}return this.$Message.success(this.$t("Project.shiftInRecycle")),t.next=9,o["a"].timeout(300);case 9:this.getProjectList(),t.next=13;break;case 12:this.$Message.error(n.data.message);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_delay||300),handleUppro:function(){this.$parent.showUpListLay=!this.$parent.showUpListLay},getUsedSpace:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getIpfsProjectInfo(e);case 2:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},computed:Object(r["a"])({},Object(b["c"])({showUpTipBar:function(t){return t.ups.showUpTipBar}}),{canUpload:function(){return this.$store.state.ups.canUpload},isUping:function(){return this.$store.state.ups.showUpTipBar}}),watch:{"upt.frameSltVal":function(t){this.$store.commit("set_frame_type",t)},"upt.networkType":function(t){this.$store.commit("set_net_type",t)},"upt.describe":function(t){this.$store.commit("set_pro_describe",t)}},mounted:function(){this.init()},created:function(){w=this,-1===this.$parent.curUptype&&this.$store.state.ups.upDoneList.length?this.$store.commit("set_up_tip_bar",!0):this.$store.commit("set_up_tip_bar",!1)}},$=y,C=(a("a6c4"),Object(d["a"])($,v,g,!1,null,"e72f9842",null)),_=C.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-project model-togh"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我创建的"}},[t._v(t._s(t.$t("DataSet.mySetup")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total))])]),a("div",{staticClass:"r-usx"},[a("p",{staticClass:"uppro-txt",class:{on:t.showUpTipBar},attrs:{cnrk:"上传列表"},on:{click:t.handleUpDataset}},[t._v(t._s(t.$t("Project.uplist")))]),a("label",{staticClass:"base-btn2 bg-blue lb-up--ye62hsd8d3",attrs:{disabled:!t.canUpload,cnrk:"上传"},on:{click:t.handleUpload}},[t._v(t._s(t.$t("Project.upload")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoading},attrs:{columns:t.columns1,data:t.pList},on:{"on-filter-change":function(e){return t.getProjectList()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pList.length,expression:"pList.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.total,"page-size":t.query.pageSize,current:t.query.pageNum},on:{"on-change":t.changePage}})],1),a("Modal",{staticClass:"up-lay2",attrs:{width:"500",draggable:"",cnrk:"t: 数据集上传",title:t.$t("DataSet.dataSetUpload"),closable:!0,"footer-hide":""},model:{value:t.upDataset,callback:function(e){t.upDataset=e},expression:"upDataset"}},[a("div",{staticClass:"ups-inner"},[a("Row",{staticClass:"row_xs"},[a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1 spa",attrs:{cnrk:"数据集类型"}},[t._v(t._s(t.$t("DataSet.dataSetType")))]),a("Select",{staticClass:"slt",model:{value:t.upt.datasetTypeVal,callback:function(e){t.$set(t.upt,"datasetTypeVal",e)},expression:"upt.datasetTypeVal"}},t._l(t.upt.datasetType,function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1),a("Row",{staticClass:"row_xs row_xs2"},[a("span",{staticClass:"sp1",attrs:{cnrk:"描述"}},[t._v(t._s(t.$t("Project.describe")))]),a("Input",{staticClass:"inp-ms",attrs:{maxlength:15,type:"textarea",autosize:!1,placeholder:t.$t("Project.typeDescContent")},model:{value:t.upt.describe,callback:function(e){t.$set(t.upt,"describe",e)},expression:"upt.describe"}})],1),a("div",{staticClass:"row_xs rs-xm"},[a("span",{staticClass:"sp1 spk",attrs:{cnrk:"数据集名称"}},[t._v(t._s(t.$t("DataSet.dataSetName")))]),a("Input",{staticClass:"inp-mt",attrs:{type:"text",readonly:"",placeholder:t.$t("DataSet.choiceDataSet")},model:{value:t.upt.proName,callback:function(e){t.$set(t.upt,"proName",e)},expression:"upt.proName"}}),a("input",{ref:"inpq",attrs:{type:"file",id:"inpx1",webkitdirectory:"",directory:"",hidden:""},on:{change:function(e){return t.upFileXz()}}}),a("label",{staticClass:"base-btn2 bg-blue chs-btn",attrs:{for:"inpx1",cnrk:"选择"}},[t._v(t._s(t.$t("Project.choice")))])],1),a("Row",{staticClass:"row-btm",attrs:{type:"flex",justify:"center"}},[a("button",{staticClass:"base-btn2 bg-blue un-btn",attrs:{cnrk:"上传"},on:{click:t.handleShowUpList}},[t._v(t._s(t.$t("Project.upload")))]),a("button",{staticClass:"base-btn3 un-btn qx-btn",attrs:{cnrk:"取消"},on:{click:t.handleCancleUp}},[t._v(t._s(t.$t("Project.cancel")))])])],1)])],1)},x=[],j={},S={name:"Dataset",data:function(){var t=this;this.$createElement;return{workspace:"",modal1:!1,upDataset:!1,query:{pageNum:1,pageSize:10},filt:{dataSetType:""},total:0,tbLoading:!1,pList:[],upt:{describe:"",proName:"",datasetTypeVal:1,datasetType:[{label:this.$t("DataSet.tranSet"),value:1},{label:this.$t("DataSet.verifySet"),value:2},{label:this.$t("DataSet.testSet"),value:3}]},columns1:[{title:this.$t("DataSet.dataSetName"),key:"dataName",minWidth:230,ellipsis:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"D"),t("span",{class:"name",attrs:{title:e.row.dataName}},e.row.dataName||"-")])}},{title:this.$t("DataSet.type"),key:"dataSetType",width:150,tooltip:!0,filters:[{label:this.$t("DataSet.tranSet"),value:1},{label:this.$t("DataSet.verifySet"),value:2},{label:this.$t("DataSet.testSet"),value:3}],filterMultiple:!1,filterRemote:function(t,e,a){j.filt.dataSetType=t[0]},render:function(e,a){var s=a.row.id,n=a.row.dataSetType,r=function(e){t.handleUpdateList(s,e)};return e("Select",{class:"slt-xps slt-byp",on:{"on-change":r},model:{value:n,callback:function(t){n=t}}},[t.upt.datasetType.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.updateTime"),key:"createTime",width:150,tooltip:!0,render:function(t,e){var a=o["a"].ft("Y-M-D h:m",e.row.createTime);return t("span",a)}},{title:this.$t("Project.size"),key:"fileSize",width:150,tooltip:!0,render:function(t,e){var a=o["a"].getfGMK(e.row.fileSize);return t("span",a)}},{title:this.$t("Project.describe"),key:"note",width:200,tooltip:!0,render:function(e,a){var s=a.row.id,n=a.row.note;return e("input",{class:"inp-xtyb",key:s,attrs:{type:"text",maxLength:15,value:n},on:{change:function(){t.handleEditRemark(s,event.target.value)}}})}},{title:this.$t("Project.ctrl"),key:"action",align:"center",width:140,fixed:"none",render:function(e,a){var s=a.row;return e("div",[e("span",{class:"del-fp-btn",props:{type:"text"},on:{click:function(){t.reqDelProject(s.id)}}},t.$t("Project.del"))])}}]}},methods:{init:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getProjectList();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditRemark:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={id:e,note:a},t.next=3,this.$axios.post(c["a"].updateMorD,s);case 3:n=t.sent,200===n.data.code&&this.$Message.success(this.$t("Project.saved"));case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleUpdateList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return s={id:e,dataSetType:a},t.next=5,this.$axios.post(c["a"].updateMorD,s);case 5:n=t.sent,200===n.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getProjectList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoading=!0,e={dataType:1,dataSetType:this.filt.dataSetType},e=Object.assign(this.query,e),t.next=5,this.$axios.post(c["a"].getDataList,e);case 5:if(a=t.sent,200!==a.data.code){t.next=12;break}if(s=a.data.payload||[],Object.keys(s).length){t.next=10;break}return t.abrupt("return");case 10:this.pList=s.list,this.total=s.total;case 12:this.tbLoading=!1;case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.query.pageNum=t,this.getProjectList()},handleCheck:function(t){this.$router.push({name:"AiTrain",query:{d:t}})},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},handleUpload:function(){this.canUpload&&(this.upDataset=!0,this.resetUpCfg())},upFileXz:function(){var t=event.target.files,e=t[0]?t[0].webkitRelativePath.match(/^[^\/]+/)[0]:"";this.upt.proName=e},handleShowUpList:function(){if(this.upt.proName){var t=this.$refs.inpq.files;this.upDataset=!1,this.$parent.upFileXs(t,1)}else this.$Message.warning(this.$t("DataSet.choiceUploadDataSetX"))},resetUpCfg:function(){this.upt.datasetTypeVal=1,this.$store.commit("set_pro_describe",null),this.$store.commit("set_dataset_type",1),this.upt.describe="",this.upt.proName="",this.$refs.inpq.value=""},handleCancleUp:function(){this.upDataset=!1},reqDelProject:o["a"].debounce(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=c["a"].delMorD,s={id:e},t.next=4,this.$axios.post(a,s);case 4:if(n=t.sent,200!==n.data.code){t.next=12;break}return this.$Message.success(this.$t("Project.shiftInRecycle")),t.next=9,o["a"].timeout(300);case 9:this.getProjectList(),t.next=13;break;case 12:this.$Message.error(n.data.message);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_delay||300),handleUpDataset:function(){this.$parent.showUpListLay=!this.$parent.showUpListLay},getUsedSpace:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getIpfsProjectInfo(e);case 2:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},computed:Object(r["a"])({},Object(b["c"])({showUpTipBar:function(t){return t.ups.showUpTipBar}}),{canUpload:function(){return this.$store.state.ups.canUpload}}),watch:{"upt.datasetTypeVal":function(t){this.$store.commit("set_dataset_type",t)},"upt.describe":function(t){this.$store.commit("set_pro_describe",t)}},mounted:function(){this.init()},created:function(){j=this,1===this.$parent.curUptype&&this.$store.state.ups.upDoneList.length?this.$store.commit("set_up_tip_bar",!0):this.$store.commit("set_up_tip_bar",!1)}},T=S,P=(a("39d5"),Object(d["a"])(T,k,x,!1,null,"f217f5aa",null)),L=P.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-project model-togh"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我创建的"}},[t._v(t._s(t.$t("Model.mySetup")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total))])]),a("div",{staticClass:"r-usx"},[a("p",{staticClass:"uppro-txt",class:{on:t.showUpTipBar},attrs:{cnrk:"上传列表"},on:{click:t.handleUpModel}},[t._v(t._s(t.$t("Project.uplist")))]),a("label",{staticClass:"base-btn2 bg-blue lb-up--ye62hsd8d3",attrs:{disabled:!t.canUpload,cnrk:"上传"},on:{click:t.handleUpload}},[t._v(t._s(t.$t("Project.upload")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoading},attrs:{columns:t.columns1,data:t.modelList},on:{"on-filter-change":function(e){return t.getProjectList()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.modelList.length,expression:"modelList.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.total,"page-size":t.query.pageSize,current:t.query.pageNum},on:{"on-change":t.changePage}})],1),a("Modal",{staticClass:"up-lay2",attrs:{width:"500",draggable:"",cnrk:"t: 模型上传",title:t.$t("Model.modelUpload"),closable:!0,"footer-hide":""},model:{value:t.upModel,callback:function(e){t.upModel=e},expression:"upModel"}},[a("div",{staticClass:"ups-inner"},[a("Row",{staticClass:"row_xs"},[a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"训练框架"}},[t._v(t._s(t.$t("Model.tranFrameS")))]),a("Select",{staticClass:"slt",model:{value:t.upt.frameSltVal,callback:function(e){t.$set(t.upt,"frameSltVal",e)},expression:"upt.frameSltVal"}},t._l(t.upt.frameSlt,function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"神经网络类型"}},[t._v(t._s(t.$t("Project.netType")))]),a("Select",{staticClass:"slt",attrs:{span:"6"},model:{value:t.upt.networkType,callback:function(e){t.$set(t.upt,"networkType",e)},expression:"upt.networkType"}},t._l(t.upt.netType,function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1),a("Row",{staticClass:"row_xs row_xs2"},[a("span",{staticClass:"sp1",attrs:{cnrk:"描述"}},[t._v(t._s(t.$t("Project.describe")))]),a("Input",{staticClass:"inp-ms",attrs:{maxlength:15,type:"textarea",autosize:!1,placeholder:t.$t("Project.typeDescContent")},model:{value:t.upt.describe,callback:function(e){t.$set(t.upt,"describe",e)},expression:"upt.describe"}})],1),a("div",{staticClass:"row_xs rs-xm"},[a("span",{staticClass:"sp1",attrs:{cnrk:"模型名称"}},[t._v(t._s(t.$t("Model.modelName")))]),a("Input",{staticClass:"inp-mt",attrs:{type:"text",readonly:"",placeholder:t.$t("Model.choiceModel")},model:{value:t.upt.proName,callback:function(e){t.$set(t.upt,"proName",e)},expression:"upt.proName"}}),a("input",{ref:"inpq",attrs:{type:"file",id:"inpx1",webkitdirectory:"",directory:"",hidden:""},on:{change:function(e){return t.upFileXz()}}}),a("label",{staticClass:"base-btn2 bg-blue chs-btn",attrs:{for:"inpx1",cnrk:"选择"}},[t._v(t._s(t.$t("Project.choice")))])],1),a("Row",{staticClass:"row-btm",attrs:{type:"flex",justify:"center"}},[a("button",{staticClass:"base-btn2 bg-blue un-btn",attrs:{cnrk:"上传"},on:{click:t.handleShowUpList}},[t._v(t._s(t.$t("Project.upload")))]),a("button",{staticClass:"base-btn3 un-btn qx-btn",attrs:{cnrk:"取消"},on:{click:t.handleCancleUp}},[t._v(t._s(t.$t("Project.cancel")))])])],1)])],1)},N=[],M={},D={name:"Model",data:function(){var t=this;this.$createElement;return{workspace:"",modal1:!1,upModel:!1,query:{pageNum:1,pageSize:10},filt:{trainState:"",trainFrame:"",netType:""},total:0,tbLoading:!1,modelList:[],upt:{frameSltVal:1,networkType:1,describe:"",proName:"",frameSlt:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],netType:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}]},columns1:[{title:this.$t("Model.modelName"),key:"dataName",minWidth:230,ellipsis:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"M"),t("span",{class:"name",attrs:{title:e.row.dataName}},e.row.dataName||"-")])}},{title:this.$t("Project.frames"),key:"trainWay",width:150,tooltip:!0,filters:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){M.filt.trainFrame=t[0]},render:function(e,a){var s=a.row.id,n=a.row.trainWay,r=function(e){t.handleEditFrame(s,e)};return e("Select",{attrs:{value:n},class:"slt-xps slt-byp",on:{"on-change":r}},[t.upt.frameSlt.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.netType"),key:"neuralNetworkType",width:160,tooltip:!0,filters:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){M.filt.netType=t[0]},render:function(e,a){var s=a.row.id,n=a.row.neuralNetworkType,r=function(e){t.handleEditNetType(s,e)};return e("Select",{class:"slt-xps slt-byp",on:{"on-change":r},model:{value:n,callback:function(t){n=t}}},[t.upt.netType.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.size"),key:"fileSize",width:120,tooltip:!0,render:function(t,e){var a=o["a"].getfGMK(e.row.fileSize);return t("span",a)}},{title:this.$t("Project.updateTime"),key:"updateTime",width:150,ellipsis:!0,render:function(t,e){var a=o["a"].ft("Y-M-D h:m",e.row.updateTime);return t("span",a)}},{title:this.$t("Project.describe"),key:"note",minWidth:180,tooltip:!0,render:function(e,a){var s=a.row.id,n=a.row.note;return e("input",{class:"inp-xtyb",key:s,attrs:{type:"text",maxLength:15,value:n},on:{change:function(){t.handleEditRemark(s,event.target.value)}}})}},{title:this.$t("Project.ctrl"),key:"action",align:"center",width:140,fixed:"right",render:function(e,a){var s=a.row;return e("div",[e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleCheck(s.id)}}},t.$t("Project.check")),e("span",{class:"del-fp-btn",props:{type:"text"},on:{click:function(){t.reqDelProject(s.id)}}},t.$t("Project.del"))])}}]}},methods:{init:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getProjectList();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditRemark:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={id:e,note:a},t.next=3,this.$axios.post(c["a"].updateMorD,s);case 3:n=t.sent,200===n.data.code&&this.$Message.success(this.$t("Project.saved"));case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEditFrame:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return s={id:e,trainWay:a},t.next=5,this.$axios.post(c["a"].updateMorD,s);case 5:n=t.sent,200===n.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEditNetType:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return s={id:e,neuralNetworkType:a},t.next=5,this.$axios.post(c["a"].updateMorD,s);case 5:n=t.sent,200===n.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getProjectList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoading=!0,e={dataType:2,trainStatus:this.filt.trainState,trainWay:this.filt.trainFrame,neuralNetworkType:this.filt.netType},e=Object.assign(this.query,e),t.next=5,this.$axios.post(c["a"].getDataList,e);case 5:if(a=t.sent,200!==a.data.code){t.next=12;break}if(s=a.data.payload||[],Object.keys(s).length){t.next=10;break}return t.abrupt("return");case 10:this.modelList=s.list,this.total=s.total;case 12:this.tbLoading=!1;case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.query.pageNum=t,this.getProjectList()},handleCheck:function(t){this.$router.push({name:"AiTrain",query:{m:t}})},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},handleUpload:function(){this.canUpload&&(this.upModel=!0,this.resetUpCfg())},upFileXz:function(){var t=event.target.files,e=(t||[])[0]?t[0].webkitRelativePath.match(/^[^\/]+/)[0]:"";this.upt.proName=e},handleShowUpList:function(){if(this.upt.proName){var t=this.$refs.inpq.files;this.upModel=!1,this.$store.commit("show_read_file_loading",!0),this.$parent.upFileXs(t,2)}else this.$Message.warning(this.$t("Model.choiceUpModel"))},resetUpCfg:function(){this.$store.commit("set_dataset_type",null),this.$store.commit("set_pro_describe",null),this.upt.frameSltVal=1,this.upt.networkType=1,this.upt.describe="",this.upt.proName="",this.$refs.inpq.value=""},handleCancleUp:function(){this.upModel=!1},reqDelProject:o["a"].debounce(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=c["a"].delMorD,s={id:e},t.next=4,this.$axios.post(a,s);case 4:if(n=t.sent,200!==n.data.code){t.next=12;break}return this.$Message.success(this.$t("Project.shiftInRecycle")),t.next=9,o["a"].timeout(300);case 9:this.getProjectList(),t.next=13;break;case 12:this.$Message.error(n.data.message);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_delay||300),handleUpModel:function(){this.$parent.showUpListLay=!this.$parent.showUpListLay},getUsedSpace:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getIpfsProjectInfo(e);case 2:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},computed:Object(r["a"])({},Object(b["c"])({showUpTipBar:function(t){return t.ups.showUpTipBar}}),{canUpload:function(){return this.$store.state.ups.canUpload}}),watch:{"upt.frameSltVal":function(t){this.$store.commit("set_frame_type",t)},"upt.networkType":function(t){this.$store.commit("set_net_type",t)},"upt.describe":function(t){this.$store.commit("set_pro_describe",t)}},mounted:function(){this.init()},created:function(){M=this,2===this.$parent.curUptype&&this.$store.state.ups.upDoneList.length?this.$store.commit("set_up_tip_bar",!0):this.$store.commit("set_up_tip_bar",!1)}},U=D,R=(a("33c3"),Object(d["a"])(U,O,N,!1,null,"603a57a1",null)),z=R.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap msg-m-xs"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"全部消息"}},[t._v(t._s(t.$t("Console.allMessages")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.msgTotal))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns2,data:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.msgTotal,current:t.curPage,"page-size":t.pageSize},on:{"on-change":t.changePage}})],1)],1)},q=[],I={name:"Message",data:function(){var t=this;return{curPage:1,pageSize:10,tbLoad1:!1,msgTotal:0,columns2:[{title:this.$t("Console.messageTitle"),key:"messageTitle",minWidth:180,render:function(e,a){var s=a.row;return e("div",{class:"title-wrap-8x"},[e("span",{class:{"title-tag":!0,"b-red":1===s.status}},""),e("span",{class:["title--wdashfty74",{gray:1!==s.status}],on:{click:function(){t.handleNotice(s.id)}}},s.messageTitle)])}},{title:this.$t("Console.status"),key:"createTime",minWidth:80,render:function(e,a){var s=a.row.status,n=["-",t.$t("Console.unread"),t.$t("Console.read")];return e("span",{class:{gray:1!==a.row.status}},n[s])}},{title:this.$t("Console.time"),key:"createTime",minWidth:150,render:function(t,e){return t("span",{class:{gray:1!==e.row.status}},o["a"].ft("Y-M-D h:m",e.row.createTime))}},{title:" ",width:100,align:"center",render:function(e,a){var s=a.row.id;return e("span",{class:["handle--btn handle--del",{gray:1!==a.row.status}],on:{click:function(){t.handleDelMsg(s)}}},t.$t("Console.delete"))}}],tableData:[]}},props:{data:null},methods:{getMsg:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,e=c["a"].getUserMsg,a={pageNum:this.curPage,pageSize:this.pageSize},t.next=5,this.$axios.post(e,a);case 5:if(s=t.sent,this.tbLoad1=!1,200!=s.data.code){t.next=16;break}if(n=s.data.payload||[],Object.keys(n).length){t.next=11;break}return t.abrupt("return");case 11:this.curPage=n.pageNum,this.msgTotal=n.total,this.tableData=n.list,this.$store.commit("set_user_msg_list",n.list),this.$store.commit("set_user_unread_msg_count",n.noReadNum);case 16:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleDelMsg:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].delUserMsg,{ids:e});case 2:a=t.sent,200===a.data.code?(this.$Message.success(this.$t("Console.deleted")),this.getMsg()):this.$Message.success(a.data.message);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),changePage:function(t){this.curPage=t,o["a"].setStore("message.curPage",t),this.getMsg()},handleNotice:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$router.push({query:{id:e}}),this.$parent.currentView="MessageDetail",this.$axios.post(c["a"].changeUserMsgStatus,{ids:e});case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.$router.push({query:{}}),this.curPage=+o["a"].getStore("message.curPage")||1,this.getMsg()}},F=I,V=(a("93d5"),Object(d["a"])(F,E,q,!1,null,"460b7b82",null)),B=V.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap msg-m-xs"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"回收站"}},[t._v(t._s(t.$t("Console.recycleBin")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.dTotal))]),a("span",{staticClass:"txt-tip",attrs:{cnrk:"超过90天的内容会被自动删除"}},[t._v(t._s(t.$t("Console.recycleBinTip")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns2,data:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.dTotal,current:t.curPage,"page-size":t.pageSize},on:{"on-change":t.changePage}})],1)],1)},H=[],A={name:"Recycled",data:function(){var t=this;return{curPage:1,pageSize:10,tbLoad1:!1,dTotal:0,columns2:[{title:this.$t("Console.name"),key:"name",minWidth:180,render:function(t,e){e.row;return t("div",{class:"title-wrap-8x"},[t("span",{class:{"title-tag":!0,"b-red":1===e.row.status}},""),t("span",{class:"title--wdashfty78"},e.row.name)])}},{title:this.$t("Console.type"),key:"type",width:180,render:function(e,a){var s=["",t.$t("Console.project"),t.$t("Console.model"),t.$t("Console.dataset"),t.$t("Console.drillModel")],n=a.row.type;return e("span",s[n])}},{title:this.$t("Console.size"),key:"size",width:180,render:function(t,e){var a=e.row.size;return t("span",o["a"].getfGMK(a))}},{title:this.$t("Console.delTime"),key:"createTime",width:180,render:function(t,e){return t("span",o["a"].ft("Y-M-D h:m",e.row.createTime))}},{title:" ",width:150,align:"center",render:function(e,a){return[e("span",{class:"handle--btn restore-btn",on:{click:function(){t.handleRestore(a.row.id)}}},t.$t("Console.recover")),e("span",{class:"handle--btn empty-btn",on:{click:function(){t.handleClear(a.row.id)}}},t.$t("Console.empty"))]}}],tableData:[]}},methods:{reqList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,e=c["a"].recycledList,a={pageNum:this.curPage,pageSize:this.pageSize},t.next=5,this.$axios.post(e,a);case 5:if(s=t.sent,this.tbLoad1=!1,200!==s.data.code){t.next=14;break}if(n=s.data.payload||[],Object.keys(n).length){t.next=11;break}return t.abrupt("return");case 11:this.curPage=n.pageNum,this.dTotal=n.total,this.tableData=n.list;case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.curPage=t,o["a"].setStore("recycled.curPage",t),this.reqList()},handleRestore:o["a"].debounce(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].restorePro,{id:e});case 2:a=t.sent,200===a.data.code?(this.$Message.success(this.$t("Console.restored")),this.reqList()):this.$Message.error(a.data.message);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_dealy||300),handleClear:o["a"].debounce(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].clearRecycledProject,{id:e});case 2:a=t.sent,200===a.data.code?(this.$Message.success(this.$t("Console.deleted")),this.reqList()):this.$Message.error(a.data.message);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_dealy||300)},created:function(){this.curPage=+o["a"].getStore("recycled.curPage")||1,this.reqList()}},K=A,G=(a("f638"),a("0197"),Object(d["a"])(K,W,H,!1,null,"3bdd4de3",null)),X=G.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap msg-m-xs"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我的收藏"}},[t._v(" "+t._s(t.$t("Console.myFavorites"))+" ")]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.dTotal))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns2,data:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.dTotal,current:t.curPage,"page-size":t.pageSize},on:{"on-change":t.changePage}})],1)],1)},Y=[],Q={name:"Collect",data:function(){var t=this;return{curPage:1,pageSize:10,tbLoad1:!1,dTotal:0,columns2:[{title:this.$t("Console.name"),key:"documentTitle",minWidth:180,render:function(e,a){var s=a.row,n=-1===s.type?s.documentTitle:s.title;return e("div",{class:"title-wrap-8x"},[e("span",{class:{"title-tag":!0,"b-red":1===a.row.status}},""),e("span",{class:"title--wdashfty74",on:{click:function(){t.handleToDoc(s.documentId,s.type)}}},n)])}},{title:this.$t("Console.source"),key:"documentDir",minWidth:180,render:function(e,a){return-1===a.row.type?e("span",a.row.documentDir):e("span",t.$t("Console.activities"))}},{title:" ",width:150,align:"center",render:function(e,a){return e("span",{class:"handle--btn restore-btn",on:{click:function(){t.handleRemove(a.row.documentId)}}},t.$t("Console.favoritesCanceled"))}}],tableData:[]}},methods:{reqList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,e=c["a"].userCollectList,a={pageNum:this.curPage,pageSize:this.pageSize},t.next=5,this.$axios.post(e,a);case 5:if(s=t.sent,this.tbLoad1=!1,200!=s.data.code){t.next=14;break}if(n=s.data.payload||[],Object.keys(n).length){t.next=11;break}return t.abrupt("return");case 11:this.curPage=n.pageNum,this.dTotal=n.total,this.tableData=n.list;case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.curPage=t,o["a"].setStore("collect.curPage",t),this.reqList()},handleRemove:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].cancelCollect,{documentId:e});case 2:a=t.sent,200===a.data.code?(this.$Message.success(this.$t("Console.canceled")),this.reqList()):this.$Message.error(a.data.message);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),handleToDoc:function(t,e){-1===e?this.$router.push({path:"/help-detail/"+t}):window.location.href="/home-pages/activedetail.html?actId="+t}},created:function(){this.curPage=+o["a"].getStore("collect.curPage")||1,this.reqList()}},Z=Q,tt=(a("24c2"),a("8e4e"),Object(d["a"])(Z,J,Y,!1,null,"5a98f9fb",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"train-container"},[s("div",{staticClass:"container-head"},[s("span",{attrs:{cnrk:"我的课程"}},[t._v(t._s(t.$t("Console.myCourses")))]),s("span",{staticClass:"train-number",attrs:{src:"",alt:""}},[t._v(t._s(t.dataTotal))]),s("i-button",{attrs:{type:"primary",cnrk:"获取更多课程"},on:{click:function(e){t.qrcode=!0}}},[t._v(t._s(t.$t("Console.moreCourses")))])],1),s("div",{staticClass:"container-main"},[s("div",{staticClass:"filtrate"},[s("div",{staticClass:"filtrate-search"},[s("span",{attrs:{cnrk:"作者"}},[t._v(t._s(t.$t("Console.author")))]),s("i-input",{attrs:{icon:"ios-search",id:"test",placeholder:t.$t("Console.title")+" / "+t.$t("Console.author")},on:{"on-enter":t.getCouresList,"on-click":t.getCouresList},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}})],1),s("Dropdown",{staticClass:"filtrate-type",attrs:{trigger:"click"},on:{"on-click":t.changeCourseByType}},[s("a",{attrs:{href:"javascript:void(0)",cnrk:"类别"}},[t._v("\n          "+t._s(t.$t("Console.class"))+"\n          "),s("Icon",{staticClass:"filtrate-type-icon",attrs:{type:"ios-arrow-down"}})],1),s("Dropdown-menu",{attrs:{slot:"list"},slot:"list"},[s("Dropdown-item",{attrs:{name:null,selected:null===t.nowType,cnrk:"全部"}},[t._v(t._s(t.$t("Console.all")))]),t._l(t.typeList,function(e,a){return s("Dropdown-item",{key:a,attrs:{name:e.val,title:e.name,selected:t.nowType===e.val}},[t._v("\n            "+t._s(e.name))])})],2)],1),s("Dropdown",{staticClass:"filtrate-part",attrs:{trigger:"click"},on:{"on-click":t.changeCourseByPart}},[s("a",{attrs:{href:"javascript:void(0)",cnrk:"栏目"}},[t._v("\n          "+t._s(t.$t("Console.column"))+"\n          "),s("Icon",{staticClass:"filtrate-part-icon",attrs:{type:"ios-arrow-down"}})],1),s("Dropdown-menu",{attrs:{slot:"list"},slot:"list"},[s("Dropdown-item",{attrs:{name:null,selected:null===t.nowPart,cnrk:"全部"}},[t._v(t._s(t.$t("Console.all")))]),t._l(t.partList,function(e,a){return s("Dropdown-item",{key:a,attrs:{name:e.val,title:e.name,selected:t.nowPart===e.val}},[t._v("\n            "+t._s(e.name))])})],2)],1),s("div",{staticClass:"refresh",attrs:{cnrk:"刷新"},on:{click:t.refresh}},[t._v(t._s(t.$t("Console.refresh")))])],1),s("div",{staticClass:"course-content"},[t.loading?s("div",{class:["loading-cover",t.loading?"g-loading":""]}):t._e(),s("div",{staticClass:"course-list"},[t.dataTotal>0?s("ul",t._l(t.courseData,function(e,a){return s("li",{key:a},[s("div",{staticClass:"video-preview",on:{click:function(a){return t.changeVideo(e.videoHash,e.videoTitle,e.id)}}},[""!==e.coverHash&&null!==e.coverHash&&void 0!==e.coverHash?s("img",{attrs:{src:t.imgPrefix+e.coverHash,alt:"",srcset:""}}):t._e(),s("div",{staticClass:"video-play-btn"})]),s("div",{staticClass:"video-info"},[s("p",{staticClass:"video-title",on:{click:function(a){return t.changeVideo(e.videoHash,e.videoTitle,e.id)}}},[t._v("\n                "+t._s(e.videoTitle))]),s("div",{staticClass:"video-classify"},[s("p",{staticClass:"video-info-group"},[s("span",{staticClass:"title",attrs:{cnrk:"作者"}},[t._v(t._s(t.$t("Console.author"))+"：")]),s("span",{staticClass:"content",attrs:{title:e.author}},[t._v(t._s(e.author))])]),s("p",{staticClass:"video-info-group"},[s("span",{staticClass:"title",attrs:{cnrk:"类别"}},[t._v(t._s(t.$t("Console.class"))+"：")]),s("span",{staticClass:"content",attrs:{title:t.getTypeByNum(e.type)}},[t._v(t._s(t.getTypeByNum(e.type)))])]),s("p",{staticClass:"video-info-group"},[s("span",{staticClass:"title",attrs:{cnrk:"栏目"}},[t._v(t._s(t.$t("Console.column"))+"：")]),s("span",{staticClass:"content",attrs:{title:t.getPartByNum(e.part)}},[t._v(t._s(t.getPartByNum(e.part)))])])]),s("div",{staticClass:"video-handle"},[s("p",{staticClass:"video-info-group"},[s("span",{staticClass:"title",attrs:{cnrk:"数据集"}},[t._v(t._s(t.$t("Console.dataset"))+"：")]),s("span",{staticClass:"content",attrs:{title:e.dataName}},[t._v(t._s(""===e.dataHash||null===e.dataHash||void 0===e.dataHash?t.dataNotAvailable:e.dataName))]),""!==e.dataHash&&null!==e.dataHash&&void 0!==e.dataHash?s("a",{staticClass:"handle-btn",attrs:{cnrk:"导入"},on:{click:function(a){return t.importDataReady(e.id,1,e.dataHash)}}},[t._v(t._s(t.$t("Console.imort")))]):t._e()]),s("p",{staticClass:"video-info-group"},[s("span",{staticClass:"title",attrs:{cnrk:"模型"}},[t._v(t._s(t.$t("Console.model"))+"：")]),s("span",{staticClass:"content",attrs:{title:e.modelName}},[t._v(t._s(""===e.modelHash||null===e.modelHash||void 0===e.modelHash?t.modelNotAvailable:e.modelName))]),""!==e.modelHash&&null!==e.modelHash&&void 0!==e.modelHash?s("a",{staticClass:"handle-btn",attrs:{cnrk:"导入"},on:{click:function(a){return t.importDataReady(e.id,2,e.modelHash)}}},[t._v(t._s(t.$t("Console.imort")))]):t._e()])])])])}),0):t._e(),t.dataTotal>5?s("div",{staticClass:"paging"},[s("Page",{attrs:{total:t.dataTotal,"page-size":5},on:{"on-change":t.pageChange}})],1):t._e()]),0===t.dataTotal?s("div",{staticClass:"none-course",attrs:{cnrk:"暂无更多内容"}},[t._v(t._s(t.$t("Console.noneContent")))]):t._e(),s("Modal",{staticClass:"space-un-enough",attrs:{width:"360",cnrk:"t:星盘空间不足",title:t.$t("Console.spaceUnEnoughTitle")},model:{value:t.spaceUnEnough,callback:function(e){t.spaceUnEnough=e},expression:"spaceUnEnough"}},[s("div",{staticStyle:{"text-align":"center"}},[s("p",[t._v(t._s(t.unEnougTip))])]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("i-button",{attrs:{type:"primary",cnrk:"确定"},on:{click:function(e){t.spaceUnEnough=!1}}},[t._v(t._s(t.$t("Setting.comfirm")))])],1)]),s("Modal",{staticClass:"space-enough",attrs:{width:"360",title:(1===t.dataImportType?t.$t("Console.dataset"):t.$t("Console.model"))+t.$t("Console.imort")},model:{value:t.spaceEnough,callback:function(e){t.spaceEnough=e},expression:"spaceEnough"}},[s("div",{staticStyle:{"text-align":"center"}},[s("p",[t._v(t._s(t.enoughTip))])]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("i-button",{attrs:{type:"default",cnrk:"取消"},on:{click:function(e){t.spaceEnough=!1}}},[t._v(t._s(t.$t("Console.cancel")))]),s("i-button",{attrs:{type:"primary",cnrk:"确定"},on:{click:t.importData}},[t._v(t._s(t.$t("Setting.comfirm")))])],1)]),s("Modal",{attrs:{width:"260","class-name":"vertical-center-modal"},model:{value:t.qrcode,callback:function(e){t.qrcode=e},expression:"qrcode"}},[s("div",{staticClass:"qrcode-content"},[s("img",{attrs:{src:a("c3a0"),alt:""}})]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("Console.scanCourses")))])])])],1)])])},st=[],nt={data:function(){return{typeList:[{name:"C++",val:1},{name:"Java",val:2},{name:"Python",val:3},{name:this.$t("Console.machineLearning"),val:4},{name:this.$t("Console.deepLearning"),val:5}],partList:[{name:this.$t("Console.aiTraining"),val:1},{name:this.$t("Console.employment"),val:2},{name:this.$t("Console.hot"),val:3}],nowType:null,nowPart:null,pageNum:1,searchStr:"",loading:!0,courseData:"",dataTotal:0,classId:0,msgFileSize:"",dataImportType:0,spaceUnEnough:!1,spaceEnough:!1,qrcode:!1,dataNotAvailable:o["a"].isEn()?"Not available":"暂无数据集",modelNotAvailable:o["a"].isEn()?"Not available":"暂无模型",imgPrefix:c["a"].ipfsUrl}},created:function(){this.getCouresList()},computed:{enoughTip:function(){return o["a"].isEn()?"Target ".concat(1===this.dataImportType?"dataset":"model"," size：").concat(this.msgFileSize,", import now?"):"该 ".concat(1===this.dataImportType?"数据集":"模型"," 占用空间：").concat(this.msgFileSize,"，是否导入？")},unEnougTip:function(){return o["a"].isEn()?"Target ".concat(1===this.dataImportType?"dataset":"model"," size：：").concat(this.msgFileSize,", insufficient storage space, please clear your Xstro first."):"该 ".concat(1===this.dataImportType?"数据集":"模型"," 占用空间：").concat(this.msgFileSize,"，您的星盘存储空间不足，建议您清理后再试。")}},methods:{refresh:function(){this.getCouresList()},getCouresList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$axios.post(c["a"].getCourseList,{pageNum:this.pageNum,pageSize:5,author:this.searchStr||"",videoTitle:this.searchStr||"",type:this.nowType,part:this.nowPart});case 3:e=t.sent,200===e.data.code?(this.courseData=e.data.payload.list,this.dataTotal=e.data.payload.total,this.loading=!1):this.$Message.error(e.data.message);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changeVideo:function(t,e,a){var s=c["a"].ipfsUrl+t;this.$store.commit("set_video_source",s),this.$store.commit("set_video_show",!0),this.$store.commit("set_video_title",e),this.$store.commit("set_video_id",a)},getTypeByNum:function(t){switch(t){case"1":return"C++";case"2":return"Java";case"3":return"Python";case"4":return this.$t("Console.machineLearning");case"5":return this.$t("Console.deepLearning");default:break}},getPartByNum:function(t){switch(t){case"1":return this.$t("Console.aiTraining");case"2":return this.$t("Console.employment");case"3":return this.$t("Console.hot");default:break}},pageChange:function(t){this.pageNum=t,this.getCouresList()},changeCourseByType:function(t){t!==this.nowType&&(this.nowType=t,this.getCouresList())},changeCourseByPart:function(t){t!==this.nowPart&&(this.nowPart=t,this.getCouresList())},importDataReady:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a,s){var n,r,i,l,u=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=this.$Message.loading("Loading……",0),this.classId=e,this.dataImportType=a,r=0,i=0,t.next=7,this.$axios.post(c["a"].getFreeSpace);case 7:return l=t.sent,200===l.data.code?r=l.data.payload:this.$Message.error(l.data.message),t.next=11,this.$ipfs.object.stat(s).then(function(t){i=t.CumulativeSize,u.msgFileSize=o["a"].getfGMK(t.CumulativeSize)}).catch(function(t){console.log(t)});case 11:setTimeout(n,0),r<=i?this.spaceUnEnough=!0:this.spaceEnough=!0;case 13:case"end":return t.stop()}},t,this)}));function e(e,a,s){return t.apply(this,arguments)}return e}(),importData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].importDate,{id:this.classId,dataType:this.dataImportType});case 2:e=t.sent,200===e.data.code?(o["a"].isEn()?this.$Message.success("Import success"):this.$Message.success(1===this.dataImportType?"数据集导入成功":"模型导入成功"),this.spaceEnough=!1):this.$Message.error(e.data.message);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},rt=nt,it=(a("bf2a"),a("fd96"),Object(d["a"])(rt,at,st,!1,null,"2924b130",null)),ot=it.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"head"},[a("span",{staticClass:"back-btn",attrs:{cnkr:"返回"},on:{click:t.handleBack}},[t._v(t._s(t.isEn?"Back":"返回"))])]),a("div",{staticClass:"content-ux"},[a("h1",{staticClass:"h1t"},[t._v(t._s(t.caption))]),a("h2",{staticClass:"desc_qs"},[t._v(t._s(t.getftTime))]),a("div",{staticClass:"notic-content-m",domProps:{innerHTML:t._s(t.msgContent)}})])])},lt=[],ut={name:"MessageDetail",data:function(){return{msgContent:"",caption:"",stime:0,isEn:o["a"].isEn()}},methods:{getMassegeData:function(){var t=this,e=this.$route.query.id,a=this.$store.state.userMsgList;a.forEach(function(a){a.id===e&&(t.stime=a.createTime,t.caption=a.messageTitle,t.msgContent=a.messageBody)})},handleBack:function(){this.$router.push({query:{}}),this.$parent.currentView="Message"}},computed:{getftTime:function(){return o["a"].ft("Y-M-D h:m",this.stime)}},created:function(){this.getMassegeData()}},pt=ut,ht=(a("3008"),Object(d["a"])(pt,ct,lt,!1,null,"efde7cbe",null)),dt=ht.exports,ft=(a("4328"),a("bc3a")),mt=a.n(ft),vt={name:"Console",components:{Overview:m,Project:_,Message:B,MessageDetail:dt,Recycled:X,Collect:et,Dataset:L,Model:z,Course:ot},data:function(){return{utils:o["a"],userSpaceTotal:30*Math.pow(1024,3),upOnceMaximumLimit:2*Math.pow(1024,3)*789,ipfsTemp:null,curUptype:-1,showUpListLay:!1,upListLoading:!1,upingDomLimit:100,upDoneDomLimit:60,upingDomLimitS:0,upDoneLimitS:0,projectSize:0,fileHash:"",tabsData:{Overview:{label:"工作台"}},isUpTab2:!1,consRoutes:[{name:"Overview",label:this.$t("Console.Workbench"),active:!0,data:null},{name:"Project",label:this.$t("Console.project")},{name:"Model",label:this.$t("Console.model")},{name:"Dataset",label:this.$t("Console.dataset")},{name:"Course",label:this.$t("Console.trainingCourse")},{name:"Collect",label:this.$t("Console.favorites")},{name:"Message",label:this.$t("Console.Message")},{name:"Recycled",label:this.$t("Console.recycleBin")}],currentView:"Overview"}},methods:{init:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$store.state.console_child_component,this.changeView(e),this.reqUnReadMsgCount(),t.next=5,this.$store.dispatch("getUserInfo");case 5:this.mkdirs("/".concat(this.workspace));case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changeView:function(t){t&&"Console"!==t||(t="Overview"),this.currentView=t,this.$store.commit("set_console_child_component",t),this.consRoutes.forEach(function(e){e.active=!1,e.name==t&&(e.active=!0)})},reqUnReadMsgCount:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].userUnreadMsgCount);case 2:e=t.sent,200===e.data.code&&(a=e.data.payload||0,this.$store.commit("set_user_unread_msg_count",a));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),joinData:function(t,e){this.consRoutes.forEach(function(a){a.name==t&&(a.data=e)})},mkdirs:function(t){return this.$ipfs.files.mkdir(t,{parents:!0})},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},upProject:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$store.commit("show_read_file_loading",!1),this.isUpTab2=!1,this.showUpListLay=!0,this.upListLoading=!1,this.upingDomLimitS=this.upingDomLimit,this.upDoneLimitS=this.upDoneDomLimit,this.$store.commit("set_cur_canup_status",!1),this.$store.commit("set_up_tip_bar",!0),this.$store.commit("empty_updone_list"),e=Array.from(e,function(t){return t.rid=o["a"].getRandStr(10),t.loaded=0,t.upState=8,t}),this.$store.commit("set_uping_list",e),this.ipfsTemp=this.$ipfsUp.addDirectory(e,{progress:function(t,e,a){if(t){var n=[],r=!0,i=!1,o=void 0;try{for(var c,l=function(){var t=c.value;n=s.upingList.map(function(e){return e.rid===t.rid&&(8!==e.upState&&2!==e.upState||(e.upState=0),e.loaded=t.loaded),e})},u=t[Symbol.iterator]();!(r=(c=u.next()).done);r=!0)l()}catch(p){i=!0,o=p}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}s.changeUpingListStatus(n)}},hasUpload:function(t,e,a){s.manageUpingList(s.upingList),1===t.upState&&s.$store.commit("set_updone_list",t)}},function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(a,n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a&&(console.log("Err5::",a),s.$Message.error("上传失败")),!(n||{}).Hash||s.upingList.length){t.next=20;break}return s.fileHash=n.Hash,s.projectSize=n.Size,t.prev=4,t.next=7,s.copyFileToWorkSpace(n.Hash,n.Size);case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t["catch"](4),alert(s.$t("Console.parsingDirectoryError")),console.log("err-jiexi::",t.t0),t.abrupt("return");case 14:return t.next=16,mt()({method:"get",baseURL:"",timeout:5e3,url:c["a"].ipfsGetServersGeoCode});case 16:r=t.sent,s.$store.commit("set_geo_code",r.headers["geo-code"]||null),s.setUpDoneView(e),s.reqUpFileInfo();case 20:s.$store.commit("set_cur_canup_status",!0),s.upListLoading=!1,s.checkMoreData(),console.log("result::",n);case 24:case"end":return t.stop()}},t,null,[[4,9]])}));return function(e,a){return t.apply(this,arguments)}}());case 12:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),upFileXs:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s,n,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.length){t.next=2;break}return t.abrupt("return");case 2:return this.curUptype=a,this.$store.commit("show_read_file_loading",!0),s=e[0]?e[0].webkitRelativePath.match(/^[^\/]+/)[0]:"",this.$store.commit("set_prefix",o["a"].getRandStr(10)),n=Array.from(e,function(t){return t.size}).reduce(function(t,e){return t+e},0),r="/".concat(this.workspace),"".concat(r,"/").concat(this.prefix,"-").concat(s),t.next=11,this.getUsedSpace(r);case 11:if(i=t.sent,!(n>this.upOnceMaximumLimit)){t.next=15;break}return this.$store.commit("show_read_file_loading",!1),t.abrupt("return",this.$Message.error("".concat(this.$t("Console.uploadRestrictions")).concat(o["a"].getfGMK(this.upOnceMaximumLimit))));case 15:if(!(i+n>this.userSpaceTotal)){t.next=18;break}return this.$store.commit("show_read_file_loading",!1),t.abrupt("return",this.$Message.error(this.$t("Console.spaceUnEnoughTip")));case 18:if(this.workspace){t.next=22;break}return this.$store.commit("show_read_file_loading",!1),this.$Message.error(this.$t("Console.workspaceNotFound")),t.abrupt("return");case 22:this.$store.commit("set_project_name",s),this.upProject(e,n);case 24:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),copyFileToWorkSpace:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return console.error(this.$t("Console.hashNotFound")),t.abrupt("return");case 3:return t.next=5,this.getUsedSpace("/".concat(this.workspace));case 5:if(s=t.sent,!(s+a>this.userSpaceTotal)){t.next=8;break}return t.abrupt("return",this.$Message.error(this.$t("Console.spaceUnEnoughTip")));case 8:return n="",r=this.curUptype,1===r?n="ws-dataset/":2===r&&(n="ws-model/"),t.abrupt("return",this.$ipfs.files.cp("/ipfs/".concat(e),"/".concat(this.workspace,"/").concat(n).concat(this.prefix,"-").concat(this.projectName)));case 12:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),reqUpFileInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,s,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.curUptype>-1?c["a"].createData:c["a"].createTask,a={filePrefixIdentify:this.prefix,trainWay:this.frameSltVal,neuralNetworkType:this.networkType},s={projectName:this.projectName,projectSize:this.projectSize,fileHash:this.fileHash,projectDesc:this.describe,geoCode:this.geoCode},n={dataType:this.curUptype,dataSetType:this.datasetTypeVal,dataHash:this.fileHash,dataName:this.projectName,fileSize:this.projectSize,note:this.describe},a=this.curUptype>-1?Object.assign(a,n):Object.assign(a,s),t.next=7,this.$axios.post(e,a);case 7:r=t.sent,200===r.data.code?(this.$store.commit("set_cur_canup_status",!0),this.$Message.success(this.$t("Console.uploadSuccess")),this.upListLoading=!1,this.$refs.project_s.getProjectList()):alert(r.data.message);case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getUsedSpace:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getIpfsProjectInfo(e);case 3:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(e){return t.apply(this,arguments)}return e}(),showUpAgain:function(){this.$store.commit("show_up_again",!0)},handleUpAgain:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.ipfsTemp.retry(e);case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),handleCloseUpLay:function(){this.showUpListLay=!1},changeUpTab:function(t){this.isUpTab2=2===t},getCurUpProgress:function(t,e,a){if(1===a)return"120px 0 0 0 #389cfa inset";var s=Math.min(t,e)/e*120;return"".concat(s,"px 0 0 0 #389cfa inset")},getCurUpProgressPercent:function(t,e,a){if(!o["a"].isNumber(t)||!o["a"].isNumber(t))return"0%";if(1===a)return"100%";var s=Math.min(t,e)/e*100;return s=o["a"].round(s,0),"".concat(s,"%")},getUpState:function(t){var e={0:this.$t("Console.uploadStatus0"),1:this.$t("Console.uploadStatus1"),2:this.$t("Console.uploadStatus2"),8:this.$t("Console.uploadStatus8")};return e[t]},changeUpingListStatus:function(t){this.$store.commit("set_uping_list",t)},manageUpingList:function(t){var e=t.filter(function(t){return 1!==t.upState});this.$store.commit("set_uping_list",e),this.isAllUpSuccess&&(this.isUpTab2=!0,this.upListLoading=!0)},setUpDoneView:function(t){this.$store.commit("set_uping_list",[]),this.upDoneList.length||this.$store.commit("set_updone_list",t),this.isUpTab2=!0},checkMoreData:function(){var t=this,e=this.$refs.ref_up_done;e.addEventListener("scroll",function(e){var a=e.target.clientHeight,s=e.target.scrollTop,n=e.target.scrollHeight;a+s===n&&(t.upDoneLimitS=Math.min(t.upDoneLimitS+10,t.upDoneList.length))})}},computed:Object(r["a"])({},Object(b["c"])({geoCode:function(t){return t.geoCode},uploadListLay:function(t){return t.ups.uploadListLay},canUpload:function(t){return t.ups.canUpload},upingList:function(t){return t.ups.upingList},upErrList:function(t){return t.ups.upErrList},upDoneList:function(t){return t.ups.upDoneList},isShowUpAgain:function(t){return t.ups.showUpAgain},getUnReadMsgCount:function(t){return t.userUnreadMsgCount},projectName:function(t){return t.projectName},workspace:function(t){return t.userInfo.workspace},prefix:function(t){return t.prefix},frameSltVal:function(t){return t.frameSltVal},networkType:function(t){return t.networkType},datasetTypeVal:function(t){return t.datasetTypeVal},describe:function(t){return t.describe},showUpTipBar:function(t){return t.ups.showUpTipBar},showReadFileLoading:function(t){return t.showReadFileLoading}}),Object(b["b"])({isAllUpSuccess:"isAllUpSuccess"}),{upingList_less:function(){var t=this;return this.upingList.filter(function(e,a){return a<t.upingDomLimitS})},upDoneList_less:function(){var t=this;return this.upDoneList.filter(function(e,a){return a<t.upDoneLimitS})},showAgainUpBtn:function(){return this.upingList.length&&this.upingList.every(function(t){return 2===t.upState})}}),watch:{"$store.state.console_child_component":function(t){this.changeView(t)}},mounted:function(){this.init()},created:function(){this.showUpTipBar&&location.reload()}},gt=vt,bt=(a("182d"),Object(d["a"])(gt,s,n,!1,null,"5af48ae5",null));e["default"]=bt.exports},"39d5":function(t,e,a){"use strict";var s=a("64a9"),n=a.n(s);n.a},"3ad8":function(t,e,a){},"41dc":function(t,e,a){},"47ee":function(t,e,a){var s=a("c3a1"),n=a("9aa9"),r=a("355d");t.exports=function(t){var e=s(t),a=n.f;if(a){var i,o=a(t),c=r.f,l=0;while(o.length>l)c.call(t,i=o[l++])&&e.push(i)}return e}},"4fa7":function(t,e,a){},"53d5":function(t,e,a){},"64a9":function(t,e,a){},6718:function(t,e,a){var s=a("e53d"),n=a("584a"),r=a("b8e3"),i=a("ccb9"),o=a("d9f6").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=r?{}:s.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:i.f(t)})}},"6abf":function(t,e,a){var s=a("e6f3"),n=a("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return s(t,n)}},"72d4":function(t,e,a){},"75f4":function(t,e,a){},"866e":function(t,e,a){},"8aae":function(t,e,a){a("32a6"),t.exports=a("584a").Object.keys},"8e4e":function(t,e,a){"use strict";var s=a("4fa7"),n=a.n(s);n.a},9003:function(t,e,a){var s=a("6b4c");t.exports=Array.isArray||function(t){return"Array"==s(t)}},"93d5":function(t,e,a){"use strict";var s=a("41dc"),n=a.n(s);n.a},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9f4e":function(t,e,a){},a4bb:function(t,e,a){t.exports=a("8aae")},a6c4:function(t,e,a){"use strict";var s=a("72d4"),n=a.n(s);n.a},bf0b8:function(t,e,a){var s=a("355d"),n=a("aebd"),r=a("36c3"),i=a("1bc3"),o=a("07e3"),c=a("794b"),l=Object.getOwnPropertyDescriptor;e.f=a("8e60")?l:function(t,e){if(t=r(t),e=i(e,!0),c)try{return l(t,e)}catch(a){}if(o(t,e))return n(!s.f.call(t,e),t[e])}},bf2a:function(t,e,a){"use strict";var s=a("3ad8"),n=a.n(s);n.a},bf90:function(t,e,a){var s=a("36c3"),n=a("bf0b8").f;a("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return n(s(t),e)}})},c3a0:function(t,e,a){t.exports=a.p+"img/mini-program-QR.493baec7.jpg"},ccb9:function(t,e,a){e.f=a("5168")},ce7e:function(t,e,a){var s=a("63b6"),n=a("584a"),r=a("294c");t.exports=function(t,e){var a=(n.Object||{})[t]||Object[t],i={};i[t]=e(a),s(s.S+s.F*r(function(){a(1)}),"Object",i)}},cebc:function(t,e,a){"use strict";a.d(e,"a",function(){return u});var s=a("268f"),n=a.n(s),r=a("e265"),i=a.n(r),o=a("a4bb"),c=a.n(o),l=a("bd86");function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},s=c()(a);"function"===typeof i.a&&(s=s.concat(i()(a).filter(function(t){return n()(a,t).enumerable}))),s.forEach(function(e){Object(l["a"])(t,e,a[e])})}return t}},cf1d:function(t,e,a){},d34a:function(t,e,a){"use strict";var s=a("fbcf"),n=a.n(s);n.a},d8d8:function(t,e,a){},e265:function(t,e,a){t.exports=a("ed33")},ebfd:function(t,e,a){var s=a("62a0")("meta"),n=a("f772"),r=a("07e3"),i=a("d9f6").f,o=0,c=Object.isExtensible||function(){return!0},l=!a("294c")(function(){return c(Object.preventExtensions({}))}),u=function(t){i(t,s,{value:{i:"O"+ ++o,w:{}}})},p=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,s)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[s].i},h=function(t,e){if(!r(t,s)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[s].w},d=function(t){return l&&f.NEED&&c(t)&&!r(t,s)&&u(t),t},f=t.exports={KEY:s,NEED:!1,fastKey:p,getWeak:h,onFreeze:d}},ed33:function(t,e,a){a("014b"),t.exports=a("584a").Object.getOwnPropertySymbols},f638:function(t,e,a){"use strict";var s=a("34f2"),n=a.n(s);n.a},fbcf:function(t,e,a){},fd96:function(t,e,a){"use strict";var s=a("866e"),n=a.n(s);n.a},fde4:function(t,e,a){a("bf90");var s=a("584a").Object;t.exports=function(t,e){return s.getOwnPropertyDescriptor(t,e)}}}]);