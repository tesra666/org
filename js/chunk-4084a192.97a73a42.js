(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4084a192"],{"0f1c":function(t,e,n){},3940:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"help-container"},[t.spinShow?n("Spin",{attrs:{size:"large"}}):t._e(),n("div",{staticClass:"catalogue"},t._l(t.catalogueData.list,function(e,a){return n("ul",{key:a,class:t.titleShow[a]?"act-name":void 0,attrs:{index:a},on:{click:function(e){return t.showTitle(a)}}},[n("li",{staticClass:"item-title",attrs:{title:e.name}},[n("Icon",{attrs:{type:"md-arrow-dropdown"}}),t._v(t._s(e.name))],1),t._l(e.list,function(e,a){return n("li",{key:a,staticClass:"item-content",attrs:{title:e.name,documentId:e.id},on:{click:function(n){return t.setDocumentId(e.id,e.content)}}},[n("router-link",{attrs:{to:"/help-detail/"+e.id}},[t._v(t._s(e.name))])],1)})],2)}),0),n("div",{staticClass:"main"},[t.spinShow2?n("Spin",{attrs:{size:"large"}}):t._e(),n("div",{staticClass:"text-content"},[n("button",{staticClass:"enshrine-btn",class:t.enshrineData.isEnshrined?"enshrined":void 0,on:{click:function(e){return t.enshrineTxt()}}},[t._v(t._s(t.enshrineData.txt))]),n("article",{staticClass:"context",domProps:{innerHTML:t._s(t.compiledMarkdown)}})]),n("div",{staticClass:"schedule"},[n("Anchor",{attrs:{"show-ink":"",container:".text-content"}},t._l(t.anchorList,function(t,e){return n("AnchorLink",{key:e,attrs:{href:t.href,title:t.name}})}),1)],1)],1)],1)},i=[],s=(n("96cf"),n("3b8d")),r=(n("ac6a"),n("a481"),n("0e54")),o=n.n(r),c=n("1487"),h=n.n(c),u=(n("2c43"),n("bc3a"),n("4ec3")),d=n("fa7d"),l={name:"help-detail",data:function(){return{spinShow:!0,spinShow2:!1,catalogueData:"",anchorList:[],titleShow:[],enshrineData:{isEnshrined:!1,txt:"收藏",documentId:""},markedTxt:""}},computed:{compiledMarkdown:function(){var t=/[i][d][=]['][a][h][r][N][a][N][']/gi;return this.markedTxt.replace(t,'id="title"'),o()(this.markedTxt,{sanitize:!0})}},watch:{compiledMarkdown:function(t){var e=this;""!==t&&setTimeout(function(){var t=[],n=document.querySelectorAll(".context h3");n.forEach(function(e,n){e.setAttribute("id","title"+n);var a={href:"#title"+n,name:e.textContent};t.push(a)}),e.anchorList=t,e.spinShow2=!1},500)}},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.path,d["a"].isEn()&&"/help-detail/8"===e?this.$router.push("/help-detail/27"):d["a"].isEn()||"/help-detail/27"!==e||this.$router.push("/help-detail/8"),t.next=4,this.$axios.post(u["a"].getDocumentById,{id:this.$route.params.id});case 4:return n=t.sent,200===n.data.code?this.requestDoc(n.data.payload.content):this.$Message.error(n.data.message),this.enshrineData.documentId=this.$route.params.id,t.next=9,this.$axios.post(u["a"].helpDocument);case 9:a=t.sent,200===a.data.code&&(a.data.payload.list.length>0?this.catalogueData=a.data.payload:this.$Message.error(a.data.message));case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){this.setTitle()},methods:{showTitle:function(t){this.$set(this.titleShow,t,!this.titleShow[t])},setDocumentId:function(t,e){event.stopPropagation(),this.enshrineData.documentId=t,this.isEnshrine(),this.requestDoc(e),this.spinShow2=!0},enshrineTxt:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(d["a"].isLogin()){t.next=3;break}return this.$Message.warning("未登录"),t.abrupt("return",!1);case 3:if(this.enshrineData.isEnshrined){t.next=10;break}return t.next=6,this.$axios.post(u["a"].documentEnshrine,{documentId:this.enshrineData.documentId,url:location.pathname,title:document.querySelectorAll(".item-content .router-link-active")[0].textContent,type:-1});case 6:e=t.sent,200===e.data.code||100===e.data.code?(this.enshrineData.isEnshrined=!0,this.enshrineData.txt="已收藏"):this.$Message.error(e.data.message),t.next=14;break;case 10:return t.next=12,this.$axios.post(u["a"].documentCancelEnshrine,{documentId:this.enshrineData.documentId});case 12:n=t.sent,200===n.data.code?(this.enshrineData.isEnshrined=!1,this.enshrineData.txt="收藏"):this.$Message.error(n.data.message);case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),requestDoc:function(t){var e=new o.a.Renderer;e.heading=function(t,e){return"<h3 id='ahr"+parseInt(t)+"'>"+t+"</h3>"},o.a.setOptions({renderer:e,highlight:function(t){return h.a.highlightAuto(t).value},pedantic:!1,gfm:!0,tables:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1}),this.markedTxt=t},isEnshrine:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(d["a"].isLogin()){t.next=3;break}return this.spinShow=!1,t.abrupt("return",!1);case 3:return t.next=5,this.$axios.post(u["a"].documentEnshrineChecked,{documentId:this.enshrineData.documentId,type:-1});case 5:e=t.sent,200===e.data.code?(this.enshrineData.isEnshrined=e.data.payload,this.enshrineData.txt=e.data.payload?"已收藏":"收藏",this.spinShow=!1):this.$Message.error(e.data.message);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),setTitle:function(){var t=this;setTimeout(function(){var e=document.querySelectorAll(".catalogue .item-content"),n="";if(e.forEach(function(e){e.getAttribute("documentid")===t.$route.params.id&&(n=e)}),n&&n.children.length>0){n.parentElement.classList.add("act-name");var a=parseInt(n.parentElement.getAttribute("index"));t.showTitle(a),t.isEnshrine()}else t.setTitle();t.spinShow=!1},500)}}},p=l,m=(n("d8dd"),n("d0f0"),n("2877")),f=Object(m["a"])(p,a,i,!1,null,"67835660",null);e["default"]=f.exports},"6bbb":function(t,e,n){},d0f0:function(t,e,n){"use strict";var a=n("6bbb"),i=n.n(a);i.a},d8dd:function(t,e,n){"use strict";var a=n("0f1c"),i=n.n(a);i.a}}]);