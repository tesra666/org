(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5325b702"],{"0197":function(t,e,a){"use strict";var s=a("53d5");a.n(s).a},"07ab":function(t,e,a){},"0f76":function(t,e,a){"use strict";var s=a("b281");a.n(s).a},1169:function(t,e,a){var s=a("2d95");t.exports=Array.isArray||function(t){return"Array"==s(t)}},"17dd":function(t,e,a){},"25f5":function(t,e,a){"use strict";var s=a("b5e1");a.n(s).a},"2eca":function(t,e,a){"use strict";var s=a("6195");a.n(s).a},3688:function(t,e,a){"use strict";a.r(e);var s=a("cebc"),n=(a("456d"),a("4917"),a("a481"),a("5df3"),a("1c4c"),a("ac4d"),a("8a81"),a("7f7f"),a("ac6a"),a("96cf"),a("3b8d")),r=a("b893"),i=a("4ec3"),o={name:"Overview",data:function(){var t=this;return{showHint:!1,tbLoad1:!1,tbLoad2:!1,tbLoad3:!1,curTipText:"",tipStyle:{},isEn:Object(r.r)(),userTotalSpace:30*Math.pow(1024,3),xinpan:[{name:this.$t("Overview.dataset"),cname:"数据集",keyName:"datasetSize",size:0},{name:this.$t("Overview.project"),cname:"项目",keyName:"projectSize",size:0},{name:this.$t("Overview.model"),cname:"模型",keyName:"modelSize",size:0},{name:this.$t("Overview.deployModel"),cname:"训练后的模型",keyName:"deployModelSize",size:0},{name:this.$t("Overview.recycle"),cname:"回收站",keyName:"trashSize",size:1}],columns1:[{title:this.$t("Overview.projectName"),key:"taskName",minWidth:130,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"P"),t("span",{class:"name"},e.row.taskName)])}},{title:this.$t("Overview.tranStatus"),key:"trainStatus",width:150,render:function(e,a){return e("span",{0:t.$t("Overview.state0"),1:t.$t("Overview.state1"),2:t.$t("Overview.state2"),31:t.$t("Overview.state31"),32:t.$t("Overview.state32"),33:t.$t("Overview.state33"),4:t.$t("Overview.state4"),7:t.$t("Overview.state7")}[a.row.trainStatus||0])}},{title:this.$t("Overview.size"),key:"projectSize",width:110,render:function(t,e){var a=e.row.projectSize;return t("span",Object(r.p)(a))}},{title:this.$t("Overview.usedTime"),key:"useDuration",width:120,render:function(t,e){var a=e.row.useDuration;return t("span",Object(r.j)(a))}},{title:this.$t("Overview.hasBeenConsume"),key:"payTh",width:150,render:function(t,e){var a=e.row.payTh;return t("span",Object(r.k)(a)||"-")}},{title:" ",key:"action",width:80,render:function(e,a){return e("div",[e("span",{class:"checkx-btn",props:{type:"text"},on:{click:function(){t.handleCheck(a.row)}}},t.$t("Overview.check"))])}}],columns2:[{title:this.$t("Overview.projectName"),key:"taskName",minWidth:130,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"P"),t("span",{class:e.row.old?"name":"oldname"},e.row.taskName)])}},{title:this.$t("Overview.tranStatus"),key:"trainStatus",width:150,render:function(e,a){return e("span",{0:t.$t("Overview.state0"),1:t.$t("Overview.state1"),2:t.$t("Overview.state2"),31:t.$t("Overview.state31"),32:t.$t("Overview.state32"),33:t.$t("Overview.state33"),4:t.$t("Overview.state4"),7:t.$t("Overview.state7")}[a.row.trainStatus||0])}},{title:this.$t("Overview.size"),key:"projectSize",width:110,render:function(t,e){var a=e.row.projectSize;return t("span",Object(r.p)(a))}},{title:this.$t("Overview.updateTime"),key:"updateTime",width:150,render:function(t,e){var a=e.row.updateTime;return t("span",Object(r.l)("Y-M-D h:m",a))}},{title:this.$t("Overview.describe"),key:"projectDesc",minWidth:120,render:function(e,a){var s=a.row.id,n=a.row.projectDesc;return e("input",{class:"inp-xtyb",key:s,attrs:{type:"text",maxLength:100,value:n},on:{change:function(){t.handleEditRemark(s,event.target.value)}}})}},{title:this.$t("Overview.curConsume"),key:"payTh",width:130,render:function(t,e){var a=e.row.payTh;return t("span",Object(r.k)(a)||"-")}},{title:" ",key:"action",width:90,render:function(e,a){return e("div",[e("span",{class:"checkx-btn",props:{type:"text"},on:{click:function(){t.handleCheck(a.row)}}},t.$t("Overview.check"))])}}],columns3:[{title:this.$t("Overview.deployName"),key:"name",minWidth:130,toolTip:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"I"),t("span",{class:"name"},e.row.name)])}},{title:this.$t("Overview.deployVersion"),key:"version",width:110},{title:this.$t("Overview.deployStatus"),key:"status",width:150,toolTip:!0,render:function(e,a){return e("span",{0:t.$t("Overview.state100"),1:t.$t("Overview.state101"),2:t.$t("Overview.state102"),3:t.$t("Overview.state103")}[a.row.status||0])}},{title:this.$t("Overview.updateTime"),key:"createTime",width:150,toolTip:!0,render:function(t,e){var a=e.row.createTime;return t("span",Object(r.l)("Y-M-D h:m",a))}},{title:this.$t("Overview.reqTotal"),key:"reqTotalS",width:150,toolTip:!0,render:function(t,e){var a=Object(r.g)(e.row.successNumber),s=Object(r.g)(e.row.failNumber);return t("span","".concat(a," / ").concat(s))}},{title:" ",key:"action",width:90,toolTip:!0,render:function(e,a){return e("div",[e("span",{class:"checkx-btn",props:{type:"text"},on:{click:function(){t.handleViewDeployDetail(a.row)}}},t.$t("Overview.check"))])}}],list1:[],list2:[],list3:[],total1:0,total2:0,total3:0,myUsedSpace:0}},filters:{filterGetfGMK:function(t){return Object(r.p)(t)}},methods:{init:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getRuningProject(),this.getLatestProject(),this.reqUsedSpaceInfo(),this.moveMouseShowTip(),this.reqDeployList(),this.$store.dispatch("getUserInfo");case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),reqUsedSpaceInfo:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post(i.a.getWorkspaceInfo);case 3:if(e=t.sent,a=e.data,s=a.code,n=a.payload,200!==s){t.next=13;break}if(r=n||{},Object.keys(r).length){t.next=11;break}return t.abrupt("return");case 11:this.myUsedSpace=r.workspaceSize,this.xinpan=this.xinpan.map((function(t){return t.size=r[t.keyName]||0,t}));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0);case 18:case"end":return t.stop()}}),t,this,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),handleEditRemark:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s={id:e,projectDesc:a},t.next=4,this.$axios.post(i.a.updateConfig,s);case 4:n=t.sent,200===n.data.code&&this.$Message.success(this.$t("Overview.saved")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}(),getItemSize:function(t){return Object(r.p)(t)},moveMouseShowTip:function(){var t=this,e=this.$refs.nstpx_xs;e.addEventListener("mousemove",(function(e){var a=e.clientX,s=e.clientY;if("l-xo"===e.target.className){var n=e.target.getAttribute("file-size-tip"),r=e.target.getAttribute("file-name");t.curTipText="".concat(r,": ").concat(n),t.tipStyle={top:"".concat(s+10,"px"),left:"".concat(a+14,"px"),opacity:1}}else t.tipStyle.opacity=0})),e.addEventListener("mouseleave",(function(e){t.tipStyle.opacity=0}))},getRuningProject:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s,n,r,o,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,t.prev=1,e=i.a.getRunningTask,a={pageSize:1e9},t.next=6,this.$axios.post(e,a);case 6:s=t.sent,n=s.data,r=n.code,o=n.payload,c=o.list,u=o.total,200===r&&(this.list1=c,this.total1=u),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1);case 18:this.tbLoad1=!1;case 19:case"end":return t.stop()}}),t,this,[[1,15]])})));return function(){return t.apply(this,arguments)}}(),getLatestProject:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s,n,r,o,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.tbLoad2=!0,t.prev=1,e=i.a.getLatestEditTask,a={pageSize:1e9},t.next=6,this.$axios.post(e,a);case 6:s=t.sent,n=s.data,r=n.code,o=n.payload,c=o.list,u=o.total,200===r&&(this.list2=c,this.total2=u),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1);case 18:this.tbLoad2=!1;case 19:case"end":return t.stop()}}),t,this,[[1,15]])})));return function(){return t.apply(this,arguments)}}(),reqDeployList:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s,n,r,o,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.tbLoad3=!0,t.prev=1,e=i.a.findDeployList,a={pageSize:1e9,status:1},t.next=6,this.$axios.post(e,a);case 6:s=t.sent,n=s.data,r=n.code,o=n.payload,c=o.list,u=o.total,200===r&&(this.list3=c,this.total3=u),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1);case 18:this.tbLoad3=!1;case 19:case"end":return t.stop()}}),t,this,[[1,15]])})));return function(){return t.apply(this,arguments)}}(),handleCheck:function(t){t.old?this.$router.push({name:"AiTrain",query:{id:t.id}}):this.showHint=!0},handleViewDeployDetail:function(t){this.$store.commit("set_deploy_taskid",t.taskId),this.$store.commit("set_deploy_id",t.id),this.$router.push({name:"Deployment",params:{showDeployDetail:!0}})},mkdirs:function(t){var e=this;return new Promise((function(a,s){e.$ipfs.files.mkdir(t,{parents:!0},(function(t,e){t?s(t):a(e)}))}))},getJindu:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 0==t?"0%":100*Math.max(t/this.userTotalSpace,.005)+"%"},isShowJbar:function(t){return this.xinpan[t].size>0}},computed:{usedSpace_calc:function(){return Object(r.p)(this.myUsedSpace)},usableSpace:function(){return Object(r.k)(this.userTotalSpace-this.myUsedSpace,3)},usableSpaceStr:function(){return this.$t("Overview.usable")+Object(r.p)(this.usableSpace)}},mounted:function(){this.init()}},c=(a("88e9"),a("795a"),a("2877")),u=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"con-overview overview-xza"},[a("section",{staticClass:"secpv"},[a("div",{staticClass:"head-x1"},[a("div",{staticClass:"sx-tit"},[a("span",{staticClass:"tit",attrs:{cnrk:"星盘"}},[t._v(t._s(t.$t("Overview.xinpan")))]),t.isEn?a("span",{staticClass:"sy-fr num-tip",attrs:{cnrk:"已使用"}},[t._v(" \n          "+t._s(t.usedSpace_calc)+" "+t._s(t.$t("Overview.usedTxt"))+" / "+t._s(t._f("filterGetfGMK")(t.userTotalSpace))+" \n        ")]):a("span",{staticClass:"sy-fr num-tip",attrs:{cnrk:"已使用"}},[t._v("\n          "+t._s(t.$t("Overview.usedTxt"))+"\n          "+t._s(t.usedSpace_calc)+" / "+t._s(t._f("filterGetfGMK")(t.userTotalSpace))+" ")])]),a("div",{staticClass:"space-box"},[a("div",{staticClass:"sp-tip",style:t.tipStyle},[t._v(t._s(t.curTipText))]),a("ul",{ref:"nstpx_xs",staticClass:"nstpx-re",attrs:{"data-usable-str":t.usableSpaceStr}},t._l(t.xinpan,(function(e,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowJbar(s),expression:"isShowJbar(index)"}],key:s,staticClass:"l-xo",style:"width:"+t.getJindu(e.size),attrs:{"file-name":e.name,"file-size-tip":t.getItemSize(e.size),"raw-size":e.size}})})),0),a("ul",{staticClass:"u-mount"},t._l(t.xinpan,(function(e,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowJbar(s),expression:"isShowJbar(index)"}],key:s},[t._v(t._s(e.name))])})),0)])])]),a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq"},[a("span",{staticClass:"tit",attrs:{cnrk:"当前运行的项目数"}},[t._v(t._s(t.$t("Overview.runProjectNum")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total1))])]),a("div",{staticClass:"table-wrapper"},[a("Table",{staticClass:"ovtbz",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns1,data:t.list1}})],1)]),a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq"},[a("span",{staticClass:"tit",attrs:{cnrk:"最近编辑的项目"}},[t._v(t._s(t.$t("Overview.lastEditPro")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total2))])]),a("div",{staticClass:"table-wrapper"},[a("Table",{staticClass:"ovtbz",class:{"g-loading":t.tbLoad2},attrs:{columns:t.columns2,data:t.list2}})],1)]),a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq"},[a("span",{staticClass:"tit",attrs:{cnrk:"推理部署"}},[t._v(t._s(t.$t("Overview.tuiliDep")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total3))])]),a("div",{staticClass:"table-wrapper"},[a("Table",{staticClass:"ovtbz",class:{"g-loading":t.tbLoad2},attrs:{columns:t.columns3,data:t.list3}})],1)]),a("Modal",{staticClass:"y-model",attrs:{"footer-hide":"",styles:{top:"30vh"},title:t.$t("AI.modalFiniTip")},model:{value:t.showHint,callback:function(e){t.showHint=e},expression:"showHint"}},[a("p",{staticClass:"text-center"},[t._v(t._s(t.$t("depTai.oldProjectViewTip")))]),a("div",{staticClass:"y-btn-box"},[a("span",{staticClass:"bg-blue",on:{click:function(e){t.showHint=!1}}},[t._v(t._s(t.$t("Console.ok")))])])])],1)}),[],!1,null,"3c02c828",null).exports,l=a("fcbf"),p=a("2f62"),h=null,d={name:"Project",mixins:[l.a],data:function(){var t=this;return this.$createElement,{showHint:!1,workspace:"",modal1:!1,upModel:!1,taskCode:-1,taskName:"",tbLoading:!1,projectList:[],userUsableSpace:0,query:{pageNum:1,pageSize:10},filt:{trainState:"",trainFrame:"",netType:""},total:0,upt:{frameSltVal:1,networkType:1,describe:"",proName:"",frameSlt:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:"caffe",value:6},{label:this.$t("Project.other"),value:5}],netType:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:"caffe",value:6},{label:this.$t("Project.other"),value:5}]},columns1:[{title:this.$t("Project.projectName"),key:"taskName",minWidth:230,ellipsis:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"P"),t("span",{class:e.row.old?"name":"oldname",attrs:{title:e.row.taskName}},e.row.taskName||"-")])}},{title:this.$t("Project.tranStatus"),key:"trainStatus",width:150,filters:[{label:this.$t("Project.state0"),value:0},{label:this.$t("Project.state1"),value:1},{label:this.$t("Project.state2"),value:2},{label:this.$t("Project.state31"),value:31},{label:this.$t("Project.state4"),value:4},{label:this.$t("Project.state7"),value:7}],filterMultiple:!1,filterRemote:function(t,e,a){31!=t[0]?h.filt.trainState=t[0]:h.filt.trainState="31,32,33"},render:function(e,a){return e("span",{0:t.$t("Overview.state0"),1:t.$t("Overview.state1"),2:t.$t("Overview.state2"),31:t.$t("Overview.state31"),32:t.$t("Overview.state32"),33:t.$t("Overview.state33"),4:t.$t("Overview.state4"),7:t.$t("Overview.state7")}[a.row.trainStatus||0])}},{title:this.$t("Project.frames"),key:"trainWay",width:150,tooltip:!0,filters:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){h.filt.trainFrame=t[0]},render:function(e,a){var s=a.row.id,n=a.row.trainWay;return e("Select",{class:"slt-xps slt-byp",on:{"on-change":function(e){t.handleEditFrame(s,e)}},model:{value:n,callback:function(t){n=t}}},[t.upt.frameSlt.map((function(t){return e("Option",{attrs:{value:t.value}},[t.label])}))])}},{title:this.$t("Project.netType2"),key:"neuralNetworkType",width:160,tooltip:!0,filters:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){h.filt.netType=t[0]},render:function(e,a){var s=a.row.id,n=a.row.neuralNetworkType;return e("Select",{class:"slt-xps slt-byp",on:{"on-change":function(e){t.handleEditNetType(s,e)}},model:{value:n,callback:function(t){n=t}}},[t.upt.netType.map((function(t){return e("Option",{attrs:{value:t.value}},[t.label])}))])}},{title:this.$t("Project.size"),key:"projectSize",width:120,tooltip:!0,render:function(t,e){return t("span",Object(r.p)(e.row.projectSize))}},{title:this.$t("Project.updateTime"),key:"updateTime",width:150,ellipsis:!0,render:function(t,e){return t("span",Object(r.l)("Y-M-D h:m",e.row.updateTime))}},{title:this.$t("Project.describe"),key:"projectDesc",minWidth:180,tooltip:!0,render:function(e,a){var s=a.row.id,n=a.row.projectDesc;return e("input",{class:"inp-xtyb",key:s,attrs:{type:"text",maxLength:100,value:n},on:{change:function(){t.handleEditRemark(s,event.target.value)}}})}},{title:this.$t("Project.usedTime"),key:"useDuration",width:100,tooltip:!0,render:function(t,e){var a=e.row.useDuration;return t("span",Object(r.j)(a))}},{title:this.$t("Project.hasBeenConsume"),key:"payTh",width:130,tooltip:!0,render:function(t,e){var a=e.row.payTh;return t("span",Object(r.k)(a)||0)}},{title:this.$t("Project.ctrl"),key:"action",align:"center",width:Object(r.r)()?210:170,fixed:"right",render:function(e,a){var s=a.row;return e("div",[e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleCheck(s)}}},t.$t("Project.check")),e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleDownloadProject(s)}}},t.$t("Console.download")),e("span",{class:"del-fp-btn",props:{type:"text"},on:{click:function(){t.reqDelProject(s.taskCode)}}},t.$t("Project.del"))])}}]}},filters:{filterGetfGMK:function(t){return Object(r.p)(t)}},methods:{handleDownloadProject:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.old){t.next=3;break}return this.downloadDirNew(e.fileHash||e.directoryHash),t.abrupt("return");case 3:return t.prev=3,t.next=6,this.$ipfs.files.stat("/ipfs/"+e.fileHash);case 6:"file"===t.sent.type?this.downloadFile(e.fileHash):this.downloadDir(e.fileHash),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3);case 13:case"end":return t.stop()}}),t,this,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),init:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getProjectList();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),handleEditRemark:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s={id:e,projectDesc:a},t.next=4,this.$axios.post(i.a.updateConfig,s);case 4:200===t.sent.data.code&&this.$Message.success(this.$t("Project.saved")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}(),handleEditFrame:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,s={id:e,trainWay:a},t.next=6,this.$axios.post(i.a.updateConfig,s);case 6:200===t.sent.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2);case 13:case"end":return t.stop()}}),t,this,[[2,10]])})));return function(e,a){return t.apply(this,arguments)}}(),handleEditNetType:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,s={id:e,neuralNetworkType:a},t.next=6,this.$axios.post(i.a.updateConfig,s);case 6:200===t.sent.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2);case 13:case"end":return t.stop()}}),t,this,[[2,10]])})));return function(e,a){return t.apply(this,arguments)}}(),getProjectList:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.tbLoading=!0,t.prev=1,e={trainStatus:this.filt.trainState,trainWay:this.filt.trainFrame,neuralNetworkType:this.filt.netType},e=Object.assign(this.query,e),t.next=6,this.$axios.post(i.a.getTaskList,e);case 6:if(200!==(a=t.sent).data.code){t.next=13;break}if(s=a.data.payload||[],Object.keys(s).length){t.next=11;break}return t.abrupt("return");case 11:this.projectList=s.list,this.total=s.total;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1);case 18:this.tbLoading=!1;case 19:case"end":return t.stop()}}),t,this,[[1,15]])})));return function(){return t.apply(this,arguments)}}(),changePage:function(t){this.query.pageNum=t,this.getProjectList()},handleCheck:function(t){t.old?this.$router.push({name:"AiTrain",query:{id:t.id}}):this.showHint=!0},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},handleUpload:function(){this.canUpload&&(this.upModel=!0,this.resetUpCfg(),this.reqUserUsableSpace())},upFileXz:function(){var t=event.target.files,e=(t||[])[0]?t[0].webkitRelativePath.match(/^[^\/]+/)[0]:"";this.upt.proName=e},handleShowUpList:function(){if(this.upt.proName)if(this.$refs.inpq.files&&this.$refs.inpq.files.length>2e3)this.$Message.warning(this.$t("Console.overTwoThonsand"));else{var t=this.$refs.inpq.files;this.upModel=!1,this.$parent.upFileXs(t,-1)}else this.$Message.warning(this.$t("Project.choiceUpPro"))},resetUpCfg:function(){this.upt.frameSltVal=1,this.upt.networkType=1,this.$store.commit("set_pro_describe",null),this.upt.describe="",this.upt.proName="",this.$refs.inpq.value=""},handleCancleUp:function(){this.upModel=!1},reqDelProject:Object(r.h)(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){var a,s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=i.a.delProject,s={taskCode:e},t.next=5,this.$axios.post(a,s);case 5:if(200!==(n=t.sent).data.code){t.next=13;break}return this.$Message.success(this.$t("Project.shiftInRecycle")),t.next=10,Object(r.A)(300);case 10:this.getProjectList(),t.next=14;break;case 13:this.$Message.error(n.data.message);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0);case 19:case"end":return t.stop()}}),t,this,[[0,16]])})));return function(e){return t.apply(this,arguments)}}(),300),handleUppro:function(){this.$parent.showUpListLay=!this.$parent.showUpListLay},getUsedSpace:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getIpfsProjectInfo(e);case 3:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",0);case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),reqUserUsableSpace:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post(i.a.getFreeSpace);case 3:200===(e=t.sent).data.code&&(this.userUsableSpace=e.data.payload||0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},computed:Object(s.a)({},Object(p.c)({showUpTipBar:function(t){return t.ups.showUpTipBar}}),{canUpload:function(){return this.$store.state.ups.canUpload},isUping:function(){return this.$store.state.ups.showUpTipBar}}),watch:{"upt.frameSltVal":function(t){this.$store.commit("set_frame_type",t)},"upt.networkType":function(t){this.$store.commit("set_net_type",t)},"upt.describe":function(t){this.$store.commit("set_pro_describe",t)}},mounted:function(){this.init()},created:function(){h=this,-1===this.$parent.curUptype&&this.$store.state.ups.upDoneList.length?this.$store.commit("set_up_tip_bar",!0):this.$store.commit("set_up_tip_bar",!1)}},f=(a("fbbc"),a("5434"),Object(c.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-project project-togh"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我创建的"}},[t._v(t._s(t.$t("Project.mySetup")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total))])]),a("div",{staticClass:"r-usx"},[a("p",{staticClass:"uppro-txt",class:{on:t.isUping},attrs:{cnrk:"上传列表"},on:{click:function(e){return t.handleUppro()}}},[t._v(t._s(t.$t("Project.uplist")))]),a("label",{staticClass:"bg-linear lb-up--ye62hsd8d3",attrs:{disabled:!t.canUpload,cnrk:"上传"},on:{click:function(e){return t.handleUpload()}}},[t._v(t._s(t.$t("Project.upload")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoading},attrs:{columns:t.columns1,data:t.projectList},on:{"on-filter-change":function(e){return t.getProjectList()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.projectList.length,expression:"projectList.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.total,"page-size":t.query.pageSize,current:t.query.pageNum},on:{"on-change":t.changePage}})],1),a("Modal",{staticClass:"up-lay2",attrs:{width:"500",draggable:"",title:t.$t("Console.uploadProject"),closable:!0,"footer-hide":""},model:{value:t.upModel,callback:function(e){t.upModel=e},expression:"upModel"}},[a("div",{staticClass:"ups-inner"},[a("Row",{staticClass:"row_xs"},[a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"项目框架"}},[t._v(t._s(t.$t("Project.proFrame")))]),a("Select",{staticClass:"slt",model:{value:t.upt.frameSltVal,callback:function(e){t.$set(t.upt,"frameSltVal",e)},expression:"upt.frameSltVal"}},t._l(t.upt.frameSlt,(function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1),a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"神经网络类型"}},[t._v(t._s(t.$t("Project.netType")))]),a("Select",{staticClass:"slt",attrs:{span:"6"},model:{value:t.upt.networkType,callback:function(e){t.$set(t.upt,"networkType",e)},expression:"upt.networkType"}},t._l(t.upt.netType,(function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)],1),a("Row",{staticClass:"row_xs row_xs2"},[a("span",{staticClass:"sp1",attrs:{cnrk:"描述"}},[t._v(t._s(t.$t("Project.describe")))]),a("Input",{staticClass:"inp-ms",attrs:{maxlength:100,type:"textarea",autosize:!1,placeholder:t.$t("Project.typeDescContent"),cnrk:"p: 请输入项目描述内容"},model:{value:t.upt.describe,callback:function(e){t.$set(t.upt,"describe",e)},expression:"upt.describe"}})],1),a("p",{staticClass:"penrc"},[t._v(t._s(t.$t("Console.xstroSpace"))+t._s(t._f("filterGetfGMK")(t.userUsableSpace)))]),a("div",{staticClass:"row_xs rs-xm"},[a("span",{staticClass:"sp1",attrs:{cnrk:"项目名称"}},[t._v(t._s(t.$t("Project.projectName")))]),a("Input",{staticClass:"inp-mt",attrs:{type:"text",readonly:"",placeholder:t.$t("Project.choicePro"),cnrk:"r: 请选择项目"},model:{value:t.upt.proName,callback:function(e){t.$set(t.upt,"proName",e)},expression:"upt.proName"}}),a("input",{ref:"inpq",attrs:{type:"file",id:"inpx1",webkitdirectory:"",directory:"",hidden:""},on:{change:function(e){return t.upFileXz()}}}),a("label",{staticClass:"base-btn2 bg-linear chs-btn",attrs:{for:"inpx1",cnrk:"选择"}},[t._v(t._s(t.$t("Project.choice")))])],1),a("p",{staticClass:"p-tip"},[t._v(t._s(t.$t("Console.upProjectTipDes")))]),a("Row",{staticClass:"row-btm",attrs:{type:"flex",justify:"center"}},[a("button",{staticClass:"base-btn2 bg-linear un-btn",attrs:{cnrk:"上传"},on:{click:t.handleShowUpList}},[t._v(t._s(t.$t("Project.upload")))]),a("CoButtonWhite",{staticClass:"un-btn qx-btn",attrs:{cnrk:"取消"},nativeOn:{click:function(e){return t.handleCancleUp(e)}}},[t._v(t._s(t.$t("Project.cancel")))])],1)],1)]),a("Modal",{staticClass:"y-model",attrs:{"footer-hide":"",styles:{top:"30vh"},title:t.$t("AI.modalFiniTip")},model:{value:t.showHint,callback:function(e){t.showHint=e},expression:"showHint"}},[a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("depTai.oldProjectViewTip")))]),a("div",{staticClass:"y-btn-box"},[a("span",{staticClass:"bg-linear",on:{click:function(e){t.showHint=!1}}},[t._v(t._s(t.$t("Console.ok")))])])])],1)}),[],!1,null,"5384cdfd",null)).exports,m={},v={name:"Dataset",mixins:[l.a],data:function(){var t=this;return this.$createElement,{userSpaceTotal:30*Math.pow(1024,3),upOnceMaximumLimit:30*Math.pow(1024,3),userUsableSpace:0,file_y:null,workspace:"",modal1:!1,upDataset:!1,query:{pageNum:1,pageSize:10},filt:{dataSetType:""},total:0,tbLoading:!1,pList:[],upt:{describe:"",proName:"",datasetTypeVal:1,datasetType:[{label:this.$t("DataSet.tranSet"),value:1},{label:this.$t("DataSet.verifySet"),value:2},{label:this.$t("DataSet.testSet"),value:3}]},columns1:[{title:this.$t("DataSet.dataSetName"),key:"dataName",minWidth:230,ellipsis:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"D"),t("span",{class:1===e.row.old?"name":"oldname",attrs:{title:e.row.dataName}},e.row.dataName||"-")])}},{title:this.$t("DataSet.type"),key:"dataSetType",width:150,tooltip:!0,filters:[{label:this.$t("DataSet.tranSet"),value:1},{label:this.$t("DataSet.verifySet"),value:2},{label:this.$t("DataSet.testSet"),value:3}],filterMultiple:!1,filterRemote:function(t,e,a){m.filt.dataSetType=t[0]},render:function(e,a){var s=a.row.id,n=a.row.dataSetType;return e("Select",{class:"slt-xps slt-byp",on:{"on-change":function(e){t.handleUpdateList(s,e)}},model:{value:n,callback:function(t){n=t}}},[t.upt.datasetType.map((function(t){return e("Option",{attrs:{value:t.value}},[t.label])}))])}},{title:this.$t("Project.updateTime"),key:"createTime",width:150,tooltip:!0,render:function(t,e){return t("span",Object(r.l)("Y-M-D h:m",e.row.createTime))}},{title:this.$t("Project.size"),key:"fileSize",width:150,tooltip:!0,render:function(t,e){return t("span",Object(r.p)(e.row.fileSize))}},{title:this.$t("Project.describe"),key:"note",width:200,tooltip:!0,render:function(e,a){var s=a.row.id,n=a.row.note;return e("input",{class:"inp-xtyb",key:s,attrs:{type:"text",maxLength:15,value:n},on:{change:function(){t.handleEditRemark(s,event.target.value)}}})}},{title:this.$t("Project.ctrl"),key:"action",align:"center",width:Object(r.r)()?200:170,fixed:"right",render:function(e,a){var s=a.row;return e("div",[e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleDownloadDataset(s)}}},t.$t("Console.download")),e("span",{class:"del-fp-btn",props:{type:"text"},on:{click:function(){t.reqDelProject(s.id)}}},t.$t("Project.del"))])}}]}},filters:{transGMK:function(t){return Object(r.p)(t)}},methods:{fnBeforeUpload:function(t){return t.size>this.upOnceMaximumLimit?(this.$Message.error("".concat(this.$t("Console.uploadRestrictions")).concat(Object(r.p)(this.upOnceMaximumLimit))),this.upt.proName="",this.file_y=null):t.size>this.userUsableSpace?(this.$Message.error(this.$t("Console.spaceUnEnoughTip")),this.upt.proName="",this.file_y=null):(this.upt.proName=t.name.replace(/\.\w+$/,""),this.file_y=t),!1},handleDownloadDataset:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.old){t.next=3;break}return this.downloadFile(e.dataHash),t.abrupt("return");case 3:return t.prev=3,t.next=6,this.$ipfs.files.stat("/ipfs/"+e.dataHash);case 6:"file"===t.sent.type?this.downloadFile(e.dataHash):this.downloadDir(e.dataHash),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3);case 13:case"end":return t.stop()}}),t,this,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),init:function(){this.getProjectList()},handleEditRemark:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s={id:e,note:a},t.next=4,this.$axios.post(i.a.updateMorD,s);case 4:200===t.sent.data.code&&this.$Message.success(this.$t("Project.saved")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}(),handleUpdateList:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,s={id:e,dataSetType:a},t.next=6,this.$axios.post(i.a.updateMorD,s);case 6:200===t.sent.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2);case 13:case"end":return t.stop()}}),t,this,[[2,10]])})));return function(e,a){return t.apply(this,arguments)}}(),getProjectList:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.tbLoading=!0,t.prev=1,e={dataType:1,dataSetType:this.filt.dataSetType},e=Object.assign(this.query,e),t.next=6,this.$axios.post(i.a.getDataList,e);case 6:if(200!==(a=t.sent).data.code){t.next=13;break}if(s=a.data.payload||[],Object.keys(s).length){t.next=11;break}return t.abrupt("return");case 11:this.pList=s.list,this.total=s.total;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1);case 18:this.tbLoading=!1;case 19:case"end":return t.stop()}}),t,this,[[1,15]])})));return function(){return t.apply(this,arguments)}}(),changePage:function(t){this.query.pageNum=t,this.getProjectList()},handleCheck:function(t){this.$router.push({name:"AiTrain",query:{d:t}})},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},handleUpload:function(){this.$store.state.uploadingStatus?this.$store.commit("SET_UPLOADING_SHOW",!0):(this.reqUserUsableSpace(),this.upDataset=!0)},upFileXz:function(){event.target.files;var t=(file||[])[0]?file[0].name.replace(/\.\w+$/,""):"";this.upt.proName=t},handleShowUpList:function(){if(this.upt.proName){var t=this.file_y.size;if(t>this.upOnceMaximumLimit)return this.$Message.error("".concat(this.$t("Console.uploadRestrictions")).concat(Object(r.p)(this.upOnceMaximumLimit)));if(t>this.userUsableSpace)return this.$Message.error(this.$t("Console.spaceUnEnoughTip"));this.$store.commit("SET_UPLOADING_SHOW",!0),this.$store.commit("SET_UPLOADING_FILE",this.file_y),this.$store.commit("SET_UPLOADING_POST",{dataSetType:this.upt.datasetTypeVal,dataType:1,note:this.upt.describe}),this.upt.proName="",this.upt.describe="",this.upt.datasetTypeVal=1,this.upDataset=!1}else this.$Message.warning(this.$t("DataSet.choiceUploadDataSetX"))},resetUpCfg:function(){this.upt.datasetTypeVal=1,this.$store.commit("set_pro_describe",null),this.$store.commit("set_dataset_type",1),this.upt.describe="",this.upt.proName="",this.$refs.inpq.value=""},handleCancleUp:function(){this.upDataset=!1},reqDelProject:Object(r.h)(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){var a,s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=i.a.delMorD,s={id:e},t.next=5,this.$axios.post(a,s);case 5:if(200!==(n=t.sent).data.code){t.next=13;break}return this.$Message.success(this.$t("Project.shiftInRecycle")),t.next=10,Object(r.A)(300);case 10:this.getProjectList(),t.next=14;break;case 13:this.$Message.error(n.data.message);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0);case 19:case"end":return t.stop()}}),t,this,[[0,16]])})));return function(e){return t.apply(this,arguments)}}(),350),handleUpDataset:function(){this.$parent.showUpListLay=!this.$parent.showUpListLay},getUsedSpace:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getIpfsProjectInfo(e);case 3:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",0);case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),reqUserUsableSpace:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post(i.a.getFreeSpace);case 3:200===(e=t.sent).data.code&&(this.userUsableSpace=e.data.payload||0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},computed:Object(s.a)({},Object(p.c)({showUpTipBar:function(t){return t.ups.showUpTipBar}}),{canUpload:function(){return this.$store.state.ups.canUpload}}),watch:{"upt.datasetTypeVal":function(t){this.$store.commit("set_dataset_type",t)},"upt.describe":function(t){this.$store.commit("set_pro_describe",t)},"$store.state.uploadingStatus":function(t){t||this.init()}},mounted:function(){this.init()},created:function(){m=this,1===this.$parent.curUptype&&this.$store.state.ups.upDoneList.length?this.$store.commit("set_up_tip_bar",!0):this.$store.commit("set_up_tip_bar",!1),this.reqUserUsableSpace()}},b=(a("444c"),Object(c.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-project model-togh"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我创建的"}},[t._v(t._s(t.$t("DataSet.mySetup")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total))])]),a("div",{staticClass:"r-usx"},[a("label",{staticClass:"bg-linear lb-up--ye62hsd8d3",attrs:{cnrk:"上传"},on:{click:t.handleUpload}},[t._v(t._s(t.$store.state.uploadingStatus?t.$t("Project.uploading"):t.$t("Project.upload")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoading},attrs:{columns:t.columns1,data:t.pList},on:{"on-filter-change":function(e){return t.getProjectList()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pList.length,expression:"pList.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.total,"page-size":t.query.pageSize,current:t.query.pageNum},on:{"on-change":t.changePage}})],1),a("Modal",{staticClass:"up-lay2",attrs:{width:"500",draggable:"",cnrk:"t: 数据集上传",title:t.$t("DataSet.dataSetUpload"),closable:!0,"footer-hide":""},model:{value:t.upDataset,callback:function(e){t.upDataset=e},expression:"upDataset"}},[a("div",{staticClass:"ups-inner"},[a("div",{staticClass:"row_xs"},[a("div",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1 spa",attrs:{cnrk:"数据集类型"}},[t._v(t._s(t.$t("DataSet.dataSetType")))]),a("Select",{staticClass:"slt",model:{value:t.upt.datasetTypeVal,callback:function(e){t.$set(t.upt,"datasetTypeVal",e)},expression:"upt.datasetTypeVal"}},t._l(t.upt.datasetType,(function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)]),a("div",{staticClass:"row_xs row_xs2"},[a("span",{staticClass:"sp1",attrs:{cnrk:"描述"}},[t._v(t._s(t.$t("Project.describe")))]),a("Input",{staticClass:"inp-ms",attrs:{maxlength:15,type:"textarea",autosize:!1,placeholder:t.$t("Project.typeDescContent")},model:{value:t.upt.describe,callback:function(e){t.$set(t.upt,"describe",e)},expression:"upt.describe"}})],1),a("p",{staticClass:"penrc"},[t._v(t._s(t.$t("Console.xstroSpace"))+t._s(t._f("transGMK")(t.userUsableSpace)))]),a("div",{staticClass:"row_xs rs-xm"},[a("span",{staticClass:"sp1 spk",attrs:{cnrk:"数据集名称"}},[t._v(t._s(t.$t("DataSet.dataSetName")))]),a("Input",{staticClass:"inp-mt",attrs:{type:"text",readonly:"",placeholder:t.$t("DataSet.choiceDataSet")},model:{value:t.upt.proName,callback:function(e){t.$set(t.upt,"proName",e)},expression:"upt.proName"}}),a("Upload",{attrs:{action:"//jsonplaceholder.typicode.com/posts/","show-upload-list":!1,accept:".zip","before-upload":t.fnBeforeUpload}},[a("span",{staticClass:"bg-linear chs-btn",attrs:{cnrk:"选择"}},[t._v(t._s(t.$t("Project.choice")))])])],1),a("p",{staticClass:"p-tip"},[t._v(t._s(t.$t("Console.nameTipDesDataset")))]),a("Row",{staticClass:"row-btm",attrs:{type:"flex",justify:"center"}},[a("CoButton",{staticClass:"un-btn",attrs:{cnrk:"上传"},nativeOn:{click:function(e){return t.handleShowUpList(e)}}},[t._v(t._s(t.$t("Project.upload")))]),a("CoButtonWhite",{staticClass:"qx-btn",attrs:{cnrk:"取消"},nativeOn:{click:function(e){return t.handleCancleUp(e)}}},[t._v(t._s(t.$t("Project.cancel")))])],1)],1)])],1)}),[],!1,null,"1374e015",null)).exports,g={},w={name:"Model",mixins:[l.a],data:function(){var t=this;return this.$createElement,{userSpaceTotal:30*Math.pow(1024,3),upOnceMaximumLimit:30*Math.pow(1024,3),showOldHint:!1,showHint:!1,file_y:null,workspace:"",modal1:!1,upModel:!1,query:{pageNum:1,pageSize:10},filt:{trainState:"",trainFrame:"",netType:""},total:0,tbLoading:!1,userUsableSpace:0,modelList:[],upt:{frameSltVal:1,networkType:1,describe:"",proName:"",frameSlt:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],netType:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}]},columns1:[{title:this.$t("Model.modelName"),key:"dataName",minWidth:230,ellipsis:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"M"),t("span",{class:1===e.row.old?"name":"oldname",attrs:{title:e.row.dataName}},e.row.dataName||"-")])}},{title:this.$t("Project.frames"),key:"trainWay",width:150,tooltip:!0,filters:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){g.filt.trainFrame=t[0]},render:function(e,a){var s=a.row.id,n=a.row.trainWay;return e("Select",{attrs:{value:n},class:"slt-xps slt-byp",on:{"on-change":function(e){t.handleEditFrame(s,e)}}},[t.upt.frameSlt.map((function(t){return e("Option",{attrs:{value:t.value}},[t.label])}))])}},{title:this.$t("Project.netType"),key:"neuralNetworkType",width:160,tooltip:!0,filters:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){g.filt.netType=t[0]},render:function(e,a){var s=a.row.id,n=a.row.neuralNetworkType;return e("Select",{class:"slt-xps slt-byp",on:{"on-change":function(e){t.handleEditNetType(s,e)}},model:{value:n,callback:function(t){n=t}}},[t.upt.netType.map((function(t){return e("Option",{attrs:{value:t.value}},[t.label])}))])}},{title:this.$t("Project.size"),key:"fileSize",width:120,tooltip:!0,render:function(t,e){return t("span",Object(r.p)(e.row.fileSize))}},{title:this.$t("Project.updateTime"),key:"updateTime",width:150,ellipsis:!0,render:function(t,e){return t("span",Object(r.l)("Y-M-D h:m",e.row.updateTime))}},{title:this.$t("Project.describe"),key:"note",minWidth:180,tooltip:!0,render:function(e,a){var s=a.row.id,n=a.row.note;return e("input",{class:"inp-xtyb",key:s,attrs:{type:"text",maxLength:15,value:n},on:{change:function(){t.handleEditRemark(s,event.target.value)}}})}},{title:this.$t("Project.ctrl"),key:"action",align:"center",width:Object(r.r)()?210:170,fixed:"right",render:function(e,a){var s=a.row;return e("div",[e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleCheck(s)}}},t.$t("Project.check")),e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleDownloadModel(s)}}},t.$t("Console.download")),e("span",{class:"del-fp-btn",props:{type:"text"},on:{click:function(){t.reqDelProject(s.id)}}},t.$t("Project.del"))])}}]}},filters:{transGMK:function(t){return Object(r.p)(t)}},methods:{fnBeforeUpload:function(t){return t.size>this.upOnceMaximumLimit?(this.$Message.error("".concat(this.$t("Console.uploadRestrictions")).concat(Object(r.p)(this.upOnceMaximumLimit))),this.upt.proName="",this.file_y=null):t.size>this.userUsableSpace?(this.$Message.error(this.$t("Console.spaceUnEnoughTip")),this.upt.proName="",this.file_y=null):(this.upt.proName=t.name.replace(/\.\w+$/,""),this.file_y=t),!1},handleDownloadModel:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.old){t.next=3;break}return this.downloadFile(e.dataHash),t.abrupt("return");case 3:return t.prev=3,t.next=6,this.$ipfs.files.stat("/ipfs/"+e.dataHash);case 6:a=t.sent,"file"===a.type?this.downloadFile(e.dataHash):this.downloadDir(e.dataHash),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3);case 14:case"end":return t.stop()}}),t,this,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),init:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getProjectList();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),handleEditRemark:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s={id:e,note:a},t.next=4,this.$axios.post(i.a.updateMorD,s);case 4:n=t.sent,200===n.data.code&&this.$Message.success(this.$t("Project.saved")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}(),handleEditFrame:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,s={id:e,trainWay:a},t.next=6,this.$axios.post(i.a.updateMorD,s);case 6:n=t.sent,200===n.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList()),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2);case 14:case"end":return t.stop()}}),t,this,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}(),handleEditNetType:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,s={id:e,neuralNetworkType:a},t.next=6,this.$axios.post(i.a.updateMorD,s);case 6:n=t.sent,200===n.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList()),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2);case 14:case"end":return t.stop()}}),t,this,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}(),getProjectList:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s,n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.tbLoading=!0,t.prev=1,e={dataType:2,trainStatus:this.filt.trainState,trainWay:this.filt.trainFrame,neuralNetworkType:this.filt.netType},e=Object.assign(this.query,e),t.next=6,this.$axios.post(i.a.getDataList,e);case 6:if(a=t.sent,s=a.data,n=s.code,r=s.payload,200!==n){t.next=16;break}if(o=r||[],Object.keys(o).length){t.next=14;break}return t.abrupt("return");case 14:this.modelList=o.list,this.total=o.total;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1);case 21:this.tbLoading=!1;case 22:case"end":return t.stop()}}),t,this,[[1,18]])})));return function(){return t.apply(this,arguments)}}(),changePage:function(t){this.query.pageNum=t,this.getProjectList()},handleCheck:function(t){t.fileSize/1024/1024/1024>=1?this.showHint=!0:1!==t.old?this.showOldHint=!0:this.$router.push({name:"AiTrain",query:{m:t.id}})},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},handleUpload:function(){this.$store.state.uploadingStatus?this.$store.commit("SET_UPLOADING_SHOW",!0):(this.reqUserUsableSpace(),this.upModel=!0)},upFileXz:function(){var t=event.target.files,e=(t||[])[0]?t[0].name.replace(/\.\w+$/,""):"";this.upt.proName=e},handleShowUpList:function(){if(this.upt.proName){var t=this.file_y.size;if(t>this.upOnceMaximumLimit)return this.$Message.error("".concat(this.$t("Console.uploadRestrictions")).concat(Object(r.p)(this.upOnceMaximumLimit)));if(t>this.userUsableSpace)return this.$Message.error(this.$t("Console.spaceUnEnoughTip"));this.upModel=!1,this.$store.commit("SET_UPLOADING_SHOW",!0),this.$store.commit("SET_UPLOADING_FILE",this.file_y),this.$store.commit("SET_UPLOADING_POST",{trainWay:this.upt.frameSltVal,neuralNetworkType:this.upt.frameSltVal,dataType:2,note:this.upt.describe}),this.upt.frameSltVal=1,this.upt.proName="",this.upt.describe=""}else this.$Message.warning(this.$t("Model.choiceUpModel"))},resetUpCfg:function(){this.$store.commit("set_dataset_type",null),this.$store.commit("set_pro_describe",null),this.upt.frameSltVal=1,this.upt.networkType=1,this.upt.describe="",this.upt.proName="",this.$refs.inpq.value=""},handleCancleUp:function(){this.upModel=!1},reqDelProject:Object(r.h)(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){var a,s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=i.a.delMorD,s={id:e},t.next=5,this.$axios.post(a,s);case 5:if(200!==(n=t.sent).data.code){t.next=13;break}return this.$Message.success(this.$t("Project.shiftInRecycle")),t.next=10,Object(r.A)(300);case 10:this.getProjectList(),t.next=14;break;case 13:this.$Message.error(n.data.message);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0);case 19:case"end":return t.stop()}}),t,this,[[0,16]])})));return function(e){return t.apply(this,arguments)}}(),350),handleUpModel:function(){this.$parent.showUpListLay=!this.$parent.showUpListLay},getUsedSpace:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getIpfsProjectInfo(e);case 3:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",0);case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),reqUserUsableSpace:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post(i.a.getFreeSpace);case 3:200===(e=t.sent).data.code&&(this.userUsableSpace=e.data.payload||0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},computed:Object(s.a)({},Object(p.c)({showUpTipBar:function(t){return t.ups.showUpTipBar}}),{canUpload:function(){return this.$store.state.ups.canUpload}}),watch:{"upt.frameSltVal":function(t){this.$store.commit("set_frame_type",t)},"upt.networkType":function(t){this.$store.commit("set_net_type",t)},"upt.describe":function(t){this.$store.commit("set_pro_describe",t)},"$store.state.uploadingStatus":function(t){t||this.init()}},mounted:function(){this.init()},created:function(){g=this,2===this.$parent.curUptype&&this.$store.state.ups.upDoneList.length?this.$store.commit("set_up_tip_bar",!0):this.$store.commit("set_up_tip_bar",!1),this.reqUserUsableSpace()}},y=(a("fee8"),a("25f5"),Object(c.a)(w,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-project model-togh"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我创建的"}},[t._v(t._s(t.$t("Model.mySetup")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total))])]),a("div",{staticClass:"r-usx"},[a("label",{staticClass:"bg-linear lb-up--ye62hsd8d3",attrs:{cnrk:"上传"},on:{click:t.handleUpload}},[t._v(t._s(t.$store.state.uploadingStatus?t.$t("Project.uploading"):t.$t("Project.upload")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoading},attrs:{columns:t.columns1,data:t.modelList},on:{"on-filter-change":function(e){return t.getProjectList()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.modelList.length,expression:"modelList.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.total,"page-size":t.query.pageSize,current:t.query.pageNum},on:{"on-change":t.changePage}})],1),a("Modal",{staticClass:"up-lay2",attrs:{width:"500",draggable:"",cnrk:"t: 模型上传",title:t.$t("Model.modelUpload"),closable:!0,"footer-hide":""},model:{value:t.upModel,callback:function(e){t.upModel=e},expression:"upModel"}},[a("div",{staticClass:"ups-inner"},[a("div",{staticClass:"row_xs"},[a("div",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"训练框架"}},[t._v(t._s(t.$t("Model.tranFrameS")))]),a("Select",{staticClass:"slt",model:{value:t.upt.frameSltVal,callback:function(e){t.$set(t.upt,"frameSltVal",e)},expression:"upt.frameSltVal"}},t._l(t.upt.frameSlt,(function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1),a("div",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"神经网络类型"}},[t._v(t._s(t.$t("Project.netType")))]),a("Select",{staticClass:"slt",attrs:{span:"6"},model:{value:t.upt.networkType,callback:function(e){t.$set(t.upt,"networkType",e)},expression:"upt.networkType"}},t._l(t.upt.netType,(function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)]),a("div",{staticClass:"row_xs row_xs2"},[a("span",{staticClass:"sp1",attrs:{cnrk:"描述"}},[t._v(t._s(t.$t("Project.describe")))]),a("Input",{staticClass:"inp-ms",attrs:{maxlength:15,type:"textarea",autosize:!1,placeholder:t.$t("Project.typeDescContent")},model:{value:t.upt.describe,callback:function(e){t.$set(t.upt,"describe",e)},expression:"upt.describe"}})],1),a("p",{staticClass:"penrc"},[t._v(t._s(t.$t("Console.xstroSpace"))+t._s(t._f("transGMK")(t.userUsableSpace)))]),a("div",{staticClass:"row_xs rs-xm"},[a("span",{staticClass:"sp1",attrs:{cnrk:"模型名称"}},[t._v(t._s(t.$t("Model.modelName")))]),a("Input",{staticClass:"inp-mt",attrs:{type:"text",readonly:"",placeholder:t.$t("Model.choiceModel")},model:{value:t.upt.proName,callback:function(e){t.$set(t.upt,"proName",e)},expression:"upt.proName"}}),a("Upload",{attrs:{action:"//jsonplaceholder.typicode.com/posts/","show-upload-list":!1,accept:".zip","before-upload":t.fnBeforeUpload}},[a("span",{staticClass:"bg-linear chs-btn",attrs:{cnrk:"选择"}},[t._v(t._s(t.$t("Project.choice")))])])],1),a("p",{staticClass:"p-tip"},[t._v(t._s(t.$t("Console.nameTipDes")))]),a("Row",{staticClass:"row-btm",attrs:{type:"flex",justify:"center"}},[a("CoButton",{staticClass:"un-btn",attrs:{cnrk:"上传"},nativeOn:{click:function(e){return t.handleShowUpList(e)}}},[t._v(t._s(t.$t("Project.upload")))]),a("CoButtonWhite",{staticClass:"qx-btn",attrs:{cnrk:"取消"},nativeOn:{click:function(e){return t.handleCancleUp(e)}}},[t._v(t._s(t.$t("Project.cancel")))])],1)],1)]),a("Modal",{staticClass:"y-model",attrs:{"footer-hide":"",styles:{top:"30vh"},title:t.$t("AI.modalFiniTip")},model:{value:t.showHint,callback:function(e){t.showHint=e},expression:"showHint"}},[a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("depTai.newBigModelViewTip")))]),a("div",{staticClass:"y-btn-box"},[a("span",{staticClass:"bg-linear",on:{click:function(e){t.showHint=!1}}},[t._v(t._s(t.$t("Console.ok")))])])]),a("Modal",{staticClass:"y-model",attrs:{"footer-hide":"",styles:{top:"30vh"},title:t.$t("AI.modalFiniTip")},model:{value:t.showOldHint,callback:function(e){t.showOldHint=e},expression:"showOldHint"}},[a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("depTai.oldModelViewTip")))]),a("div",{staticClass:"y-btn-box"},[a("span",{staticClass:"bg-linear",on:{click:function(e){t.showOldHint=!1}}},[t._v(t._s(t.$t("Console.ok")))])])])],1)}),[],!1,null,"0ef32430",null)).exports,$={name:"Message",data:function(){var t=this;return{curPage:1,pageSize:10,tbLoad1:!1,msgTotal:0,columns2:[{title:this.$t("Console.messageTitle"),key:"messageTitle",minWidth:180,render:function(e,a){var s=a.row;return e("div",{class:"title-wrap-8x"},[e("span",{class:{"title-tag":!0,"b-red":1===s.status}},""),e("span",{class:["title--wdashfty74",{gray:1!==s.status}],on:{click:function(){t.handleNotice(s.id)}}},s.messageTitle)])}},{title:this.$t("Console.status"),key:"createTime",minWidth:80,render:function(e,a){var s=a.row.status,n=["-",t.$t("Console.unread"),t.$t("Console.read")];return e("span",{class:{gray:1!==a.row.status}},n[s])}},{title:this.$t("Console.time"),key:"createTime",minWidth:150,render:function(t,e){return t("span",{class:{gray:1!==e.row.status}},Object(r.l)("Y-M-D h:m",e.row.createTime))}},{title:" ",width:100,align:"center",render:function(e,a){var s=a.row.id;return e("span",{class:["handle--btn handle--del",{gray:1!==a.row.status}],on:{click:function(){t.handleDelMsg(s)}}},t.$t("Console.delete"))}}],tableData:[]}},props:{data:null},methods:{getMsg:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,t.prev=1,e=i.a.getUserMsg,a={pageNum:this.curPage,pageSize:this.pageSize},t.next=6,this.$axios.post(e,a);case 6:if(200!=(s=t.sent).data.code){t.next=16;break}if(n=s.data.payload||[],Object.keys(n).length){t.next=11;break}return t.abrupt("return");case 11:this.curPage=n.pageNum,this.msgTotal=n.total,this.tableData=n.list,this.$store.commit("set_user_msg_list",n.list),this.$store.commit("set_user_unread_msg_count",n.noReadNum);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1);case 21:this.tbLoad1=!1;case 22:case"end":return t.stop()}}),t,this,[[1,18]])})));return function(){return t.apply(this,arguments)}}(),handleDelMsg:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post(i.a.delUserMsg,{ids:e});case 3:200===(a=t.sent).data.code?(this.$Message.success(this.$t("Console.deleted")),this.getMsg()):this.$Message.success(a.data.message),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),changePage:function(t){this.curPage=t,Object(r.y)("message.curPage",t),this.getMsg()},setItemsAsReaded:function(t){return this.$axios.post(i.a.changeUserMsgStatus,{ids:t})},handleNotice:function(t){this.$router.push({query:{id:t}}),this.$parent.currentView="MessageDetail",this.setItemsAsReaded(t)},handleAllreaded:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.tableData.map((function(t){return t.id})).join(","),t.next=4,this.setItemsAsReaded(e);case 4:if(200!==t.sent.data.code){t.next=12;break}if(this.isSomeUnReaded()){t.next=8;break}return t.abrupt("return");case 8:this.reqUnReadMsgCount(),this.curPage=1,this.getMsg(),this.$Message.success("标记成功");case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0);case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(){return t.apply(this,arguments)}}(),isSomeUnReaded:function(){return!!this.tableData.length&&this.tableData.some((function(t){return 1===t.status}))},reqUnReadMsgCount:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post(i.a.userUnreadMsgCount);case 3:200===(e=t.sent).data.code&&(a=e.data.payload||0,this.$store.commit("set_user_unread_msg_count",a)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},created:function(){this.$router.push({query:{}}),this.curPage=+Object(r.o)("message.curPage")||1,this.getMsg()}},k=(a("530d"),Object(c.a)($,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap msg-m-xs"},[a("div",{staticClass:"head"},[a("div",{staticClass:"leftx"},[a("span",{staticClass:"tit",attrs:{cnrk:"全部消息"}},[t._v(t._s(t.$t("Console.allMessages")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.msgTotal))])]),a("div",{staticClass:"r-xp"},[a("span",{staticClass:"h-all-read",on:{click:function(e){return t.handleAllreaded()}}},[t._v(t._s(t.$t("Console.allReaded")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns2,data:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.msgTotal,current:t.curPage,"page-size":t.pageSize},on:{"on-change":t.changePage}})],1)],1)}),[],!1,null,"657fb631",null)).exports,x=(a("6c7b"),{name:"Recycled",data:function(){var t=this;return{curPage:1,pageSize:10,tbLoad1:!1,dTotal:0,columns2:[{title:this.$t("Console.name"),key:"name",minWidth:180,render:function(t,e){return e.row,t("div",{class:"title-wrap-8x"},[t("span",{class:{"title-tag":!0,"b-red":1===e.row.status}},""),t("span",{class:"title--wdashfty78"},e.row.name)])}},{title:this.$t("Console.type"),key:"type",width:180,render:function(e,a){return e("span",["",t.$t("Console.project"),t.$t("Console.model"),t.$t("Console.dataset"),t.$t("Console.drillModel")][a.row.type])}},{title:this.$t("Console.size"),key:"size",width:180,render:function(t,e){var a=e.row.size;return t("span",Object(r.p)(a))}},{title:this.$t("Console.delTime"),key:"createTime",width:180,render:function(t,e){return t("span",Object(r.l)("Y-M-D h:m",e.row.createTime))}},{title:" ",width:150,align:"center",render:function(e,a){return[e("span",{class:"handle--btn restore-btn",on:{click:function(){t.handleRestore(a.row.id)}}},t.$t("Console.recover")),e("span",{class:"handle--btn empty-btn",on:{click:function(){t.handleClear(a.row.id)}}},t.$t("Console.empty"))]}}],tableData:[]}},methods:{reqList:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,t.prev=1,e=i.a.recycledList,a={pageNum:this.curPage,pageSize:this.pageSize},t.next=6,this.$axios.post(e,a);case 6:if(200!==(s=t.sent).data.code){t.next=14;break}if(n=s.data.payload||[],Object.keys(n).length){t.next=11;break}return t.abrupt("return");case 11:this.curPage=n.pageNum,this.dTotal=n.total,this.tableData=n.list;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1);case 19:this.tbLoad1=!1;case 20:case"end":return t.stop()}}),t,this,[[1,16]])})));return function(){return t.apply(this,arguments)}}(),changePage:function(t){this.curPage=t,Object(r.y)("recycled.curPage",t),this.reqList()},handleRestore:Object(r.h)(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post(i.a.restorePro,{id:e});case 3:200===(a=t.sent).data.code?(this.$Message.success(this.$t("Console.restored")),this.reqList()):this.$Message.error(a.data.message),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),300),handleRmAll:function(){var t=confirm(this.$t("Console.emptyConfm")),e=this.tableData.map((function(t){return t.id})).join(",");t&&this.reqRmItems(e)},handleClear:function(t){this.reqRmItems(t)},reqRmItems:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=i.a.clearRecycledProject,t.next=4,this.$axios.post(a,{ids:e});case 4:200===(s=t.sent).data.code?(this.$Message.success(this.$t("Console.deleted")),this.reqList()):this.$Message.error(s.data.message),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),UP_JSON:function(){}},created:function(){this.curPage=+Object(r.o)("recycled.curPage")||1,this.reqList()}}),_=(a("c491"),a("0197"),Object(c.a)(x,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap msg-m-xs"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"回收站"},on:{click:t.UP_JSON}},[t._v(t._s(t.$t("Console.recycleBin")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.dTotal))]),a("span",{staticClass:"txt-tip",attrs:{cnrk:"超过90天的内容会被自动删除"}},[t._v(t._s(t.$t("Console.recycleBinTip")))])]),a("div",{staticClass:"r-btn"},[a("span",{staticClass:"sbtn",attrs:{cnrk:"一键清空"},on:{click:function(e){return t.handleRmAll()}}},[t._v(t._s(t.$t("Console.allEmpty")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns2,data:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.dTotal,current:t.curPage,"page-size":t.pageSize},on:{"on-change":t.changePage}})],1)],1)}),[],!1,null,"01434f06",null)).exports,C={name:"Collect",data:function(){var t=this;return{curPage:1,pageSize:10,tbLoad1:!1,dTotal:0,columns2:[{title:this.$t("Console.name"),key:"documentTitle",minWidth:180,render:function(e,a){var s=a.row,n=-1===s.type?s.documentTitle:s.title;return e("div",{class:"title-wrap-8x"},[e("span",{class:{"title-tag":!0,"b-red":1===a.row.status}},""),e("span",{class:"title--wdashfty74",on:{click:function(){t.handleToDoc(s.documentId,s.type)}}},n)])}},{title:this.$t("Console.source"),key:"documentDir",minWidth:180,render:function(e,a){return-1===a.row.type?e("span",a.row.documentDir):e("span",t.$t("Console.activities"))}},{title:" ",width:150,align:"center",render:function(e,a){return e("span",{class:"handle--btn restore-btn",on:{click:function(){t.handleRemove(a.row.documentId,a.row.type)}}},t.$t("Console.favoritesCanceled"))}}],tableData:[]}},methods:{reqList:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,t.prev=1,e=i.a.userCollectList,a={pageNum:this.curPage,pageSize:this.pageSize},t.next=6,this.$axios.post(e,a);case 6:if(200!=(s=t.sent).data.code){t.next=14;break}if(n=s.data.payload||[],Object.keys(n).length){t.next=11;break}return t.abrupt("return");case 11:this.curPage=n.pageNum,this.dTotal=n.total,this.tableData=n.list;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1);case 19:this.tbLoad1=!1;case 20:case"end":return t.stop()}}),t,this,[[1,16]])})));return function(){return t.apply(this,arguments)}}(),changePage:function(t){this.curPage=t,Object(r.y)("collect.curPage",t),this.reqList()},handleRemove:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post(i.a.cancelCollect,{documentId:e,type:a});case 3:200===(s=t.sent).data.code?(this.$Message.success(this.$t("Console.canceled")),this.reqList()):this.$Message.error(s.data.message),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}(),handleToDoc:function(t,e){-1===e?this.$router.push({path:"/help-detail/"+t}):this.$router.push({name:"Activity",params:{id:t}})}},created:function(){this.curPage=+Object(r.o)("collect.curPage")||1,this.reqList()}},j=(a("2eca"),a("8e4e"),Object(c.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap msg-m-xs"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我的收藏"}},[t._v(" "+t._s(t.$t("Console.myFavorites"))+" ")]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.dTotal))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns2,data:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.dTotal,current:t.curPage,"page-size":t.pageSize},on:{"on-change":t.changePage}})],1)],1)}),[],!1,null,"04ceadfa",null)).exports,S={name:"MessageDetail",data:function(){return{msgContent:"",caption:"",stime:0}},methods:{getMassegeData:function(){var t=this,e=this.$route.query.id;this.$store.state.userMsgList.forEach((function(a){a.id===e&&(t.stime=a.createTime,t.caption=a.messageTitle,t.msgContent=a.messageBody)}))},handleBack:function(){this.$router.push({query:{}}),this.$parent.currentView="Message"}},computed:{getftTime:function(){return Object(r.l)("Y-M-D h:m",this.stime)}},created:function(){this.getMassegeData()}},O=(a("d15c"),Object(c.a)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"head"},[a("CoButtonWhite",{staticClass:"back-btn",attrs:{cnkr:"返回"},nativeOn:{click:function(e){return t.handleBack(e)}}},[t._v(t._s(t.$t("depTai.back")))])],1),a("div",{staticClass:"content-ux"},[a("h1",{staticClass:"h1t"},[t._v(t._s(t.caption))]),a("h2",{staticClass:"desc_qs"},[t._v(t._s(t.getftTime))]),a("div",{staticClass:"notic-content-m",domProps:{innerHTML:t._s(t.msgContent)}})])])}),[],!1,null,"bccc1c96",null)).exports,T=(a("4328"),a("bc3a")),P=a.n(T),L={name:"Console",components:{Overview:u,Project:f,Message:k,MessageDetail:O,Recycled:_,Collect:j,Dataset:b,Model:y},data:function(){return{userSpaceTotal:30*Math.pow(1024,3),upOnceMaximumLimit:30*Math.pow(1024,3),ipfsTemp:null,curUptype:-1,userUsableSpace:0,showUpListLay:!1,upListLoading:!1,upingDomLimit:100,upDoneDomLimit:60,upingDomLimitS:0,upDoneLimitS:0,projectSize:0,fileHash:"",tabsData:{Overview:{label:"工作台"}},isUpTab2:!1,showXinpanInitTipModal:!1,consRoutes:[{name:"Overview",label:this.$t("Console.Workbench"),active:!0,data:null},{name:"Project",label:this.$t("Console.project")},{name:"Model",label:this.$t("Console.model")},{name:"Dataset",label:this.$t("Console.dataset")},{name:"Collect",label:this.$t("Console.favorites")},{name:"Message",label:this.$t("Console.Message")},{name:"Recycled",label:this.$t("Console.recycleBin")}],currentView:"Overview"}},filters:{filterGetfGMK:function(t){return Object(r.p)(t)}},methods:{init:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$store.state.console_child_component,this.changeView(e),this.reqUnReadMsgCount(),this.reqGetUserConfig(),t.next=6,this.$store.dispatch("getUserInfo");case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),changeView:function(t){t&&"Console"!==t||(t="Overview"),this.currentView=t,this.$store.commit("set_console_child_component",t),this.consRoutes.forEach((function(e){e.active=!1,e.name==t&&(e.active=!0)}))},reqUnReadMsgCount:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(i.a.userUnreadMsgCount);case 2:200===(e=t.sent).data.code&&(a=e.data.payload||0,this.$store.commit("set_user_unread_msg_count",a));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),uploadToIpfsDoneAfter:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.fileHash=e.DirHash||e.Hash,this.projectSize=e.Size,t.next=4,P()({method:"get",baseURL:"",timeout:3e3,url:i.a.ipfsGetServersGeoCode});case 4:s=t.sent,this.$store.commit("set_geo_code",s.headers["geo-code"]||null),this.setUpDoneView(a),this.reqUpFileInfo(),this.$store.commit("set_cur_canup_status",!0),this.upListLoading=!1,this.checkMoreData();case 11:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}(),upZipToIpfs:function(t){var e=this;this.ipfsTemp=this.$tesraIpfs.addZip(t[0],(function(a,s){var n=[],r=!0,i=!1,o=void 0;try{for(var c,u=function(){var t=c.value;n=e.upingList.map((function(e){return e.rid===t.rid&&(8!==e.upState&&2!==e.upState||(e.upState=0),e.loaded=t.loaded),e}))},l=t[Symbol.iterator]();!(r=(c=l.next()).done);r=!0)u()}catch(t){i=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}e.changeUpingListStatus(n)})),this.ipfsTemp.then(function(){var a=Object(n.a)(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(s||{}).Hash&&!e.upingList.length&&e.uploadToIpfsDoneAfter(s,t);case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){}))},upDirToIpfs:function(t){var e=this;this.ipfsTemp=this.$tesraIpfs.addDirectory(t,(function(t,a,s){e.manageUpingList(e.upingList),1===t.upState&&e.$store.commit("set_updone_list",t)}),(function(t,a,s){if(t){var n=[],r=!0,i=!1,o=void 0;try{for(var c,u=function(){var t=c.value;n=e.upingList.map((function(e){return e.rid===t.rid&&(8!==e.upState&&2!==e.upState||(e.upState=0),e.loaded=t.loaded),e}))},l=t[Symbol.iterator]();!(r=(c=l.next()).done);r=!0)u()}catch(t){i=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}e.changeUpingListStatus(n)}})),this.ipfsTemp.then(function(){var a=Object(n.a)(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(s||{}).DirHash&&!e.upingList.length&&e.uploadToIpfsDoneAfter(s,t);case 1:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(t){}))},upProject:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.$store.commit("show_read_file_loading",!1),this.isUpTab2=!1,this.showUpListLay=!0,this.upListLoading=!1,this.upingDomLimitS=this.upingDomLimit,this.upDoneLimitS=this.upDoneDomLimit,this.$store.commit("set_cur_canup_status",!1),this.$store.commit("set_up_tip_bar",!0),this.$store.commit("empty_updone_list"),e=Array.from(e,(function(t){return t.rid=Object(r.m)(10),t.loaded=0,t.upState=8,t})),this.$store.commit("set_uping_list",e),a?this.upZipToIpfs(e):this.upDirToIpfs(e);case 12:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}(),upFileXs:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,a){var s,n,i,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=o.length>2&&void 0!==o[2]&&o[2],(e=Array.from(e)).length){t.next=4;break}return t.abrupt("return");case 4:return this.curUptype=a,this.$store.commit("show_read_file_loading",!0),n=s?e[0].name.replace(/\.\w+$/,""):e[0].webkitRelativePath.match(/^[^\/]+/)[0],this.$store.commit("set_prefix",Object(r.m)(10)),i=e.map((function(t){return t.size})).reduce((function(t,e){return t+e}),0),t.next=11,this.reqUsableSpace();case 11:if(!(i>this.upOnceMaximumLimit)){t.next=14;break}return this.$store.commit("show_read_file_loading",!1),t.abrupt("return",this.$Message.error("".concat(this.$t("Console.uploadRestrictions")).concat(Object(r.p)(this.upOnceMaximumLimit))));case 14:if(!(i>this.userUsableSpace)){t.next=17;break}return this.$store.commit("show_read_file_loading",!1),t.abrupt("return",this.$Message.error(this.$t("Console.spaceUnEnoughTip")));case 17:this.$store.commit("set_project_name",n),this.upProject(e,s);case 19:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}(),reqUpFileInfo:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.curUptype>-1?i.a.createData:i.a.createTask,a={filePrefixIdentify:this.prefix,trainWay:this.frameSltVal,neuralNetworkType:this.networkType},s={projectName:this.projectName,projectSize:this.projectSize,directoryHash:this.fileHash,projectDesc:this.describe,geoCode:this.geoCode},n={dataType:this.curUptype,dataSetType:this.datasetTypeVal,dataHash:this.fileHash,dataName:this.projectName,fileSize:this.projectSize,note:this.describe},a=this.curUptype>-1?Object.assign(a,n):Object.assign(a,s),t.next=7,this.$axios.post(e,a);case 7:200===(r=t.sent).data.code?(this.$store.commit("set_cur_canup_status",!0),this.$Message.success(this.$t("Console.uploadSuccess")),this.upListLoading=!1,this.handleCloseUpLay(),this.$refs.project_s.getProjectList()):alert(r.data.message);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),reqUsableSpace:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.a.getFreeSpace,t.next=3,this.$axios.get(e);case 3:200===(a=t.sent).data.code&&(this.userUsableSpace=a.data.payload);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),handleUpAgain:function(t){var e=this;this.ipfsTemp.retry(t).then((function(a){(a||{}).DirHash&&!e.upingList.length&&e.uploadToIpfsDoneAfter(a,t)})).catch((function(t){}))},handleCloseUpLay:function(){this.showUpListLay=!1},changeUpTab:function(t){this.isUpTab2=2===t},getCurUpProgress:function(t,e,a){if(1===a)return"120px 0 0 0 #389cfa inset";var s=Math.min(t,e)/e*120;return"".concat(s,"px 0 0 0 #389cfa inset")},getCurUpProgressPercent:function(t,e,a){if(!Object(r.u)(t)||!Object(r.u)(t))return"0%";if(1===a)return"100%";var s=Math.min(t,e)/e*100;return s=Object(r.x)(s,0),"".concat(s,"%")},getUpState:function(t){return{0:this.$t("Console.uploadStatus0"),1:this.$t("Console.uploadStatus1"),2:this.$t("Console.uploadStatus2"),8:this.$t("Console.uploadStatus8")}[t]},changeUpingListStatus:function(t){this.$store.commit("set_uping_list",t)},manageUpingList:function(t){var e=t.filter((function(t){return 1!==t.upState}));this.$store.commit("set_uping_list",e),this.isAllUpSuccess&&(this.isUpTab2=!0,this.upListLoading=!0)},setUpDoneView:function(t){this.$store.commit("set_uping_list",[]),this.upDoneList.length||this.$store.commit("set_updone_list",t),this.isUpTab2=!0},checkMoreData:function(){var t=this;this.$refs.ref_up_done.addEventListener("scroll",(function(e){e.target.clientHeight+e.target.scrollTop===e.target.scrollHeight&&(t.upDoneLimitS=Math.min(t.upDoneLimitS+10,t.upDoneList.length))}))},handleCloseXinPanTip:function(){this.showXinpanInitTipModal=!1,this.reqXinPanInitConfirm()},reqXinPanInitConfirm:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.a.updateUserConfig,a={name:"newRegister",value:2},t.next=4,this.$axios.post(e,a);case 4:if(200!==t.sent.data.code){t.next=7;break}return t.abrupt("return");case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),reqGetUserConfig:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.a.findUserConfig,t.next=3,this.$axios.post(e);case 3:if(200!==(a=t.sent).data.code){t.next=10;break}if(s=a.data.payload||[],Object.keys(s).length){t.next=8;break}return t.abrupt("return");case 8:this.showXinpanInitTipModal=1==s.newRegister&&!Object(r.r)(),this.reqXinPanInitConfirm();case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},computed:Object(s.a)({},Object(p.c)({geoCode:function(t){return t.geoCode},uploadListLay:function(t){return t.ups.uploadListLay},canUpload:function(t){return t.ups.canUpload},upingList:function(t){return t.ups.upingList},upErrList:function(t){return t.ups.upErrList},upDoneList:function(t){return t.ups.upDoneList},getUnReadMsgCount:function(t){return t.userUnreadMsgCount},projectName:function(t){return t.projectName},prefix:function(t){return t.prefix},frameSltVal:function(t){return t.frameSltVal},networkType:function(t){return t.networkType},datasetTypeVal:function(t){return t.datasetTypeVal},describe:function(t){return t.describe},showUpTipBar:function(t){return t.ups.showUpTipBar},showReadFileLoading:function(t){return t.showReadFileLoading},vuex_userId:function(t){return t.userInfo.id},vuex_phone:function(t){return t.userInfo.phone}}),Object(p.b)({isAllUpSuccess:"isAllUpSuccess"}),{upingList_less:function(){var t=this;return this.upingList.filter((function(e,a){return a<t.upingDomLimitS}))},upDoneList_less:function(){var t=this;return this.upDoneList.filter((function(e,a){return a<t.upDoneLimitS}))},showAgainUpBtn:function(){return this.upingList.length&&this.upingList.every((function(t){return 2===t.upState}))},xstroOpenDesText:function(){return this.$t("Console.xstroOpenedDes").replace(/\{\{30GB\}\}/,'<span class="s9x">30GB</span>')}}),watch:{"$store.state.console_child_component":function(t){this.changeView(t)}},mounted:function(){this.init()},created:function(){this.showUpTipBar&&location.reload()}},U=(a("4c75"),a("0f76"),Object(c.a)(L,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main view-zps",class:{"g-loading2":t.showReadFileLoading},attrs:{"load-tip":t.$t("Console.readFilex")}},[a("div",{staticClass:"sidebar"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"tit",attrs:{cnrk:"我的工作台"}},[t._v(t._s(t.$t("Console.myWorkbench")))]),t._l(t.consRoutes,(function(e,s){return a("div",{key:s,staticClass:"router-bar",class:{active:e.active},on:{click:function(a){return t.changeView(e.name)}}},[a("span",{staticClass:"name"},[t._v(t._s(e.label))]),a("span",{directives:[{name:"show",rawName:"v-show",value:"Message"===e.name&&t.getUnReadMsgCount>0,expression:"rt.name === 'Message' && getUnReadMsgCount > 0"}],staticClass:"tip"},[t._v(t._s(t.getUnReadMsgCount))])])}))],2)]),a("div",{staticClass:"content-wrapper"},[a(t.currentView,{ref:"project_s",tag:"component",staticClass:"content-rv"})],1),a("Modal",{staticClass:"up-lay5",attrs:{width:"580",draggable:"",cnrk:"t:上传列表",title:t.$t("Console.uploadList"),closable:!0,"footer-hide":""},model:{value:t.showUpListLay,callback:function(e){t.showUpListLay=e},expression:"showUpListLay"}},[a("div",{staticClass:"uplay-inner",class:{tab2:t.isUpTab2,"g-loading2":t.upListLoading},attrs:{"load-tip":t.$t("Console.parsingDirectory"),cnrk:"l:正在解析目录.."}},[a("Row",{staticClass:"row-iny",attrs:{type:"flex",justify:"center"}},[a("Col",{staticClass:"c-tab c-tab1",attrs:{span:"12",cnrk:"正在上传"},nativeOn:{click:function(e){return t.changeUpTab(1)}}},[t._v(t._s(t.$t("Console.uploading"))+" ("+t._s(t.upingList.length)+")")]),a("Col",{staticClass:"c-tab c-tab2",attrs:{span:"12",cnrk:"已完成"},nativeOn:{click:function(e){return t.changeUpTab(2)}}},[t._v(t._s(t.$t("Console.uploaded"))+" ("+t._s(t.upDoneList.length)+")")])],1),a("div",{staticClass:"uping-dbox"},[a("ul",{staticClass:"u-up-m u-up-ing"},[a("li",{staticClass:"la"},[a("p",{staticClass:"pr p-file",attrs:{cnrk:"文件名"}},[t._v(t._s(t.$t("Console.fileName")))]),a("p",{staticClass:"pr p-size",attrs:{cnrk:"大小"}},[t._v(t._s(t.$t("Console.size1")))]),a("p",{staticClass:"pr pjd",attrs:{cnrk:"进度"}},[t._v(t._s(t.$t("Console.progress")))]),a("p",{staticClass:"pr p-state",attrs:{cnrk:"状态"}},[t._v(t._s(t.$t("Console.status")))])]),t._l(t.upingList_less,(function(e){return a("li",{key:e.rid,staticClass:"la",class:{err:2===e.upState}},[a("p",{staticClass:"pr p-file"},[t._v(t._s(e.name))]),a("p",{staticClass:"pr p-size"},[t._v(t._s(t._f("filterGetfGMK")(e.size)))]),a("p",{staticClass:"pr pjd p-jindu",style:"box-shadow:"+t.getCurUpProgress(e.loaded,e.size,e.upState),attrs:{"data-percent":t.getCurUpProgressPercent(e.loaded,e.size,e.upState)}}),a("p",{staticClass:"pr p-state p-stx",attrs:{title:t.getUpState(e.upState)}},[t._v(t._s(t.getUpState(e.upState)))])])}))],2),a("button",{directives:[{name:"show",rawName:"v-show",value:t.showAgainUpBtn,expression:"showAgainUpBtn"}],staticClass:"base-btn2 bg-blue again-up-btn",attrs:{cnrk:"一键重传"},on:{click:function(e){return t.handleUpAgain(t.upingList)}}},[t._v("\n          "+t._s(t.$t("Console.reupload"))+"\n        ")])]),a("div",{staticClass:"updone-dbox"},[a("ul",{ref:"ref_up_done",staticClass:"u-up-m u-up-done"},[a("li",{staticClass:"la"},[a("p",{staticClass:"pr p-file",attrs:{cnrk:"文件名"}},[t._v(t._s(t.$t("Console.fileName")))]),a("p",{staticClass:"pr p-size",attrs:{cnrk:"大小"}},[t._v(t._s(t.$t("Console.size1")))]),a("p",{staticClass:"pr pjd",attrs:{cnrk:"进度"}},[t._v(t._s(t.$t("Console.progress")))]),a("p",{staticClass:"pr p-state",attrs:{cnrk:"状态"}},[t._v(t._s(t.$t("Console.status")))])]),t._l(t.upDoneList_less,(function(e){return a("li",{key:e.rid,staticClass:"la"},[a("p",{staticClass:"pr p-file"},[t._v(t._s(e.name))]),a("p",{staticClass:"pr p-size"},[t._v(t._s(t._f("filterGetfGMK")(e.size)))]),a("p",{staticClass:"pr pjd p-jindu jd-done",attrs:{"data-percent":"100%"}}),a("p",{staticClass:"pr p-state",attrs:{title:t.$t("Console.uploaded"),cnrk:"已完成"}},[t._v(t._s(t.$t("Console.uploaded")))])])}))],2)])],1)]),a("Modal",{staticClass:"init-xinpan-tip-modal",attrs:{title:"提示",width:"400"},model:{value:t.showXinpanInitTipModal,callback:function(e){t.showXinpanInitTipModal=e},expression:"showXinpanInitTipModal"}},[a("p",{staticClass:"p5n"},[t._v(t._s(t.$t("Console.xstroOpened")))]),a("p",{staticClass:"p7s",domProps:{innerHTML:t._s(t.xstroOpenDesText)}}),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"base-btn2 gbtn",on:{click:function(e){return t.handleCloseXinPanTip()}}},[t._v(t._s(t.$t("AI.sure")))])],1)])],1)}),[],!1,null,"b7c17130",null));e.default=U.exports},"36bd":function(t,e,a){"use strict";var s=a("4bf8"),n=a("77f1"),r=a("9def");t.exports=function(t){for(var e=s(this),a=r(e.length),i=arguments.length,o=n(i>1?arguments[1]:void 0,a),c=i>2?arguments[2]:void 0,u=void 0===c?a:n(c,a);u>o;)e[o++]=t;return e}},"37c8":function(t,e,a){e.f=a("2b4c")},"3a72":function(t,e,a){var s=a("7726"),n=a("8378"),r=a("2d00"),i=a("37c8"),o=a("86cc").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=r?{}:s.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:i.f(t)})}},4190:function(t,e,a){},4334:function(t,e,a){},"444c":function(t,e,a){"use strict";var s=a("64f8");a.n(s).a},"4c75":function(t,e,a){"use strict";var s=a("8428");a.n(s).a},"4fa7":function(t,e,a){},"530d":function(t,e,a){"use strict";var s=a("558a");a.n(s).a},"53d5":function(t,e,a){},5434:function(t,e,a){"use strict";var s=a("72c5");a.n(s).a},"558a":function(t,e,a){},6195:function(t,e,a){},"64f8":function(t,e,a){},"67ab":function(t,e,a){var s=a("ca5a")("meta"),n=a("d3f4"),r=a("69a8"),i=a("86cc").f,o=0,c=Object.isExtensible||function(){return!0},u=!a("79e5")((function(){return c(Object.preventExtensions({}))})),l=function(t){i(t,s,{value:{i:"O"+ ++o,w:{}}})},p=t.exports={KEY:s,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,s)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[s].i},getWeak:function(t,e){if(!r(t,s)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[s].w},onFreeze:function(t){return u&&p.NEED&&c(t)&&!r(t,s)&&l(t),t}}},"6c7b":function(t,e,a){var s=a("5ca1");s(s.P,"Array",{fill:a("36bd")}),a("9c6c")("fill")},"72c5":function(t,e,a){},"795a":function(t,e,a){"use strict";var s=a("86c3");a.n(s).a},"7bbc":function(t,e,a){var s=a("6821"),n=a("9093").f,r={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return i&&"[object Window]"==r.call(t)?function(t){try{return n(t)}catch(t){return i.slice()}}(t):n(s(t))}},8428:function(t,e,a){},"86c3":function(t,e,a){},"88e9":function(t,e,a){"use strict";var s=a("4190");a.n(s).a},"8a81":function(t,e,a){"use strict";var s=a("7726"),n=a("69a8"),r=a("9e1e"),i=a("5ca1"),o=a("2aba"),c=a("67ab").KEY,u=a("79e5"),l=a("5537"),p=a("7f20"),h=a("ca5a"),d=a("2b4c"),f=a("37c8"),m=a("3a72"),v=a("d4c0"),b=a("1169"),g=a("cb7c"),w=a("d3f4"),y=a("4bf8"),$=a("6821"),k=a("6a99"),x=a("4630"),_=a("2aeb"),C=a("7bbc"),j=a("11e9"),S=a("2621"),O=a("86cc"),T=a("0d58"),P=j.f,L=O.f,U=C.f,M=s.Symbol,D=s.JSON,R=D&&D.stringify,N="prototype",z=d("_hidden"),q=d("toPrimitive"),I={}.propertyIsEnumerable,E=l("symbol-registry"),H=l("symbols"),A=l("op-symbols"),F=Object[N],V="function"==typeof M&&!!S.f,W=s.QObject,B=!W||!W[N]||!W[N].findChild,G=r&&u((function(){return 7!=_(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(t,e,a){var s=P(F,e);s&&delete F[e],L(t,e,a),s&&t!==F&&L(F,e,s)}:L,X=function(t){var e=H[t]=_(M[N]);return e._k=t,e},K=V&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},J=function(t,e,a){return t===F&&J(A,e,a),g(t),e=k(e,!0),g(a),n(H,e)?(a.enumerable?(n(t,z)&&t[z][e]&&(t[z][e]=!1),a=_(a,{enumerable:x(0,!1)})):(n(t,z)||L(t,z,x(1,{})),t[z][e]=!0),G(t,e,a)):L(t,e,a)},Y=function(t,e){g(t);for(var a,s=v(e=$(e)),n=0,r=s.length;r>n;)J(t,a=s[n++],e[a]);return t},Z=function(t){var e=I.call(this,t=k(t,!0));return!(this===F&&n(H,t)&&!n(A,t))&&(!(e||!n(this,t)||!n(H,t)||n(this,z)&&this[z][t])||e)},Q=function(t,e){if(t=$(t),e=k(e,!0),t!==F||!n(H,e)||n(A,e)){var a=P(t,e);return!a||!n(H,e)||n(t,z)&&t[z][e]||(a.enumerable=!0),a}},tt=function(t){for(var e,a=U($(t)),s=[],r=0;a.length>r;)n(H,e=a[r++])||e==z||e==c||s.push(e);return s},et=function(t){for(var e,a=t===F,s=U(a?A:$(t)),r=[],i=0;s.length>i;)!n(H,e=s[i++])||a&&!n(F,e)||r.push(H[e]);return r};V||(o((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(a){this===F&&e.call(A,a),n(this,z)&&n(this[z],t)&&(this[z][t]=!1),G(this,t,x(1,a))};return r&&B&&G(F,t,{configurable:!0,set:e}),X(t)})[N],"toString",(function(){return this._k})),j.f=Q,O.f=J,a("9093").f=C.f=tt,a("52a7").f=Z,S.f=et,r&&!a("2d00")&&o(F,"propertyIsEnumerable",Z,!0),f.f=function(t){return X(d(t))}),i(i.G+i.W+i.F*!V,{Symbol:M});for(var at="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),st=0;at.length>st;)d(at[st++]);for(var nt=T(d.store),rt=0;nt.length>rt;)m(nt[rt++]);i(i.S+i.F*!V,"Symbol",{for:function(t){return n(E,t+="")?E[t]:E[t]=M(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in E)if(E[e]===t)return e},useSetter:function(){B=!0},useSimple:function(){B=!1}}),i(i.S+i.F*!V,"Object",{create:function(t,e){return void 0===e?_(t):Y(_(t),e)},defineProperty:J,defineProperties:Y,getOwnPropertyDescriptor:Q,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var it=u((function(){S.f(1)}));i(i.S+i.F*it,"Object",{getOwnPropertySymbols:function(t){return S.f(y(t))}}),D&&i(i.S+i.F*(!V||u((function(){var t=M();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))}))),"JSON",{stringify:function(t){for(var e,a,s=[t],n=1;arguments.length>n;)s.push(arguments[n++]);if(a=e=s[1],(w(e)||void 0!==t)&&!K(t))return b(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!K(e))return e}),s[1]=e,R.apply(D,s)}}),M[N][q]||a("32e9")(M[N],q,M[N].valueOf),p(M,"Symbol"),p(Math,"Math",!0),p(s.JSON,"JSON",!0)},"8e4e":function(t,e,a){"use strict";var s=a("4fa7");a.n(s).a},a1fd:function(t,e,a){},ac4d:function(t,e,a){a("3a72")("asyncIterator")},b281:function(t,e,a){},b5e1:function(t,e,a){},c491:function(t,e,a){"use strict";var s=a("07ab");a.n(s).a},d15c:function(t,e,a){"use strict";var s=a("17dd");a.n(s).a},d4c0:function(t,e,a){var s=a("0d58"),n=a("2621"),r=a("52a7");t.exports=function(t){var e=s(t),a=n.f;if(a)for(var i,o=a(t),c=r.f,u=0;o.length>u;)c.call(t,i=o[u++])&&e.push(i);return e}},fbbc:function(t,e,a){"use strict";var s=a("a1fd");a.n(s).a},fcbf:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a("a481");var s=a("4ec3"),n={methods:{downloadDir:function(t){location.href=s.a.ipfsUrl.replace("/ipfs/","/zip/")+t},downloadDirNew:function(t){location.href=s.a.ipfsUrl.replace("/ipfs/","/zip2/")+t},downloadFile:function(t){location.href=s.a.ipfsUrl+t}}}},fee8:function(t,e,a){"use strict";var s=a("4334");a.n(s).a}}]);