(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76f6e6d5"],{"0197":function(t,e,a){"use strict";var s=a("53d5"),n=a.n(s);n.a},"0650":function(t,e,a){},"0e84":function(t,e,a){"use strict";var s=a("7278"),n=a.n(s);n.a},"105c":function(t,e,a){"use strict";var s=a("77c9"),n=a.n(s);n.a},1169:function(t,e,a){var s=a("2d95");t.exports=Array.isArray||function(t){return"Array"==s(t)}},1179:function(t,e,a){"use strict";var s=a("3a74"),n=a.n(s);n.a},"25f5":function(t,e,a){"use strict";var s=a("b5e1"),n=a.n(s);n.a},"2d78":function(t,e,a){"use strict";var s=a("af70"),n=a.n(s);n.a},"2ffa":function(t,e,a){"use strict";var s=a("0650"),n=a.n(s);n.a},3688:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main view-zps",class:{"g-loading2":t.showReadFileLoading},attrs:{"load-tip":t.$t("Console.readFilex")}},[a("div",{staticClass:"sidebar"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"tit",attrs:{cnrk:"我的工作台"}},[t._v(t._s(t.$t("Console.myWorkbench")))]),t._l(t.consRoutes,function(e,s){return a("div",{key:s,staticClass:"router-bar",class:{active:e.active},on:{click:function(a){return t.changeView(e.name)}}},[a("span",{staticClass:"name"},[t._v(t._s(e.label))]),a("span",{directives:[{name:"show",rawName:"v-show",value:"Message"===e.name&&t.getUnReadMsgCount>0,expression:"rt.name === 'Message' && getUnReadMsgCount > 0"}],staticClass:"tip"},[t._v(t._s(t.getUnReadMsgCount))])])})],2)]),a("div",{staticClass:"content-wrapper"},[a(t.currentView,{ref:"project_s",tag:"component",staticClass:"content-rv"})],1),a("Modal",{staticClass:"up-lay5",attrs:{width:"580",draggable:"",cnrk:"t:上传列表",title:t.$t("Console.uploadList"),closable:!0,"footer-hide":""},model:{value:t.showUpListLay,callback:function(e){t.showUpListLay=e},expression:"showUpListLay"}},[a("div",{staticClass:"uplay-inner",class:{tab2:t.isUpTab2,"g-loading2":t.upListLoading},attrs:{"load-tip":t.$t("Console.parsingDirectory"),cnrk:"l:正在解析目录.."}},[a("Row",{staticClass:"row-iny",attrs:{type:"flex",justify:"center"}},[a("Col",{staticClass:"c-tab c-tab1",attrs:{span:"12",cnrk:"正在上传"},nativeOn:{click:function(e){return t.changeUpTab(1)}}},[t._v(t._s(t.$t("Console.uploading"))+" ("+t._s(t.upingList.length)+")")]),a("Col",{staticClass:"c-tab c-tab2",attrs:{span:"12",cnrk:"已完成"},nativeOn:{click:function(e){return t.changeUpTab(2)}}},[t._v(t._s(t.$t("Console.uploaded"))+" ("+t._s(t.upDoneList.length)+")")])],1),a("div",{staticClass:"uping-dbox"},[a("ul",{staticClass:"u-up-m u-up-ing"},[a("li",{staticClass:"la"},[a("p",{staticClass:"pr p-file",attrs:{cnrk:"文件名"}},[t._v(t._s(t.$t("Console.fileName")))]),a("p",{staticClass:"pr p-size",attrs:{cnrk:"大小"}},[t._v(t._s(t.$t("Console.size1")))]),a("p",{staticClass:"pr pjd",attrs:{cnrk:"进度"}},[t._v(t._s(t.$t("Console.progress")))]),a("p",{staticClass:"pr p-state",attrs:{cnrk:"状态"}},[t._v(t._s(t.$t("Console.status")))])]),t._l(t.upingList_less,function(e){return a("li",{key:e.rid,staticClass:"la",class:{err:2===e.upState}},[a("p",{staticClass:"pr p-file"},[t._v(t._s(e.name))]),a("p",{staticClass:"pr p-size"},[t._v(t._s(t.utils.getfGMK(e.size)))]),a("p",{staticClass:"pr pjd p-jindu",style:"box-shadow:"+t.getCurUpProgress(e.loaded,e.size,e.upState),attrs:{"data-percent":t.getCurUpProgressPercent(e.loaded,e.size,e.upState)}}),a("p",{staticClass:"pr p-state p-stx",attrs:{title:t.getUpState(e.upState)}},[t._v(t._s(t.getUpState(e.upState)))])])})],2),a("button",{directives:[{name:"show",rawName:"v-show",value:t.showAgainUpBtn,expression:"showAgainUpBtn"}],staticClass:"base-btn2 bg-blue again-up-btn",attrs:{cnrk:"一键重传"},on:{click:function(e){return t.handleUpAgain(t.upingList)}}},[t._v("\n          "+t._s(t.$t("Console.reupload"))+"\n        ")])]),a("div",{staticClass:"updone-dbox"},[a("ul",{ref:"ref_up_done",staticClass:"u-up-m u-up-done"},[a("li",{staticClass:"la"},[a("p",{staticClass:"pr p-file",attrs:{cnrk:"文件名"}},[t._v(t._s(t.$t("Console.fileName")))]),a("p",{staticClass:"pr p-size",attrs:{cnrk:"大小"}},[t._v(t._s(t.$t("Console.size1")))]),a("p",{staticClass:"pr pjd",attrs:{cnrk:"进度"}},[t._v(t._s(t.$t("Console.progress")))]),a("p",{staticClass:"pr p-state",attrs:{cnrk:"状态"}},[t._v(t._s(t.$t("Console.status")))])]),t._l(t.upDoneList_less,function(e){return a("li",{key:e.rid,staticClass:"la"},[a("p",{staticClass:"pr p-file"},[t._v(t._s(e.name))]),a("p",{staticClass:"pr p-size"},[t._v(t._s(t.utils.getfGMK(e.size)))]),a("p",{staticClass:"pr pjd p-jindu jd-done",attrs:{"data-percent":"100%"}}),a("p",{staticClass:"pr p-state",attrs:{title:t.$t("Console.uploaded"),cnrk:"已完成"}},[t._v(t._s(t.$t("Console.uploaded")))])])})],2)])],1)]),a("Modal",{staticClass:"init-xinpan-tip-modal",attrs:{title:"提示",width:"400"},model:{value:t.showXinpanInitTipModal,callback:function(e){t.showXinpanInitTipModal=e},expression:"showXinpanInitTipModal"}},[a("p",{staticClass:"p5n"},[t._v(t._s(t.$t("Console.xstroOpened")))]),a("p",{staticClass:"p7s",domProps:{innerHTML:t._s(t.xstroOpenDesText)}}),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"base-btn2 gbtn",on:{click:function(e){return t.handleCloseXinPanTip()}}},[t._v(t._s(t.$t("AI.sure")))])],1)])],1)},n=[],i=a("cebc"),r=(a("456d"),a("4917"),a("a481"),a("5df3"),a("1c4c"),a("ac4d"),a("8a81"),a("7f7f"),a("ac6a"),a("96cf"),a("3b8d")),o=a("fa7d"),c=a("4ec3"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"con-overview overview-xza"},[a("section",{staticClass:"secpv"},[a("div",{staticClass:"head-x1"},[a("div",{staticClass:"sx-tit"},[a("span",{staticClass:"tit",attrs:{cnrk:"星盘"}},[t._v(t._s(t.$t("Overview.xinpan")))]),t.isEn?a("span",{staticClass:"sy-fr num-tip",attrs:{cnrk:"已使用"}},[t._v(" \n           "+t._s(t.usedSpace_calc)+" "+t._s(t.$t("Overview.usedTxt"))+" / \n          "+t._s(t.utils.getfGMK(t.userTotalSpace))+" \n        ")]):a("span",{staticClass:"sy-fr num-tip",attrs:{cnrk:"已使用"}},[t._v(" "+t._s(t.$t("Overview.usedTxt"))+" "+t._s(t.usedSpace_calc)+" / "+t._s(t.utils.getfGMK(t.userTotalSpace))+" ")])]),a("div",{staticClass:"space-box"},[a("div",{staticClass:"sp-tip",style:t.tipStyle},[t._v(t._s(t.curTipText))]),a("ul",{ref:"nstpx_xs",staticClass:"nstpx-re",attrs:{"data-usable-str":t.usableSpaceStr}},t._l(t.xinpan,function(e,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowJbar(s),expression:"isShowJbar(index)"}],key:s,staticClass:"l-xo",style:"width:"+t.getJindu(e.size),attrs:{"file-name":e.name,"file-size-tip":t.getItemSize(e.size),"raw-size":e.size}})}),0),a("ul",{staticClass:"u-mount"},t._l(t.xinpan,function(e,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowJbar(s),expression:"isShowJbar(index)"}],key:s},[t._v(t._s(e.name))])}),0)])])]),a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq"},[a("span",{staticClass:"tit",attrs:{cnrk:"当前运行的项目数"}},[t._v(t._s(t.$t("Overview.runProjectNum")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total1))])]),a("div",{staticClass:"table-wrapper"},[a("Table",{staticClass:"ovtbz",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns1,data:t.list1}})],1)]),a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq"},[a("span",{staticClass:"tit",attrs:{cnrk:"最近编辑的项目"}},[t._v(t._s(t.$t("Overview.lastEditPro")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total2))])]),a("div",{staticClass:"table-wrapper"},[a("Table",{staticClass:"ovtbz",class:{"g-loading":t.tbLoad2},attrs:{columns:t.columns2,data:t.list2}})],1)]),a("section",{staticClass:"secpv"},[a("div",{staticClass:"headnq"},[a("span",{staticClass:"tit",attrs:{cnrk:"推理部署"}},[t._v(t._s(t.$t("Overview.tuiliDep")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total3))])]),a("div",{staticClass:"table-wrapper"},[a("Table",{staticClass:"ovtbz",class:{"g-loading":t.tbLoad2},attrs:{columns:t.columns3,data:t.list3}})],1)]),a("Modal",{staticClass:"y-model",attrs:{"footer-hide":"",styles:{top:"30vh"},title:t.$t("AI.modalFiniTip")},model:{value:t.showHint,callback:function(e){t.showHint=e},expression:"showHint"}},[a("p",{staticClass:"text-center"},[t._v(t._s(t.$t("depTai.oldProjectViewTip")))]),a("div",{staticClass:"y-btn-box"},[a("span",{staticClass:"bg-blue",on:{click:function(e){t.showHint=!1}}},[t._v(t._s(t.$t("Console.ok")))])])])],1)},u=[],p={name:"Overview",data:function(){var t=this;return{utils:o["a"],showHint:!1,tbLoad1:!1,tbLoad2:!1,tbLoad3:!1,curTipText:"",tipStyle:{},isEn:o["a"].isEn(),userTotalSpace:30*Math.pow(1024,3),xinpan:[{name:this.$t("Overview.dataset"),cname:"数据集",size:0},{name:this.$t("Overview.project"),cname:"项目",size:0},{name:this.$t("Overview.model"),cname:"模型",size:0},{name:this.$t("Overview.deployModel"),cname:"训练后的模型",size:0},{name:this.$t("Overview.recycle"),cname:"回收站",size:1}],columns1:[{title:this.$t("Overview.projectName"),key:"taskName",minWidth:130,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"P"),t("span",{class:"name"},e.row.taskName)])}},{title:this.$t("Overview.tranStatus"),key:"trainStatus",width:150,render:function(e,a){var s={0:t.$t("Overview.state0"),1:t.$t("Overview.state1"),2:t.$t("Overview.state2"),31:t.$t("Overview.state31"),32:t.$t("Overview.state32"),33:t.$t("Overview.state33"),4:t.$t("Overview.state4"),7:t.$t("Overview.state7")},n=a.row.trainStatus||0,i=s[n];return e("span",i)}},{title:this.$t("Overview.size"),key:"projectSize",width:110,render:function(t,e){var a=e.row.projectSize;return t("span",o["a"].getfGMK(a))}},{title:this.$t("Overview.usedTime"),key:"useDuration",width:120,render:function(t,e){var a=e.row.useDuration;return t("span",o["a"].fMCN(a))}},{title:this.$t("Overview.hasBeenConsume"),key:"payTh",width:150,render:function(t,e){var a=e.row.payTh;return t("span",o["a"].floor(a)||"-")}},{title:" ",key:"action",width:80,render:function(e,a){return e("div",[e("span",{class:"checkx-btn",props:{type:"text"},on:{click:function(){t.handleCheck(a.row.id)}}},t.$t("Overview.check"))])}}],columns2:[{title:this.$t("Overview.projectName"),key:"taskName",minWidth:130,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"P"),t("span",{class:e.row.old?"name":"oldname"},e.row.taskName)])}},{title:this.$t("Overview.tranStatus"),key:"trainStatus",width:150,render:function(e,a){var s={0:t.$t("Overview.state0"),1:t.$t("Overview.state1"),2:t.$t("Overview.state2"),31:t.$t("Overview.state31"),32:t.$t("Overview.state32"),33:t.$t("Overview.state33"),4:t.$t("Overview.state4"),7:t.$t("Overview.state7")},n=a.row.trainStatus||0,i=s[n];return e("span",i)}},{title:this.$t("Overview.size"),key:"projectSize",width:110,render:function(t,e){var a=e.row.projectSize;return t("span",o["a"].getfGMK(a))}},{title:this.$t("Overview.updateTime"),key:"updateTime",width:150,render:function(t,e){var a=e.row.updateTime;return t("span",o["a"].ft("Y-M-D h:m",a))}},{title:this.$t("Overview.describe"),key:"projectDesc",minWidth:120,render:function(e,a){var s=a.row.id,n=a.row.projectDesc;return e("input",{class:"inp-xtyb",key:s,attrs:{type:"text",maxLength:100,value:n},on:{change:function(){t.handleEditRemark(s,event.target.value)}}})}},{title:this.$t("Overview.curConsume"),key:"payTh",width:130,render:function(t,e){var a=e.row.payTh;return t("span",o["a"].floor(a)||"-")}},{title:" ",key:"action",width:90,render:function(e,a){return e("div",[e("span",{class:"checkx-btn",props:{type:"text"},on:{click:function(){t.handleCheck(a.row)}}},t.$t("Overview.check"))])}}],columns3:[{title:this.$t("Overview.deployName"),key:"name",minWidth:130,toolTip:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"I"),t("span",{class:"name"},e.row.name)])}},{title:this.$t("Overview.deployVersion"),key:"version",width:110},{title:this.$t("Overview.deployStatus"),key:"status",width:150,toolTip:!0,render:function(e,a){var s={0:t.$t("Overview.state100"),1:t.$t("Overview.state101"),2:t.$t("Overview.state102"),3:t.$t("Overview.state103")},n=a.row.status||0,i=s[n];return e("span",i)}},{title:this.$t("Overview.updateTime"),key:"createTime",width:150,toolTip:!0,render:function(t,e){var a=e.row.createTime;return t("span",o["a"].ft("Y-M-D h:m",a))}},{title:this.$t("Overview.reqTotal"),key:"reqTotalS",width:150,toolTip:!0,render:function(t,e){var a=o["a"].convertToKW(e.row.successNumber),s=o["a"].convertToKW(e.row.failNumber);return t("span","".concat(a," / ").concat(s))}},{title:" ",key:"action",width:90,toolTip:!0,render:function(e,a){return e("div",[e("span",{class:"checkx-btn",props:{type:"text"},on:{click:function(){t.handleViewDeployDetail(a.row)}}},t.$t("Overview.check"))])}}],list1:[],list2:[],list3:[],total1:0,total2:0,total3:0,myUsedSpace:0}},methods:{init:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.getRuningProject(),this.getLatestProject(),this.reqUsedSpaceInfo(),this.moveMouseShowTip(),this.reqDeployList(),t.next=7,this.$store.dispatch("getUserInfo");case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),reqUsedSpaceInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post(c["a"].getWorkspaceInfo);case 3:if(e=t.sent,200!==e.data.code){t.next=11;break}if(a=e.data.payload||[],Object.keys(a).length){t.next=8;break}return t.abrupt("return");case 8:this.myUsedSpace=a.workspaceSize,s={"数据集":"datasetSize","项目":"projectSize","模型":"modelSize","训练后的模型":"deployModelSize","回收站":"trashSize"},this.xinpan=this.xinpan.map(function(t){for(var e in s)if(e===t.cname){t.size=a[s[e]];break}return t});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}},t,this,[[0,13]])}));function e(){return t.apply(this,arguments)}return e}(),handleEditRemark:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s={id:e,projectDesc:a},t.next=4,this.$axios.post(c["a"].updateConfig,s);case 4:n=t.sent,200===n.data.code&&this.$Message.success(this.$t("Overview.saved")),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));function e(e,a){return t.apply(this,arguments)}return e}(),getItemSize:function(t){return o["a"].getfGMK(t)},moveMouseShowTip:function(){var t=this,e=this.$refs.nstpx_xs;e.addEventListener("mousemove",function(e){var a=e.clientX,s=e.clientY;if("l-xo"===e.target.className){var n=e.target.getAttribute("file-size-tip"),i=e.target.getAttribute("file-name");t.curTipText="".concat(i,": ").concat(n),t.tipStyle={top:"".concat(s+10,"px"),left:"".concat(a+14,"px"),opacity:1}}else t.tipStyle.opacity=0}),e.addEventListener("mouseleave",function(e){t.tipStyle.opacity=0})},getRuningProject:function(){var t=this;this.tbLoad1=!0;var e=c["a"].getRunningTask,a={pageSize:1e9};this.$axios.post(e,a).then(function(e){if(200===e.data.code){var a=e.data.payload||[];if(!Object.keys(a).length)return;t.tbLoad1=!1,t.list1=a.list,t.total1=a.total}})},getLatestProject:function(){var t=this;this.tbLoad2=!0;var e=c["a"].getLatestEditTask,a={pageSize:1e9};this.$axios.post(e,a).then(function(e){if(200===e.data.code){var a=e.data.payload||[];if(!Object.keys(a).length)return;t.tbLoad2=!1,t.list2=a.list,t.total2=a.total}})},reqDeployList:function(){var t=this;this.tbLoad3=!0;var e=c["a"].findDeployList,a={pageSize:1e9,status:1};this.$axios.post(e,a).then(function(e){if(200===e.data.code){var a=e.data.payload||[];if(!Object.keys(a).length)return;t.tbLoad3=!1,t.list3=a.list,t.total3=a.total}})},handleCheck:function(t){t.old?this.$router.push({name:"AiTrain",query:{id:t.id}}):this.showHint=!0},handleViewDeployDetail:function(t){this.$store.commit("set_deploy_taskid",t.taskId),this.$store.commit("set_deploy_id",t.id),this.$router.push({name:"Deployment",params:{showDeployDetail:!0}})},mkdirs:function(t){var e=this;return new Promise(function(a,s){e.$ipfs.files.mkdir(t,{parents:!0},function(t,e){t?s(t):a(e)})})},getJindu:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 0==t?"0%":100*Math.max(t/this.userTotalSpace,.005)+"%"},isShowJbar:function(t){return this.xinpan[t].size>0}},computed:{usedSpace_calc:function(){return o["a"].getfGMK(this.myUsedSpace)},usableSpace:function(){return o["a"].floor(this.userTotalSpace-this.myUsedSpace,3)},usableSpaceStr:function(){return this.$t("Overview.usable")+o["a"].getfGMK(this.usableSpace)}},mounted:function(){this.init()}},h=p,d=(a("8213"),a("795a"),a("2877")),f=Object(d["a"])(h,l,u,!1,null,"d56beae6",null),m=f.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-project project-togh"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我创建的"}},[t._v(t._s(t.$t("Project.mySetup")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total))])]),a("div",{staticClass:"r-usx"},[a("p",{staticClass:"uppro-txt",class:{on:t.isUping},attrs:{cnrk:"上传列表"},on:{click:function(e){return t.handleUppro()}}},[t._v(t._s(t.$t("Project.uplist")))]),a("label",{staticClass:"base-btn2 bg-blue lb-up--ye62hsd8d3",attrs:{disabled:!t.canUpload,cnrk:"上传"},on:{click:function(e){return t.handleUpload()}}},[t._v(t._s(t.$t("Project.upload")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoading},attrs:{columns:t.columns1,data:t.projectList},on:{"on-filter-change":function(e){return t.getProjectList()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.projectList.length,expression:"projectList.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.total,"page-size":t.query.pageSize,current:t.query.pageNum},on:{"on-change":t.changePage}})],1),a("Modal",{staticClass:"up-lay2",attrs:{width:"500",draggable:"",title:t.$t("Console.uploadProject"),closable:!0,"footer-hide":""},model:{value:t.upModel,callback:function(e){t.upModel=e},expression:"upModel"}},[a("div",{staticClass:"ups-inner"},[a("Row",{staticClass:"row_xs"},[a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"项目框架"}},[t._v(t._s(t.$t("Project.proFrame")))]),a("Select",{staticClass:"slt",model:{value:t.upt.frameSltVal,callback:function(e){t.$set(t.upt,"frameSltVal",e)},expression:"upt.frameSltVal"}},t._l(t.upt.frameSlt,function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"神经网络类型"}},[t._v(t._s(t.$t("Project.netType")))]),a("Select",{staticClass:"slt",attrs:{span:"6"},model:{value:t.upt.networkType,callback:function(e){t.$set(t.upt,"networkType",e)},expression:"upt.networkType"}},t._l(t.upt.netType,function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1),a("Row",{staticClass:"row_xs row_xs2"},[a("span",{staticClass:"sp1",attrs:{cnrk:"描述"}},[t._v(t._s(t.$t("Project.describe")))]),a("Input",{staticClass:"inp-ms",attrs:{maxlength:100,type:"textarea",autosize:!1,placeholder:t.$t("Project.typeDescContent"),cnrk:"p: 请输入项目描述内容"},model:{value:t.upt.describe,callback:function(e){t.$set(t.upt,"describe",e)},expression:"upt.describe"}})],1),a("p",{staticClass:"penrc"},[t._v(t._s(t.$t("Console.xstroSpace")+t.utils.getfGMK(t.userUsableSpace)))]),a("div",{staticClass:"row_xs rs-xm"},[a("span",{staticClass:"sp1",attrs:{cnrk:"项目名称"}},[t._v(t._s(t.$t("Project.projectName")))]),a("Input",{staticClass:"inp-mt",attrs:{type:"text",readonly:"",placeholder:t.$t("Project.choicePro"),cnrk:"r: 请选择项目"},model:{value:t.upt.proName,callback:function(e){t.$set(t.upt,"proName",e)},expression:"upt.proName"}}),a("input",{ref:"inpq",attrs:{type:"file",id:"inpx1",webkitdirectory:"",directory:"",hidden:""},on:{change:function(e){return t.upFileXz()}}}),a("label",{staticClass:"base-btn2 bg-blue chs-btn",attrs:{for:"inpx1",cnrk:"选择"}},[t._v(t._s(t.$t("Project.choice")))])],1),a("p",{staticClass:"p-tip"},[t._v(t._s(t.$t("Console.upProjectTipDes")))]),a("Row",{staticClass:"row-btm",attrs:{type:"flex",justify:"center"}},[a("button",{staticClass:"base-btn2 bg-blue un-btn",attrs:{cnrk:"上传"},on:{click:t.handleShowUpList}},[t._v(t._s(t.$t("Project.upload")))]),a("button",{staticClass:"base-btn3 un-btn qx-btn",attrs:{cnrk:"取消"},on:{click:t.handleCancleUp}},[t._v(t._s(t.$t("Project.cancel")))])])],1)]),a("Modal",{staticClass:"y-model",attrs:{"footer-hide":"",styles:{top:"30vh"},title:t.$t("AI.modalFiniTip")},model:{value:t.showHint,callback:function(e){t.showHint=e},expression:"showHint"}},[a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("depTai.oldProjectViewTip")))]),a("div",{staticClass:"y-btn-box"},[a("span",{staticClass:"bg-blue",on:{click:function(e){t.showHint=!1}}},[t._v(t._s(t.$t("Console.ok")))])])])],1)},g=[],b={methods:{downloadDir:function(t){location.href=c["a"].ipfsUrl.replace("/ipfs/","/zip/")+t},downloadDirNew:function(t){location.href=c["a"].ipfsUrl.replace("/ipfs/","/zip2/")+t},downloadFile:function(t){location.href=c["a"].ipfsUrl+t}}},w=a("2f62"),y=null,$={name:"Project",mixins:[b],data:function(){var t=this;this.$createElement;return{utils:o["a"],showHint:!1,workspace:"",modal1:!1,upModel:!1,taskCode:-1,taskName:"",tbLoading:!1,projectList:[],userUsableSpace:0,query:{pageNum:1,pageSize:10},filt:{trainState:"",trainFrame:"",netType:""},total:0,upt:{frameSltVal:1,networkType:1,describe:"",proName:"",frameSlt:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:"caffe",value:6},{label:this.$t("Project.other"),value:5}],netType:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:"caffe",value:6},{label:this.$t("Project.other"),value:5}]},columns1:[{title:this.$t("Project.projectName"),key:"taskName",minWidth:230,ellipsis:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"P"),t("span",{class:e.row.old?"name":"oldname",attrs:{title:e.row.taskName}},e.row.taskName||"-")])}},{title:this.$t("Project.tranStatus"),key:"trainStatus",width:150,filters:[{label:this.$t("Project.state0"),value:0},{label:this.$t("Project.state1"),value:1},{label:this.$t("Project.state2"),value:2},{label:this.$t("Project.state31"),value:31},{label:this.$t("Project.state4"),value:4},{label:this.$t("Project.state7"),value:7}],filterMultiple:!1,filterRemote:function(t,e,a){31!=t[0]?y.filt.trainState=t[0]:y.filt.trainState="31,32,33"},render:function(e,a){var s={0:t.$t("Overview.state0"),1:t.$t("Overview.state1"),2:t.$t("Overview.state2"),31:t.$t("Overview.state31"),32:t.$t("Overview.state32"),33:t.$t("Overview.state33"),4:t.$t("Overview.state4"),7:t.$t("Overview.state7")},n=a.row.trainStatus||0,i=s[n];return e("span",i)}},{title:this.$t("Project.frames"),key:"trainWay",width:150,tooltip:!0,filters:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){y.filt.trainFrame=t[0]},render:function(e,a){var s=a.row.id,n=a.row.trainWay,i=function(e){t.handleEditFrame(s,e)};return e("Select",{class:"slt-xps slt-byp",on:{"on-change":i},model:{value:n,callback:function(t){n=t}}},[t.upt.frameSlt.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.netType2"),key:"neuralNetworkType",width:160,tooltip:!0,filters:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){y.filt.netType=t[0]},render:function(e,a){var s=a.row.id,n=a.row.neuralNetworkType,i=function(e){t.handleEditNetType(s,e)};return e("Select",{class:"slt-xps slt-byp",on:{"on-change":i},model:{value:n,callback:function(t){n=t}}},[t.upt.netType.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.size"),key:"projectSize",width:120,tooltip:!0,render:function(t,e){var a=o["a"].getfGMK(e.row.projectSize);return t("span",a)}},{title:this.$t("Project.updateTime"),key:"updateTime",width:150,ellipsis:!0,render:function(t,e){var a=o["a"].ft("Y-M-D h:m",e.row.updateTime);return t("span",a)}},{title:this.$t("Project.describe"),key:"projectDesc",minWidth:180,tooltip:!0,render:function(e,a){var s=a.row.id,n=a.row.projectDesc;return e("input",{class:"inp-xtyb",key:s,attrs:{type:"text",maxLength:100,value:n},on:{change:function(){t.handleEditRemark(s,event.target.value)}}})}},{title:this.$t("Project.usedTime"),key:"useDuration",width:100,tooltip:!0,render:function(t,e){var a=e.row.useDuration;return t("span",o["a"].fMCN(a))}},{title:this.$t("Project.hasBeenConsume"),key:"payTh",width:130,tooltip:!0,render:function(t,e){var a=e.row.payTh;return t("span",o["a"].floor(a)||0)}},{title:this.$t("Project.ctrl"),key:"action",align:"center",width:o["a"].isEn()?210:170,fixed:"right",render:function(e,a){var s=a.row;return e("div",[e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleCheck(s)}}},t.$t("Project.check")),e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleDownloadProject(s)}}},t.$t("Console.download")),e("span",{class:"del-fp-btn",props:{type:"text"},on:{click:function(){t.reqDelProject(s.taskCode)}}},t.$t("Project.del"))])}}]}},methods:{handleDownloadProject:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e.old){t.next=3;break}return this.downloadDirNew(e.fileHash||e.directoryHash),t.abrupt("return");case 3:return t.next=5,this.$ipfs.files.stat("/ipfs/"+e.fileHash);case 5:a=t.sent,"file"===a.type?this.downloadFile(e.fileHash):this.downloadDir(e.fileHash);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),init:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getProjectList();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditRemark:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={id:e,projectDesc:a},t.next=3,this.$axios.post(c["a"].updateConfig,s);case 3:n=t.sent,200===n.data.code&&this.$Message.success(this.$t("Project.saved"));case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEditFrame:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return s={id:e,trainWay:a},t.next=5,this.$axios.post(c["a"].updateConfig,s);case 5:n=t.sent,200===n.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEditNetType:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return s={id:e,neuralNetworkType:a},t.next=5,this.$axios.post(c["a"].updateConfig,s);case 5:n=t.sent,200===n.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getProjectList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoading=!0,e={trainStatus:this.filt.trainState,trainWay:this.filt.trainFrame,neuralNetworkType:this.filt.netType},e=Object.assign(this.query,e),t.next=5,this.$axios.post(c["a"].getTaskList,e);case 5:if(a=t.sent,200!==a.data.code){t.next=12;break}if(s=a.data.payload||[],Object.keys(s).length){t.next=10;break}return t.abrupt("return");case 10:this.projectList=s.list,this.total=s.total;case 12:this.tbLoading=!1;case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.query.pageNum=t,this.getProjectList()},handleCheck:function(t){t.old?this.$router.push({name:"AiTrain",query:{id:t.id}}):this.showHint=!0},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},handleUpload:function(){this.canUpload&&(this.upModel=!0,this.resetUpCfg(),this.reqUserUsableSpace())},upFileXz:function(){var t=event.target.files,e=(t||[])[0]?t[0].webkitRelativePath.match(/^[^\/]+/)[0]:"";this.upt.proName=e},handleShowUpList:function(){if(this.upt.proName)if(this.$refs.inpq.files&&this.$refs.inpq.files.length>2e3)this.$Message.warning(this.$t("Console.overTwoThonsand"));else{var t=this.$refs.inpq.files;this.upModel=!1,this.$parent.upFileXs(t,-1)}else this.$Message.warning(this.$t("Project.choiceUpPro"))},resetUpCfg:function(){this.upt.frameSltVal=1,this.upt.networkType=1,this.$store.commit("set_pro_describe",null),this.upt.describe="",this.upt.proName="",this.$refs.inpq.value=""},handleCancleUp:function(){this.upModel=!1},reqDelProject:o["a"].debounce(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=c["a"].delProject,s={taskCode:e},t.next=4,this.$axios.post(a,s);case 4:if(n=t.sent,200!==n.data.code){t.next=12;break}return this.$Message.success(this.$t("Project.shiftInRecycle")),t.next=9,o["a"].timeout(300);case 9:this.getProjectList(),t.next=13;break;case 12:this.$Message.error(n.data.message);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_delay||300),handleUppro:function(){this.$parent.showUpListLay=!this.$parent.showUpListLay},getUsedSpace:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getIpfsProjectInfo(e);case 2:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),reqUserUsableSpace:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].getFreeSpace);case 2:e=t.sent,200===e.data.code&&(this.userUsableSpace=e.data.payload||0);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},computed:Object(i["a"])({},Object(w["c"])({showUpTipBar:function(t){return t.ups.showUpTipBar}}),{canUpload:function(){return this.$store.state.ups.canUpload},isUping:function(){return this.$store.state.ups.showUpTipBar}}),watch:{"upt.frameSltVal":function(t){this.$store.commit("set_frame_type",t)},"upt.networkType":function(t){this.$store.commit("set_net_type",t)},"upt.describe":function(t){this.$store.commit("set_pro_describe",t)}},mounted:function(){this.init()},created:function(){y=this,-1===this.$parent.curUptype&&this.$store.state.ups.upDoneList.length?this.$store.commit("set_up_tip_bar",!0):this.$store.commit("set_up_tip_bar",!1)}},_=$,k=(a("2ffa"),a("5434"),Object(d["a"])(_,v,g,!1,null,"c75b5a6c",null)),C=k.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-project model-togh"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我创建的"}},[t._v(t._s(t.$t("DataSet.mySetup")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total))])]),a("div",{staticClass:"r-usx"},[a("label",{staticClass:"base-btn2 bg-blue lb-up--ye62hsd8d3",attrs:{cnrk:"上传"},on:{click:t.handleUpload}},[t._v(t._s(t.$store.state.uploadingStatus?t.$t("Project.uploading"):t.$t("Project.upload")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoading},attrs:{columns:t.columns1,data:t.pList},on:{"on-filter-change":function(e){return t.getProjectList()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.pList.length,expression:"pList.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.total,"page-size":t.query.pageSize,current:t.query.pageNum},on:{"on-change":t.changePage}})],1),a("Modal",{staticClass:"up-lay2",attrs:{width:"500",draggable:"",cnrk:"t: 数据集上传",title:t.$t("DataSet.dataSetUpload"),closable:!0,"footer-hide":""},model:{value:t.upDataset,callback:function(e){t.upDataset=e},expression:"upDataset"}},[a("div",{staticClass:"ups-inner"},[a("Row",{staticClass:"row_xs"},[a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1 spa",attrs:{cnrk:"数据集类型"}},[t._v(t._s(t.$t("DataSet.dataSetType")))]),a("Select",{staticClass:"slt",model:{value:t.upt.datasetTypeVal,callback:function(e){t.$set(t.upt,"datasetTypeVal",e)},expression:"upt.datasetTypeVal"}},t._l(t.upt.datasetType,function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1),a("Row",{staticClass:"row_xs row_xs2"},[a("span",{staticClass:"sp1",attrs:{cnrk:"描述"}},[t._v(t._s(t.$t("Project.describe")))]),a("Input",{staticClass:"inp-ms",attrs:{maxlength:15,type:"textarea",autosize:!1,placeholder:t.$t("Project.typeDescContent")},model:{value:t.upt.describe,callback:function(e){t.$set(t.upt,"describe",e)},expression:"upt.describe"}})],1),a("p",{staticClass:"penrc"},[t._v(t._s(t.$t("Console.xstroSpace")+t.utils.getfGMK(t.userUsableSpace)))]),a("div",{staticClass:"row_xs rs-xm"},[a("span",{staticClass:"sp1 spk",attrs:{cnrk:"数据集名称"}},[t._v(t._s(t.$t("DataSet.dataSetName")))]),a("Input",{staticClass:"inp-mt",attrs:{type:"text",readonly:"",placeholder:t.$t("DataSet.choiceDataSet")},model:{value:t.upt.proName,callback:function(e){t.$set(t.upt,"proName",e)},expression:"upt.proName"}}),a("Upload",{attrs:{action:"//jsonplaceholder.typicode.com/posts/","show-upload-list":!1,accept:".zip","before-upload":t.fnBeforeUpload}},[a("Button",{staticClass:"base-btn2 bg-blue chs-btn",attrs:{cnrk:"选择"}},[t._v(t._s(t.$t("Project.choice")))])],1)],1),a("p",{staticClass:"p-tip"},[t._v(t._s(t.$t("Console.nameTipDesDataset")))]),a("Row",{staticClass:"row-btm",attrs:{type:"flex",justify:"center"}},[a("button",{staticClass:"base-btn2 bg-blue un-btn",attrs:{cnrk:"上传"},on:{click:t.handleShowUpList}},[t._v(t._s(t.$t("Project.upload")))]),a("button",{staticClass:"base-btn3 un-btn qx-btn",attrs:{cnrk:"取消"},on:{click:t.handleCancleUp}},[t._v(t._s(t.$t("Project.cancel")))])])],1)])],1)},S=[],j={},T={name:"Dataset",mixins:[b],data:function(){var t=this;this.$createElement;return{userSpaceTotal:30*Math.pow(1024,3),upOnceMaximumLimit:30*Math.pow(1024,3),userUsableSpace:0,file_y:null,utils:o["a"],workspace:"",modal1:!1,upDataset:!1,query:{pageNum:1,pageSize:10},filt:{dataSetType:""},total:0,tbLoading:!1,pList:[],upt:{describe:"",proName:"",datasetTypeVal:1,datasetType:[{label:this.$t("DataSet.tranSet"),value:1},{label:this.$t("DataSet.verifySet"),value:2},{label:this.$t("DataSet.testSet"),value:3}]},columns1:[{title:this.$t("DataSet.dataSetName"),key:"dataName",minWidth:230,ellipsis:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"D"),t("span",{class:1===e.row.old?"name":"oldname",attrs:{title:e.row.dataName}},e.row.dataName||"-")])}},{title:this.$t("DataSet.type"),key:"dataSetType",width:150,tooltip:!0,filters:[{label:this.$t("DataSet.tranSet"),value:1},{label:this.$t("DataSet.verifySet"),value:2},{label:this.$t("DataSet.testSet"),value:3}],filterMultiple:!1,filterRemote:function(t,e,a){j.filt.dataSetType=t[0]},render:function(e,a){var s=a.row.id,n=a.row.dataSetType,i=function(e){t.handleUpdateList(s,e)};return e("Select",{class:"slt-xps slt-byp",on:{"on-change":i},model:{value:n,callback:function(t){n=t}}},[t.upt.datasetType.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.updateTime"),key:"createTime",width:150,tooltip:!0,render:function(t,e){var a=o["a"].ft("Y-M-D h:m",e.row.createTime);return t("span",a)}},{title:this.$t("Project.size"),key:"fileSize",width:150,tooltip:!0,render:function(t,e){var a=o["a"].getfGMK(e.row.fileSize);return t("span",a)}},{title:this.$t("Project.describe"),key:"note",width:200,tooltip:!0,render:function(e,a){var s=a.row.id,n=a.row.note;return e("input",{class:"inp-xtyb",key:s,attrs:{type:"text",maxLength:15,value:n},on:{change:function(){t.handleEditRemark(s,event.target.value)}}})}},{title:this.$t("Project.ctrl"),key:"action",align:"center",width:o["a"].isEn()?200:170,fixed:"right",render:function(e,a){var s=a.row;return e("div",[e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleDownloadDataset(s)}}},t.$t("Console.download")),e("span",{class:"del-fp-btn",props:{type:"text"},on:{click:function(){t.reqDelProject(s.id)}}},t.$t("Project.del"))])}}]}},methods:{fnBeforeUpload:function(t){return t.size>this.upOnceMaximumLimit?(this.$Message.error("".concat(this.$t("Console.uploadRestrictions")).concat(o["a"].getfGMK(this.upOnceMaximumLimit))),this.upt.proName="",this.file_y=null):t.size>this.userUsableSpace?(this.$Message.error(this.$t("Console.spaceUnEnoughTip")),this.upt.proName="",this.file_y=null):(this.upt.proName=t.name.replace(/\.\w+$/,""),this.file_y=t),!1},handleDownloadDataset:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e.old){t.next=3;break}return this.downloadFile(e.dataHash),t.abrupt("return");case 3:return t.next=5,this.$ipfs.files.stat("/ipfs/"+e.dataHash);case 5:a=t.sent,"file"===a.type?this.downloadFile(e.dataHash):this.downloadDir(e.dataHash);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),init:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getProjectList();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditRemark:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={id:e,note:a},t.next=3,this.$axios.post(c["a"].updateMorD,s);case 3:n=t.sent,200===n.data.code&&this.$Message.success(this.$t("Project.saved"));case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleUpdateList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return s={id:e,dataSetType:a},t.next=5,this.$axios.post(c["a"].updateMorD,s);case 5:n=t.sent,200===n.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getProjectList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoading=!0,e={dataType:1,dataSetType:this.filt.dataSetType},e=Object.assign(this.query,e),t.next=5,this.$axios.post(c["a"].getDataList,e);case 5:if(a=t.sent,200!==a.data.code){t.next=12;break}if(s=a.data.payload||[],Object.keys(s).length){t.next=10;break}return t.abrupt("return");case 10:this.pList=s.list,this.total=s.total;case 12:this.tbLoading=!1;case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.query.pageNum=t,this.getProjectList()},handleCheck:function(t){this.$router.push({name:"AiTrain",query:{d:t}})},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},handleUpload:function(){this.$store.state.uploadingStatus?this.$store.commit("SET_UPLOADING_SHOW",!0):(this.reqUserUsableSpace(),this.upDataset=!0)},upFileXz:function(){event.target.files;var t=(file||[])[0]?file[0].name.replace(/\.\w+$/,""):"";this.upt.proName=t},handleShowUpList:function(){if(this.upt.proName){var t=this.file_y.size;if(t>this.upOnceMaximumLimit)return this.$Message.error("".concat(this.$t("Console.uploadRestrictions")).concat(o["a"].getfGMK(this.upOnceMaximumLimit)));if(t>this.userUsableSpace)return this.$Message.error(this.$t("Console.spaceUnEnoughTip"));this.$store.commit("SET_UPLOADING_SHOW",!0),this.$store.commit("SET_UPLOADING_FILE",this.file_y),this.$store.commit("SET_UPLOADING_POST",{dataSetType:this.upt.datasetTypeVal,dataType:1,note:this.upt.describe}),this.upt.proName="",this.upt.describe="",this.upt.datasetTypeVal=1,this.upDataset=!1}else this.$Message.warning(this.$t("DataSet.choiceUploadDataSetX"))},resetUpCfg:function(){this.upt.datasetTypeVal=1,this.$store.commit("set_pro_describe",null),this.$store.commit("set_dataset_type",1),this.upt.describe="",this.upt.proName="",this.$refs.inpq.value=""},handleCancleUp:function(){this.upDataset=!1},reqDelProject:o["a"].debounce(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=c["a"].delMorD,s={id:e},t.next=4,this.$axios.post(a,s);case 4:if(n=t.sent,200!==n.data.code){t.next=12;break}return this.$Message.success(this.$t("Project.shiftInRecycle")),t.next=9,o["a"].timeout(300);case 9:this.getProjectList(),t.next=13;break;case 12:this.$Message.error(n.data.message);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_delay||300),handleUpDataset:function(){this.$parent.showUpListLay=!this.$parent.showUpListLay},getUsedSpace:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getIpfsProjectInfo(e);case 2:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),reqUserUsableSpace:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post(c["a"].getFreeSpace);case 3:e=t.sent,200===e.data.code&&(this.userUsableSpace=e.data.payload||0),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}()},computed:Object(i["a"])({},Object(w["c"])({showUpTipBar:function(t){return t.ups.showUpTipBar}}),{canUpload:function(){return this.$store.state.ups.canUpload}}),watch:{"upt.datasetTypeVal":function(t){this.$store.commit("set_dataset_type",t)},"upt.describe":function(t){this.$store.commit("set_pro_describe",t)},"$store.state.uploadingStatus":function(t){t||this.init()}},mounted:function(){this.init()},created:function(){j=this,1===this.$parent.curUptype&&this.$store.state.ups.upDoneList.length?this.$store.commit("set_up_tip_bar",!0):this.$store.commit("set_up_tip_bar",!1),this.reqUserUsableSpace()}},P=T,L=(a("0e84"),Object(d["a"])(P,x,S,!1,null,"620b955e",null)),O=L.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-project model-togh"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我创建的"}},[t._v(t._s(t.$t("Model.mySetup")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.total))])]),a("div",{staticClass:"r-usx"},[a("label",{staticClass:"base-btn2 bg-blue lb-up--ye62hsd8d3",attrs:{cnrk:"上传"},on:{click:t.handleUpload}},[t._v(t._s(t.$store.state.uploadingStatus?t.$t("Project.uploading"):t.$t("Project.upload")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoading},attrs:{columns:t.columns1,data:t.modelList},on:{"on-filter-change":function(e){return t.getProjectList()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.modelList.length,expression:"modelList.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.total,"page-size":t.query.pageSize,current:t.query.pageNum},on:{"on-change":t.changePage}})],1),a("Modal",{staticClass:"up-lay2",attrs:{width:"500",draggable:"",cnrk:"t: 模型上传",title:t.$t("Model.modelUpload"),closable:!0,"footer-hide":""},model:{value:t.upModel,callback:function(e){t.upModel=e},expression:"upModel"}},[a("div",{staticClass:"ups-inner"},[a("Row",{staticClass:"row_xs"},[a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"训练框架"}},[t._v(t._s(t.$t("Model.tranFrameS")))]),a("Select",{staticClass:"slt",model:{value:t.upt.frameSltVal,callback:function(e){t.$set(t.upt,"frameSltVal",e)},expression:"upt.frameSltVal"}},t._l(t.upt.frameSlt,function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),a("Col",{staticClass:"col-p",attrs:{span:"12"}},[a("span",{staticClass:"sp1",attrs:{cnrk:"神经网络类型"}},[t._v(t._s(t.$t("Project.netType")))]),a("Select",{staticClass:"slt",attrs:{span:"6"},model:{value:t.upt.networkType,callback:function(e){t.$set(t.upt,"networkType",e)},expression:"upt.networkType"}},t._l(t.upt.netType,function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1),a("Row",{staticClass:"row_xs row_xs2"},[a("span",{staticClass:"sp1",attrs:{cnrk:"描述"}},[t._v(t._s(t.$t("Project.describe")))]),a("Input",{staticClass:"inp-ms",attrs:{maxlength:15,type:"textarea",autosize:!1,placeholder:t.$t("Project.typeDescContent")},model:{value:t.upt.describe,callback:function(e){t.$set(t.upt,"describe",e)},expression:"upt.describe"}})],1),a("p",{staticClass:"penrc"},[t._v(t._s(t.$t("Console.xstroSpace")+t.utils.getfGMK(t.userUsableSpace)))]),a("div",{staticClass:"row_xs rs-xm"},[a("span",{staticClass:"sp1",attrs:{cnrk:"模型名称"}},[t._v(t._s(t.$t("Model.modelName")))]),a("Input",{staticClass:"inp-mt",attrs:{type:"text",readonly:"",placeholder:t.$t("Model.choiceModel")},model:{value:t.upt.proName,callback:function(e){t.$set(t.upt,"proName",e)},expression:"upt.proName"}}),a("Upload",{attrs:{action:"//jsonplaceholder.typicode.com/posts/","show-upload-list":!1,accept:".zip","before-upload":t.fnBeforeUpload}},[a("Button",{staticClass:"base-btn2 bg-blue chs-btn",attrs:{cnrk:"选择"}},[t._v(t._s(t.$t("Project.choice")))])],1)],1),a("p",{staticClass:"p-tip"},[t._v(t._s(t.$t("Console.nameTipDes")))]),a("Row",{staticClass:"row-btm",attrs:{type:"flex",justify:"center"}},[a("button",{staticClass:"base-btn2 bg-blue un-btn",attrs:{cnrk:"上传"},on:{click:t.handleShowUpList}},[t._v(t._s(t.$t("Project.upload")))]),a("button",{staticClass:"base-btn3 un-btn qx-btn",attrs:{cnrk:"取消"},on:{click:t.handleCancleUp}},[t._v(t._s(t.$t("Project.cancel")))])])],1)]),a("Modal",{staticClass:"y-model",attrs:{"footer-hide":"",styles:{top:"30vh"},title:t.$t("AI.modalFiniTip")},model:{value:t.showHint,callback:function(e){t.showHint=e},expression:"showHint"}},[a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("depTai.newBigModelViewTip")))]),a("div",{staticClass:"y-btn-box"},[a("span",{staticClass:"bg-blue",on:{click:function(e){t.showHint=!1}}},[t._v(t._s(t.$t("Console.ok")))])])]),a("Modal",{staticClass:"y-model",attrs:{"footer-hide":"",styles:{top:"30vh"},title:t.$t("AI.modalFiniTip")},model:{value:t.showOldHint,callback:function(e){t.showOldHint=e},expression:"showOldHint"}},[a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("depTai.oldModelViewTip")))]),a("div",{staticClass:"y-btn-box"},[a("span",{staticClass:"bg-blue",on:{click:function(e){t.showOldHint=!1}}},[t._v(t._s(t.$t("Console.ok")))])])])],1)},U=[],D={},R={name:"Model",mixins:[b],data:function(){var t=this;this.$createElement;return{userSpaceTotal:30*Math.pow(1024,3),upOnceMaximumLimit:30*Math.pow(1024,3),showOldHint:!1,showHint:!1,file_y:null,utils:o["a"],workspace:"",modal1:!1,upModel:!1,query:{pageNum:1,pageSize:10},filt:{trainState:"",trainFrame:"",netType:""},total:0,tbLoading:!1,userUsableSpace:0,modelList:[],upt:{frameSltVal:1,networkType:1,describe:"",proName:"",frameSlt:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],netType:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}]},columns1:[{title:this.$t("Model.modelName"),key:"dataName",minWidth:230,ellipsis:!0,render:function(t,e){return t("div",{class:"name-wrap-hf"},[t("span",{class:"name-tag-pq"},"M"),t("span",{class:1===e.row.old?"name":"oldname",attrs:{title:e.row.dataName}},e.row.dataName||"-")])}},{title:this.$t("Project.frames"),key:"trainWay",width:150,tooltip:!0,filters:[{label:"Tensorflow",value:1},{label:"Keras",value:2},{label:"PyTorch",value:3},{label:"MXNet",value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){D.filt.trainFrame=t[0]},render:function(e,a){var s=a.row.id,n=a.row.trainWay,i=function(e){t.handleEditFrame(s,e)};return e("Select",{attrs:{value:n},class:"slt-xps slt-byp",on:{"on-change":i}},[t.upt.frameSlt.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.netType"),key:"neuralNetworkType",width:160,tooltip:!0,filters:[{label:"CNN",value:1},{label:"DNN",value:2},{label:this.$t("Project.RNNloop"),value:3},{label:this.$t("Project.RNNrecursion"),value:4},{label:this.$t("Project.other"),value:5}],filterMultiple:!1,filterRemote:function(t,e,a){D.filt.netType=t[0]},render:function(e,a){var s=a.row.id,n=a.row.neuralNetworkType,i=function(e){t.handleEditNetType(s,e)};return e("Select",{class:"slt-xps slt-byp",on:{"on-change":i},model:{value:n,callback:function(t){n=t}}},[t.upt.netType.map(function(t){return e("Option",{attrs:{value:t.value}},[t.label])})])}},{title:this.$t("Project.size"),key:"fileSize",width:120,tooltip:!0,render:function(t,e){var a=o["a"].getfGMK(e.row.fileSize);return t("span",a)}},{title:this.$t("Project.updateTime"),key:"updateTime",width:150,ellipsis:!0,render:function(t,e){var a=o["a"].ft("Y-M-D h:m",e.row.updateTime);return t("span",a)}},{title:this.$t("Project.describe"),key:"note",minWidth:180,tooltip:!0,render:function(e,a){var s=a.row.id,n=a.row.note;return e("input",{class:"inp-xtyb",key:s,attrs:{type:"text",maxLength:15,value:n},on:{change:function(){t.handleEditRemark(s,event.target.value)}}})}},{title:this.$t("Project.ctrl"),key:"action",align:"center",width:o["a"].isEn()?210:170,fixed:"right",render:function(e,a){var s=a.row;return e("div",[e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleCheck(s)}}},t.$t("Project.check")),e("span",{class:"check-fp-btn",props:{type:"text"},on:{click:function(){t.handleDownloadModel(s)}}},t.$t("Console.download")),e("span",{class:"del-fp-btn",props:{type:"text"},on:{click:function(){t.reqDelProject(s.id)}}},t.$t("Project.del"))])}}]}},methods:{fnBeforeUpload:function(t){return t.size>this.upOnceMaximumLimit?(this.$Message.error("".concat(this.$t("Console.uploadRestrictions")).concat(o["a"].getfGMK(this.upOnceMaximumLimit))),this.upt.proName="",this.file_y=null):t.size>this.userUsableSpace?(this.$Message.error(this.$t("Console.spaceUnEnoughTip")),this.upt.proName="",this.file_y=null):(this.upt.proName=t.name.replace(/\.\w+$/,""),this.file_y=t),!1},handleDownloadModel:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e.old){t.next=3;break}return this.downloadFile(e.dataHash),t.abrupt("return");case 3:return t.next=5,this.$ipfs.files.stat("/ipfs/"+e.dataHash);case 5:a=t.sent,"file"===a.type?this.downloadFile(e.dataHash):this.downloadDir(e.dataHash);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),init:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.getProjectList();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleEditRemark:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={id:e,note:a},t.next=3,this.$axios.post(c["a"].updateMorD,s);case 3:n=t.sent,200===n.data.code&&this.$Message.success(this.$t("Project.saved"));case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEditFrame:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return s={id:e,trainWay:a},t.next=5,this.$axios.post(c["a"].updateMorD,s);case 5:n=t.sent,200===n.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEditNetType:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return s={id:e,neuralNetworkType:a},t.next=5,this.$axios.post(c["a"].updateMorD,s);case 5:n=t.sent,200===n.data.code&&(this.$Message.success(this.$t("Project.saved")),this.getProjectList());case 7:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getProjectList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoading=!0,e={dataType:2,trainStatus:this.filt.trainState,trainWay:this.filt.trainFrame,neuralNetworkType:this.filt.netType},e=Object.assign(this.query,e),t.next=5,this.$axios.post(c["a"].getDataList,e);case 5:if(a=t.sent,200!==a.data.code){t.next=12;break}if(s=a.data.payload||[],Object.keys(s).length){t.next=10;break}return t.abrupt("return");case 10:this.modelList=s.list,this.total=s.total;case 12:this.tbLoading=!1;case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.query.pageNum=t,this.getProjectList()},handleCheck:function(t){var e=t.fileSize/1024/1024/1024>=1;e?this.showHint=!0:1!==t.old?this.showOldHint=!0:this.$router.push({name:"AiTrain",query:{m:t.id}})},getIpfsProjectInfo:function(t){return this.$ipfs.files.stat(t)},handleUpload:function(){this.$store.state.uploadingStatus?this.$store.commit("SET_UPLOADING_SHOW",!0):(this.reqUserUsableSpace(),this.upModel=!0)},upFileXz:function(){var t=event.target.files,e=(t||[])[0]?t[0].name.replace(/\.\w+$/,""):"";this.upt.proName=e},handleShowUpList:function(){if(this.upt.proName){var t=this.file_y.size;if(t>this.upOnceMaximumLimit)return this.$Message.error("".concat(this.$t("Console.uploadRestrictions")).concat(o["a"].getfGMK(this.upOnceMaximumLimit)));if(t>this.userUsableSpace)return this.$Message.error(this.$t("Console.spaceUnEnoughTip"));this.upModel=!1,this.$store.commit("SET_UPLOADING_SHOW",!0),this.$store.commit("SET_UPLOADING_FILE",this.file_y),this.$store.commit("SET_UPLOADING_POST",{trainWay:this.upt.frameSltVal,neuralNetworkType:this.upt.frameSltVal,dataType:2,note:this.upt.describe}),this.upt.frameSltVal=1,this.upt.proName="",this.upt.describe=""}else this.$Message.warning(this.$t("Model.choiceUpModel"))},resetUpCfg:function(){this.$store.commit("set_dataset_type",null),this.$store.commit("set_pro_describe",null),this.upt.frameSltVal=1,this.upt.networkType=1,this.upt.describe="",this.upt.proName="",this.$refs.inpq.value=""},handleCancleUp:function(){this.upModel=!1},reqDelProject:o["a"].debounce(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=c["a"].delMorD,s={id:e},t.next=4,this.$axios.post(a,s);case 4:if(n=t.sent,200!==n.data.code){t.next=12;break}return this.$Message.success(this.$t("Project.shiftInRecycle")),t.next=9,o["a"].timeout(300);case 9:this.getProjectList(),t.next=13;break;case 12:this.$Message.error(n.data.message);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_delay||300),handleUpModel:function(){this.$parent.showUpListLay=!this.$parent.showUpListLay},getUsedSpace:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getIpfsProjectInfo(e);case 3:return a=t.sent,t.abrupt("return",a.cumulativeSize);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(e){return t.apply(this,arguments)}return e}(),reqUserUsableSpace:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post(c["a"].getFreeSpace);case 3:e=t.sent,200===e.data.code&&(this.userUsableSpace=e.data.payload||0),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}()},computed:Object(i["a"])({},Object(w["c"])({showUpTipBar:function(t){return t.ups.showUpTipBar}}),{canUpload:function(){return this.$store.state.ups.canUpload}}),watch:{"upt.frameSltVal":function(t){this.$store.commit("set_frame_type",t)},"upt.networkType":function(t){this.$store.commit("set_net_type",t)},"upt.describe":function(t){this.$store.commit("set_pro_describe",t)},"$store.state.uploadingStatus":function(t){t||this.init()}},mounted:function(){this.init()},created:function(){D=this,2===this.$parent.curUptype&&this.$store.state.ups.upDoneList.length?this.$store.commit("set_up_tip_bar",!0):this.$store.commit("set_up_tip_bar",!1),this.reqUserUsableSpace()}},N=R,z=(a("7bc1"),a("25f5"),Object(d["a"])(N,M,U,!1,null,"ee37b1aa",null)),q=z.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap msg-m-xs"},[a("div",{staticClass:"head"},[a("div",{staticClass:"leftx"},[a("span",{staticClass:"tit",attrs:{cnrk:"全部消息"}},[t._v(t._s(t.$t("Console.allMessages")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.msgTotal))])]),a("div",{staticClass:"r-xp"},[a("span",{staticClass:"h-all-read",on:{click:function(e){return t.handleAllreaded()}}},[t._v(t._s(t.$t("Console.allReaded")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns2,data:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.msgTotal,current:t.curPage,"page-size":t.pageSize},on:{"on-change":t.changePage}})],1)],1)},E=[],H={name:"Message",data:function(){var t=this;return{curPage:1,pageSize:10,tbLoad1:!1,msgTotal:0,columns2:[{title:this.$t("Console.messageTitle"),key:"messageTitle",minWidth:180,render:function(e,a){var s=a.row;return e("div",{class:"title-wrap-8x"},[e("span",{class:{"title-tag":!0,"b-red":1===s.status}},""),e("span",{class:["title--wdashfty74",{gray:1!==s.status}],on:{click:function(){t.handleNotice(s.id)}}},s.messageTitle)])}},{title:this.$t("Console.status"),key:"createTime",minWidth:80,render:function(e,a){var s=a.row.status,n=["-",t.$t("Console.unread"),t.$t("Console.read")];return e("span",{class:{gray:1!==a.row.status}},n[s])}},{title:this.$t("Console.time"),key:"createTime",minWidth:150,render:function(t,e){return t("span",{class:{gray:1!==e.row.status}},o["a"].ft("Y-M-D h:m",e.row.createTime))}},{title:" ",width:100,align:"center",render:function(e,a){var s=a.row.id;return e("span",{class:["handle--btn handle--del",{gray:1!==a.row.status}],on:{click:function(){t.handleDelMsg(s)}}},t.$t("Console.delete"))}}],tableData:[]}},props:{data:null},methods:{getMsg:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,e=c["a"].getUserMsg,a={pageNum:this.curPage,pageSize:this.pageSize},t.next=5,this.$axios.post(e,a);case 5:if(s=t.sent,this.tbLoad1=!1,200!=s.data.code){t.next=16;break}if(n=s.data.payload||[],Object.keys(n).length){t.next=11;break}return t.abrupt("return");case 11:this.curPage=n.pageNum,this.msgTotal=n.total,this.tableData=n.list,this.$store.commit("set_user_msg_list",n.list),this.$store.commit("set_user_unread_msg_count",n.noReadNum);case 16:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleDelMsg:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].delUserMsg,{ids:e});case 2:a=t.sent,200===a.data.code?(this.$Message.success(this.$t("Console.deleted")),this.getMsg()):this.$Message.success(a.data.message);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),changePage:function(t){this.curPage=t,o["a"].setStore("message.curPage",t),this.getMsg()},setItemsAsReaded:function(t){return this.$axios.post(c["a"].changeUserMsgStatus,{ids:t})},handleNotice:function(t){this.$router.push({query:{id:t}}),this.$parent.currentView="MessageDetail",this.setItemsAsReaded(t)},handleAllreaded:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.tableData.map(function(t){return t.id}).join(","),t.next=3,this.setItemsAsReaded(e);case 3:if(a=t.sent,200!==a.data.code){t.next=11;break}if(this.isSomeUnReaded()){t.next=7;break}return t.abrupt("return");case 7:this.reqUnReadMsgCount(),this.curPage=1,this.getMsg(),this.$Message.success("标记成功");case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),isSomeUnReaded:function(){return!!this.tableData.length&&this.tableData.some(function(t){return 1===t.status})},reqUnReadMsgCount:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].userUnreadMsgCount);case 2:e=t.sent,200===e.data.code&&(a=e.data.payload||0,this.$store.commit("set_user_unread_msg_count",a));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.$router.push({query:{}}),this.curPage=+o["a"].getStore("message.curPage")||1,this.getMsg()}},F=H,V=(a("105c"),Object(d["a"])(F,I,E,!1,null,"0848ba68",null)),A=V.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap msg-m-xs"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"回收站"},on:{click:t.UP_JSON}},[t._v(t._s(t.$t("Console.recycleBin")))]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.dTotal))]),a("span",{staticClass:"txt-tip",attrs:{cnrk:"超过90天的内容会被自动删除"}},[t._v(t._s(t.$t("Console.recycleBinTip")))])]),a("div",{staticClass:"r-btn"},[a("span",{staticClass:"sbtn",attrs:{cnrk:"一键清空"},on:{click:function(e){return t.handleRmAll()}}},[t._v(t._s(t.$t("Console.allEmpty")))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns2,data:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.dTotal,current:t.curPage,"page-size":t.pageSize},on:{"on-change":t.changePage}})],1)],1)},G=[],B=(a("6c7b"),{name:"Recycled",data:function(){var t=this;return{curPage:1,pageSize:10,tbLoad1:!1,dTotal:0,columns2:[{title:this.$t("Console.name"),key:"name",minWidth:180,render:function(t,e){e.row;return t("div",{class:"title-wrap-8x"},[t("span",{class:{"title-tag":!0,"b-red":1===e.row.status}},""),t("span",{class:"title--wdashfty78"},e.row.name)])}},{title:this.$t("Console.type"),key:"type",width:180,render:function(e,a){var s=["",t.$t("Console.project"),t.$t("Console.model"),t.$t("Console.dataset"),t.$t("Console.drillModel")],n=a.row.type;return e("span",s[n])}},{title:this.$t("Console.size"),key:"size",width:180,render:function(t,e){var a=e.row.size;return t("span",o["a"].getfGMK(a))}},{title:this.$t("Console.delTime"),key:"createTime",width:180,render:function(t,e){return t("span",o["a"].ft("Y-M-D h:m",e.row.createTime))}},{title:" ",width:150,align:"center",render:function(e,a){return[e("span",{class:"handle--btn restore-btn",on:{click:function(){t.handleRestore(a.row.id)}}},t.$t("Console.recover")),e("span",{class:"handle--btn empty-btn",on:{click:function(){t.handleClear(a.row.id)}}},t.$t("Console.empty"))]}}],tableData:[]}},methods:{reqList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,e=c["a"].recycledList,a={pageNum:this.curPage,pageSize:this.pageSize},t.next=5,this.$axios.post(e,a);case 5:if(s=t.sent,this.tbLoad1=!1,200!==s.data.code){t.next=14;break}if(n=s.data.payload||[],Object.keys(n).length){t.next=11;break}return t.abrupt("return");case 11:this.curPage=n.pageNum,this.dTotal=n.total,this.tableData=n.list;case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.curPage=t,o["a"].setStore("recycled.curPage",t),this.reqList()},handleRestore:o["a"].debounce(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].restorePro,{id:e});case 2:a=t.sent,200===a.data.code?(this.$Message.success(this.$t("Console.restored")),this.reqList()):this.$Message.error(a.data.message);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o["a"].debounce_dealy||300),handleRmAll:function(){var t=confirm(this.$t("Console.emptyConfm")),e=this.tableData.map(function(t){return t.id}).join(",");t&&this.reqRmItems(e)},handleClear:function(t){this.reqRmItems(t)},reqRmItems:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=c["a"].clearRecycledProject,t.next=3,this.$axios.post(a,{ids:e});case 3:s=t.sent,200===s.data.code?(this.$Message.success(this.$t("Console.deleted")),this.reqList()):this.$Message.error(s.data.message);case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),UP_JSON:function(){}},created:function(){this.curPage=+o["a"].getStore("recycled.curPage")||1,this.reqList()}}),K=B,X=(a("2d78"),a("0197"),Object(d["a"])(K,W,G,!1,null,"bd524f80",null)),J=X.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap msg-m-xs"},[a("div",{staticClass:"head"},[a("div",{staticClass:"left"},[a("span",{staticClass:"tit",attrs:{cnrk:"我的收藏"}},[t._v(" "+t._s(t.$t("Console.myFavorites"))+" ")]),a("span",{staticClass:"num-tip"},[t._v(t._s(t.dTotal))])])]),a("Table",{staticClass:"table-m1 beautify-tb-no-data",class:{"g-loading":t.tbLoad1},attrs:{columns:t.columns2,data:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length,expression:"tableData.length"}],staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.dTotal,current:t.curPage,"page-size":t.pageSize},on:{"on-change":t.changePage}})],1)],1)},Z=[],Q={name:"Collect",data:function(){var t=this;return{curPage:1,pageSize:10,tbLoad1:!1,dTotal:0,columns2:[{title:this.$t("Console.name"),key:"documentTitle",minWidth:180,render:function(e,a){var s=a.row,n=-1===s.type?s.documentTitle:s.title;return e("div",{class:"title-wrap-8x"},[e("span",{class:{"title-tag":!0,"b-red":1===a.row.status}},""),e("span",{class:"title--wdashfty74",on:{click:function(){t.handleToDoc(s.documentId,s.type)}}},n)])}},{title:this.$t("Console.source"),key:"documentDir",minWidth:180,render:function(e,a){return-1===a.row.type?e("span",a.row.documentDir):e("span",t.$t("Console.activities"))}},{title:" ",width:150,align:"center",render:function(e,a){return e("span",{class:"handle--btn restore-btn",on:{click:function(){t.handleRemove(a.row.documentId,a.row.type)}}},t.$t("Console.favoritesCanceled"))}}],tableData:[]}},methods:{reqList:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tbLoad1=!0,e=c["a"].userCollectList,a={pageNum:this.curPage,pageSize:this.pageSize},t.next=5,this.$axios.post(e,a);case 5:if(s=t.sent,this.tbLoad1=!1,200!=s.data.code){t.next=14;break}if(n=s.data.payload||[],Object.keys(n).length){t.next=11;break}return t.abrupt("return");case 11:this.curPage=n.pageNum,this.dTotal=n.total,this.tableData=n.list;case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t){this.curPage=t,o["a"].setStore("collect.curPage",t),this.reqList()},handleRemove:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].cancelCollect,{documentId:e,type:a});case 2:s=t.sent,200===s.data.code?(this.$Message.success(this.$t("Console.canceled")),this.reqList()):this.$Message.error(s.data.message);case 4:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleToDoc:function(t,e){-1===e?this.$router.push({path:"/help-detail/"+t}):this.$router.push({name:"Activity",params:{id:t}})}},created:function(){this.curPage=+o["a"].getStore("collect.curPage")||1,this.reqList()}},tt=Q,et=(a("1179"),a("8e4e"),Object(d["a"])(tt,Y,Z,!1,null,"7351ecb8",null)),at=et.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"head"},[a("span",{staticClass:"back-btn",attrs:{cnkr:"返回"},on:{click:t.handleBack}},[t._v(t._s(t.$t("depTai.back")))])]),a("div",{staticClass:"content-ux"},[a("h1",{staticClass:"h1t"},[t._v(t._s(t.caption))]),a("h2",{staticClass:"desc_qs"},[t._v(t._s(t.getftTime))]),a("div",{staticClass:"notic-content-m",domProps:{innerHTML:t._s(t.msgContent)}})])])},nt=[],it={name:"MessageDetail",data:function(){return{msgContent:"",caption:"",stime:0,isEn:o["a"].isEn()}},methods:{getMassegeData:function(){var t=this,e=this.$route.query.id,a=this.$store.state.userMsgList;a.forEach(function(a){a.id===e&&(t.stime=a.createTime,t.caption=a.messageTitle,t.msgContent=a.messageBody)})},handleBack:function(){this.$router.push({query:{}}),this.$parent.currentView="Message"}},computed:{getftTime:function(){return o["a"].ft("Y-M-D h:m",this.stime)}},created:function(){this.getMassegeData()}},rt=it,ot=(a("431a"),Object(d["a"])(rt,st,nt,!1,null,"21964047",null)),ct=ot.exports,lt=(a("4328"),a("bc3a")),ut=a.n(lt),pt={name:"Console",components:{Overview:m,Project:C,Message:A,MessageDetail:ct,Recycled:J,Collect:at,Dataset:O,Model:q},data:function(){return{utils:o["a"],userSpaceTotal:30*Math.pow(1024,3),upOnceMaximumLimit:30*Math.pow(1024,3),ipfsTemp:null,curUptype:-1,userUsableSpace:0,showUpListLay:!1,upListLoading:!1,upingDomLimit:100,upDoneDomLimit:60,upingDomLimitS:0,upDoneLimitS:0,projectSize:0,fileHash:"",tabsData:{Overview:{label:"工作台"}},isUpTab2:!1,showXinpanInitTipModal:!1,consRoutes:[{name:"Overview",label:this.$t("Console.Workbench"),active:!0,data:null},{name:"Project",label:this.$t("Console.project")},{name:"Model",label:this.$t("Console.model")},{name:"Dataset",label:this.$t("Console.dataset")},{name:"Collect",label:this.$t("Console.favorites")},{name:"Message",label:this.$t("Console.Message")},{name:"Recycled",label:this.$t("Console.recycleBin")}],currentView:"Overview"}},methods:{init:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$store.state.console_child_component,this.changeView(e),this.reqUnReadMsgCount(),this.reqGetUserConfig(),t.next=6,this.$store.dispatch("getUserInfo");case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changeView:function(t){t&&"Console"!==t||(t="Overview"),this.currentView=t,this.$store.commit("set_console_child_component",t),this.consRoutes.forEach(function(e){e.active=!1,e.name==t&&(e.active=!0)})},reqUnReadMsgCount:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c["a"].userUnreadMsgCount);case 2:e=t.sent,200===e.data.code&&(a=e.data.payload||0,this.$store.commit("set_user_unread_msg_count",a));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),uploadToIpfsDoneAfter:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.fileHash=e.DirHash||e.Hash,this.projectSize=e.Size,t.next=4,ut()({method:"get",baseURL:"",timeout:3e3,url:c["a"].ipfsGetServersGeoCode});case 4:s=t.sent,this.$store.commit("set_geo_code",s.headers["geo-code"]||null),this.setUpDoneView(a),this.reqUpFileInfo(),this.$store.commit("set_cur_canup_status",!0),this.upListLoading=!1,this.checkMoreData();case 11:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),upZipToIpfs:function(t){var e=this;this.ipfsTemp=this.$tesraIpfs.addZip(t[0],function(a,s){var n=[],i=!0,r=!1,o=void 0;try{for(var c,l=function(){var t=c.value;n=e.upingList.map(function(e){return e.rid===t.rid&&(8!==e.upState&&2!==e.upState||(e.upState=0),e.loaded=t.loaded),e})},u=t[Symbol.iterator]();!(i=(c=u.next()).done);i=!0)l()}catch(p){r=!0,o=p}finally{try{i||null==u.return||u.return()}finally{if(r)throw o}}e.changeUpingListStatus(n)}),this.ipfsTemp.then(function(){var a=Object(r["a"])(regeneratorRuntime.mark(function a(s){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:(s||{}).Hash&&!e.upingList.length&&e.uploadToIpfsDoneAfter(s,t);case 1:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}()).catch(function(t){console.log(t)})},upDirToIpfs:function(t){var e=this;this.ipfsTemp=this.$tesraIpfs.addDirectory(t,function(t,a,s){e.manageUpingList(e.upingList),1===t.upState&&e.$store.commit("set_updone_list",t)},function(t,a,s){if(t){var n=[],i=!0,r=!1,o=void 0;try{for(var c,l=function(){var t=c.value;n=e.upingList.map(function(e){return e.rid===t.rid&&(8!==e.upState&&2!==e.upState||(e.upState=0),e.loaded=t.loaded),e})},u=t[Symbol.iterator]();!(i=(c=u.next()).done);i=!0)l()}catch(p){r=!0,o=p}finally{try{i||null==u.return||u.return()}finally{if(r)throw o}}e.changeUpingListStatus(n)}}),this.ipfsTemp.then(function(){var a=Object(r["a"])(regeneratorRuntime.mark(function a(s){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:(s||{}).DirHash&&!e.upingList.length&&e.uploadToIpfsDoneAfter(s,t);case 1:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}()).catch(function(t){console.log(t)})},upProject:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$store.commit("show_read_file_loading",!1),this.isUpTab2=!1,this.showUpListLay=!0,this.upListLoading=!1,this.upingDomLimitS=this.upingDomLimit,this.upDoneLimitS=this.upDoneDomLimit,this.$store.commit("set_cur_canup_status",!1),this.$store.commit("set_up_tip_bar",!0),this.$store.commit("empty_updone_list"),e=Array.from(e,function(t){return t.rid=o["a"].getRandStr(10),t.loaded=0,t.upState=8,t}),this.$store.commit("set_uping_list",e),a?this.upZipToIpfs(e):this.upDirToIpfs(e);case 12:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),upFileXs:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var s,n,i,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(s=r.length>2&&void 0!==r[2]&&r[2],e=Array.from(e),e.length){t.next=4;break}return t.abrupt("return");case 4:return this.curUptype=a,this.$store.commit("show_read_file_loading",!0),n=s?e[0].name.replace(/\.\w+$/,""):e[0].webkitRelativePath.match(/^[^\/]+/)[0],this.$store.commit("set_prefix",o["a"].getRandStr(10)),i=e.map(function(t){return t.size}).reduce(function(t,e){return t+e},0),t.next=11,this.reqUsableSpace();case 11:if(!(i>this.upOnceMaximumLimit)){t.next=14;break}return this.$store.commit("show_read_file_loading",!1),t.abrupt("return",this.$Message.error("".concat(this.$t("Console.uploadRestrictions")).concat(o["a"].getfGMK(this.upOnceMaximumLimit))));case 14:if(!(i>this.userUsableSpace)){t.next=17;break}return this.$store.commit("show_read_file_loading",!1),t.abrupt("return",this.$Message.error(this.$t("Console.spaceUnEnoughTip")));case 17:this.$store.commit("set_project_name",n),this.upProject(e,s);case 19:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),reqUpFileInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,s,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.curUptype>-1?c["a"].createData:c["a"].createTask,a={filePrefixIdentify:this.prefix,trainWay:this.frameSltVal,neuralNetworkType:this.networkType},s={projectName:this.projectName,projectSize:this.projectSize,directoryHash:this.fileHash,projectDesc:this.describe,geoCode:this.geoCode},n={dataType:this.curUptype,dataSetType:this.datasetTypeVal,dataHash:this.fileHash,dataName:this.projectName,fileSize:this.projectSize,note:this.describe},a=this.curUptype>-1?Object.assign(a,n):Object.assign(a,s),t.next=7,this.$axios.post(e,a);case 7:i=t.sent,200===i.data.code?(this.$store.commit("set_cur_canup_status",!0),this.$Message.success(this.$t("Console.uploadSuccess")),this.upListLoading=!1,this.handleCloseUpLay(),this.$refs.project_s.getProjectList()):alert(i.data.message);case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),reqUsableSpace:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=c["a"].getFreeSpace,t.next=3,this.$axios.get(e);case 3:a=t.sent,200===a.data.code&&(this.userUsableSpace=a.data.payload);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleUpAgain:function(t){var e=this;this.ipfsTemp.retry(t).then(function(a){(a||{}).DirHash&&!e.upingList.length&&e.uploadToIpfsDoneAfter(a,t)}).catch(function(t){console.log(t)})},handleCloseUpLay:function(){this.showUpListLay=!1},changeUpTab:function(t){this.isUpTab2=2===t},getCurUpProgress:function(t,e,a){if(1===a)return"120px 0 0 0 #389cfa inset";var s=Math.min(t,e)/e*120;return"".concat(s,"px 0 0 0 #389cfa inset")},getCurUpProgressPercent:function(t,e,a){if(!o["a"].isNumber(t)||!o["a"].isNumber(t))return"0%";if(1===a)return"100%";var s=Math.min(t,e)/e*100;return s=o["a"].round(s,0),"".concat(s,"%")},getUpState:function(t){var e={0:this.$t("Console.uploadStatus0"),1:this.$t("Console.uploadStatus1"),2:this.$t("Console.uploadStatus2"),8:this.$t("Console.uploadStatus8")};return e[t]},changeUpingListStatus:function(t){this.$store.commit("set_uping_list",t)},manageUpingList:function(t){var e=t.filter(function(t){return 1!==t.upState});this.$store.commit("set_uping_list",e),this.isAllUpSuccess&&(this.isUpTab2=!0,this.upListLoading=!0)},setUpDoneView:function(t){this.$store.commit("set_uping_list",[]),this.upDoneList.length||this.$store.commit("set_updone_list",t),this.isUpTab2=!0},checkMoreData:function(){var t=this,e=this.$refs.ref_up_done;e.addEventListener("scroll",function(e){var a=e.target.clientHeight,s=e.target.scrollTop,n=e.target.scrollHeight;a+s===n&&(t.upDoneLimitS=Math.min(t.upDoneLimitS+10,t.upDoneList.length))})},handleCloseXinPanTip:function(){this.showXinpanInitTipModal=!1,this.reqXinPanInitConfirm()},reqXinPanInitConfirm:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=c["a"].updateUserConfig,a={name:"newRegister",value:2},t.next=4,this.$axios.post(e,a);case 4:if(s=t.sent,200!==s.data.code){t.next=7;break}return t.abrupt("return");case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),reqGetUserConfig:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=c["a"].findUserConfig,t.next=3,this.$axios.post(e);case 3:if(a=t.sent,200!==a.data.code){t.next=10;break}if(s=a.data.payload||[],Object.keys(s).length){t.next=8;break}return t.abrupt("return");case 8:this.showXinpanInitTipModal=1==s.newRegister&&!o["a"].isEn(),this.reqXinPanInitConfirm();case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},computed:Object(i["a"])({},Object(w["c"])({geoCode:function(t){return t.geoCode},uploadListLay:function(t){return t.ups.uploadListLay},canUpload:function(t){return t.ups.canUpload},upingList:function(t){return t.ups.upingList},upErrList:function(t){return t.ups.upErrList},upDoneList:function(t){return t.ups.upDoneList},getUnReadMsgCount:function(t){return t.userUnreadMsgCount},projectName:function(t){return t.projectName},prefix:function(t){return t.prefix},frameSltVal:function(t){return t.frameSltVal},networkType:function(t){return t.networkType},datasetTypeVal:function(t){return t.datasetTypeVal},describe:function(t){return t.describe},showUpTipBar:function(t){return t.ups.showUpTipBar},showReadFileLoading:function(t){return t.showReadFileLoading},vuex_userId:function(t){return t.userInfo.id},vuex_phone:function(t){return t.userInfo.phone}}),Object(w["b"])({isAllUpSuccess:"isAllUpSuccess"}),{upingList_less:function(){var t=this;return this.upingList.filter(function(e,a){return a<t.upingDomLimitS})},upDoneList_less:function(){var t=this;return this.upDoneList.filter(function(e,a){return a<t.upDoneLimitS})},showAgainUpBtn:function(){return this.upingList.length&&this.upingList.every(function(t){return 2===t.upState})},xstroOpenDesText:function(){return this.$t("Console.xstroOpenedDes").replace(/\{\{30GB\}\}/,'<span class="s9x">30GB</span>')}}),watch:{"$store.state.console_child_component":function(t){this.changeView(t)}},mounted:function(){this.init()},created:function(){this.showUpTipBar&&location.reload()}},ht=pt,dt=(a("4c75"),a("f442"),Object(d["a"])(ht,s,n,!1,null,"1043823e",null));e["default"]=dt.exports},"36bd":function(t,e,a){"use strict";var s=a("4bf8"),n=a("77f1"),i=a("9def");t.exports=function(t){var e=s(this),a=i(e.length),r=arguments.length,o=n(r>1?arguments[1]:void 0,a),c=r>2?arguments[2]:void 0,l=void 0===c?a:n(c,a);while(l>o)e[o++]=t;return e}},"37c8":function(t,e,a){e.f=a("2b4c")},"3a72":function(t,e,a){var s=a("7726"),n=a("8378"),i=a("2d00"),r=a("37c8"),o=a("86cc").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=i?{}:s.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:r.f(t)})}},"3a74":function(t,e,a){},"431a":function(t,e,a){"use strict";var s=a("d9f8"),n=a.n(s);n.a},"4c75":function(t,e,a){"use strict";var s=a("8428"),n=a.n(s);n.a},"4fa7":function(t,e,a){},"53d5":function(t,e,a){},5434:function(t,e,a){"use strict";var s=a("72c5"),n=a.n(s);n.a},"67ab":function(t,e,a){var s=a("ca5a")("meta"),n=a("d3f4"),i=a("69a8"),r=a("86cc").f,o=0,c=Object.isExtensible||function(){return!0},l=!a("79e5")(function(){return c(Object.preventExtensions({}))}),u=function(t){r(t,s,{value:{i:"O"+ ++o,w:{}}})},p=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,s)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[s].i},h=function(t,e){if(!i(t,s)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[s].w},d=function(t){return l&&f.NEED&&c(t)&&!i(t,s)&&u(t),t},f=t.exports={KEY:s,NEED:!1,fastKey:p,getWeak:h,onFreeze:d}},"6c7b":function(t,e,a){var s=a("5ca1");s(s.P,"Array",{fill:a("36bd")}),a("9c6c")("fill")},7278:function(t,e,a){},"72c5":function(t,e,a){},"77c9":function(t,e,a){},"795a":function(t,e,a){"use strict";var s=a("86c3"),n=a.n(s);n.a},"7bbc":function(t,e,a){var s=a("6821"),n=a("9093").f,i={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return n(t)}catch(e){return r.slice()}};t.exports.f=function(t){return r&&"[object Window]"==i.call(t)?o(t):n(s(t))}},"7bc1":function(t,e,a){"use strict";var s=a("cd16"),n=a.n(s);n.a},8213:function(t,e,a){"use strict";var s=a("8f0f"),n=a.n(s);n.a},8428:function(t,e,a){},"86c3":function(t,e,a){},"8a81":function(t,e,a){"use strict";var s=a("7726"),n=a("69a8"),i=a("9e1e"),r=a("5ca1"),o=a("2aba"),c=a("67ab").KEY,l=a("79e5"),u=a("5537"),p=a("7f20"),h=a("ca5a"),d=a("2b4c"),f=a("37c8"),m=a("3a72"),v=a("d4c0"),g=a("1169"),b=a("cb7c"),w=a("d3f4"),y=a("4bf8"),$=a("6821"),_=a("6a99"),k=a("4630"),C=a("2aeb"),x=a("7bbc"),S=a("11e9"),j=a("2621"),T=a("86cc"),P=a("0d58"),L=S.f,O=T.f,M=x.f,U=s.Symbol,D=s.JSON,R=D&&D.stringify,N="prototype",z=d("_hidden"),q=d("toPrimitive"),I={}.propertyIsEnumerable,E=u("symbol-registry"),H=u("symbols"),F=u("op-symbols"),V=Object[N],A="function"==typeof U&&!!j.f,W=s.QObject,G=!W||!W[N]||!W[N].findChild,B=i&&l(function(){return 7!=C(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,a){var s=L(V,e);s&&delete V[e],O(t,e,a),s&&t!==V&&O(V,e,s)}:O,K=function(t){var e=H[t]=C(U[N]);return e._k=t,e},X=A&&"symbol"==typeof U.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof U},J=function(t,e,a){return t===V&&J(F,e,a),b(t),e=_(e,!0),b(a),n(H,e)?(a.enumerable?(n(t,z)&&t[z][e]&&(t[z][e]=!1),a=C(a,{enumerable:k(0,!1)})):(n(t,z)||O(t,z,k(1,{})),t[z][e]=!0),B(t,e,a)):O(t,e,a)},Y=function(t,e){b(t);var a,s=v(e=$(e)),n=0,i=s.length;while(i>n)J(t,a=s[n++],e[a]);return t},Z=function(t,e){return void 0===e?C(t):Y(C(t),e)},Q=function(t){var e=I.call(this,t=_(t,!0));return!(this===V&&n(H,t)&&!n(F,t))&&(!(e||!n(this,t)||!n(H,t)||n(this,z)&&this[z][t])||e)},tt=function(t,e){if(t=$(t),e=_(e,!0),t!==V||!n(H,e)||n(F,e)){var a=L(t,e);return!a||!n(H,e)||n(t,z)&&t[z][e]||(a.enumerable=!0),a}},et=function(t){var e,a=M($(t)),s=[],i=0;while(a.length>i)n(H,e=a[i++])||e==z||e==c||s.push(e);return s},at=function(t){var e,a=t===V,s=M(a?F:$(t)),i=[],r=0;while(s.length>r)!n(H,e=s[r++])||a&&!n(V,e)||i.push(H[e]);return i};A||(U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(a){this===V&&e.call(F,a),n(this,z)&&n(this[z],t)&&(this[z][t]=!1),B(this,t,k(1,a))};return i&&G&&B(V,t,{configurable:!0,set:e}),K(t)},o(U[N],"toString",function(){return this._k}),S.f=tt,T.f=J,a("9093").f=x.f=et,a("52a7").f=Q,j.f=at,i&&!a("2d00")&&o(V,"propertyIsEnumerable",Q,!0),f.f=function(t){return K(d(t))}),r(r.G+r.W+r.F*!A,{Symbol:U});for(var st="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;st.length>nt;)d(st[nt++]);for(var it=P(d.store),rt=0;it.length>rt;)m(it[rt++]);r(r.S+r.F*!A,"Symbol",{for:function(t){return n(E,t+="")?E[t]:E[t]=U(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in E)if(E[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),r(r.S+r.F*!A,"Object",{create:Z,defineProperty:J,defineProperties:Y,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:at});var ot=l(function(){j.f(1)});r(r.S+r.F*ot,"Object",{getOwnPropertySymbols:function(t){return j.f(y(t))}}),D&&r(r.S+r.F*(!A||l(function(){var t=U();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))})),"JSON",{stringify:function(t){var e,a,s=[t],n=1;while(arguments.length>n)s.push(arguments[n++]);if(a=e=s[1],(w(e)||void 0!==t)&&!X(t))return g(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!X(e))return e}),s[1]=e,R.apply(D,s)}}),U[N][q]||a("32e9")(U[N],q,U[N].valueOf),p(U,"Symbol"),p(Math,"Math",!0),p(s.JSON,"JSON",!0)},"8e4e":function(t,e,a){"use strict";var s=a("4fa7"),n=a.n(s);n.a},"8f0f":function(t,e,a){},ac4d:function(t,e,a){a("3a72")("asyncIterator")},af70:function(t,e,a){},b5e1:function(t,e,a){},cd16:function(t,e,a){},ce17:function(t,e,a){},d4c0:function(t,e,a){var s=a("0d58"),n=a("2621"),i=a("52a7");t.exports=function(t){var e=s(t),a=n.f;if(a){var r,o=a(t),c=i.f,l=0;while(o.length>l)c.call(t,r=o[l++])&&e.push(r)}return e}},d9f8:function(t,e,a){},f442:function(t,e,a){"use strict";var s=a("ce17"),n=a.n(s);n.a}}]);