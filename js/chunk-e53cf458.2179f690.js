(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e53cf458"],{"0eb4":function(t,e,n){"use strict";var a=n("1861");n.n(a).a},1861:function(t,e,n){},2620:function(t,e,n){"use strict";n.r(e);var a=(n("7f7f"),n("96cf"),n("3b8d")),i=(n("ac6a"),n("a481"),n("0e54")),s=n.n(i),r=n("1487"),o=n.n(r),c=(n("2c43"),n("bc3a"),n("4ec3")),u=n("fa7d"),h={name:"about-detail",data:function(){return{spinShow:!0,spinShow2:!1,catalogueData:"",anchorList:[],titleShow:[],enshrineData:{isEnshrined:!1,txt:u.a.isEn()?"Collect":"收藏",documentId:""},markedTxt:""}},computed:{compiledMarkdown:function(){return this.markedTxt?(this.markedTxt.replace(/[i][d][=]['][a][h][r][N][a][N][']/gi,'id="title"'),s()(this.markedTxt,{sanitize:!0})):""}},watch:{compiledMarkdown:function(t){var e=this;""!==t&&setTimeout((function(){var t=[];document.querySelectorAll(".context h3").forEach((function(e,n){e.setAttribute("id","title"+n);var a={href:"#title"+n,name:e.textContent};t.push(a)})),e.anchorList=t,e.spinShow2=!1}),500)}},created:function(){var t=Object(a.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.post(c.a.getDocumentById,{id:this.$route.params.id});case 2:return 200===(e=t.sent).data.code?this.requestDoc(e.data.payload.content):this.$Message.error(e.data.message),this.enshrineData.documentId=this.$route.params.id,t.next=7,this.$axios.post(c.a.aboutOurDocuments);case 7:200===(n=t.sent).data.code&&(n.data.payload.list.length>0?this.catalogueData=n.data.payload:this.$Message.error(n.data.message));case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),mounted:function(){this.setTitle()},beforeRouteLeave:function(t,e,n){this.$store.commit("setBreadArr",[]),n()},methods:{showTitle:function(t){this.$set(this.titleShow,t,!this.titleShow[t])},setDocumentId:function(t,e){this.setBreadArr(t,e),this.enshrineData.documentId=e.id,this.isEnshrine(),this.requestDoc(e.content),this.spinShow2=!0},setBreadArr:function(t,e){var n=this.$store.state.breadArr;n.splice(1,2,{name:t.name,path:"/about-detail/"+t.list[0].id},{name:e.name,path:"/about-detail/"+e.id}),this.$store.commit("setBreadArr",n)},enshrineTxt:function(){var t=Object(a.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.a.isLogin()){t.next=3;break}return this.$Message.warning("未登录"),t.abrupt("return",!1);case 3:if(this.enshrineData.isEnshrined){t.next=10;break}return t.next=6,this.$axios.post(c.a.documentEnshrine,{documentId:this.enshrineData.documentId,type:-1});case 6:200===(e=t.sent).data.code||100===e.data.code?(this.enshrineData.isEnshrined=!0,this.enshrineData.txt=u.a.isEn()?"Collected":"已收藏"):this.$Message.error(e.data.message),t.next=14;break;case 10:return t.next=12,this.$axios.post(c.a.documentCancelEnshrine,{documentId:this.enshrineData.documentId,type:-1});case 12:200===(n=t.sent).data.code?(this.enshrineData.isEnshrined=!1,this.enshrineData.txt=u.a.isEn()?"Collect":"收藏"):this.$Message.error(n.data.message);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),requestDoc:function(t){var e=new s.a.Renderer;e.heading=function(t,e){return"<h3 id='ahr"+parseInt(t)+"'>"+t+"</h3>"},s.a.setOptions({renderer:e,highlight:function(t){return o.a.highlightAuto(t).value},pedantic:!1,gfm:!0,tables:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1}),this.markedTxt=t},isEnshrine:function(){var t=Object(a.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.a.isLogin()){t.next=3;break}return this.spinShow=!1,t.abrupt("return",!1);case 3:return t.next=5,this.$axios.post(c.a.documentEnshrineChecked,{documentId:this.enshrineData.documentId,type:-1});case 5:200===(e=t.sent).data.code?(this.enshrineData.isEnshrined=e.data.payload,this.enshrineData.txt=e.data.payload?u.a.isEn()?"Collected":"已收藏":u.a.isEn()?"Collect":"收藏",this.spinShow=!1):this.$Message.error(e.data.message);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),setTitle:function(){var t=this;setTimeout((function(){var e=document.querySelectorAll(".catalogue .item-content"),n="";if(e.forEach((function(e){e.getAttribute("documentid")===t.$route.params.id&&(n=e)})),n&&n.children.length>0){n.parentElement.classList.add("act-name");var a=parseInt(n.parentElement.getAttribute("index"));t.showTitle(a),t.isEnshrine()}else t.setTitle();t.spinShow=!1}),500)}}},d=(n("0eb4"),n("78d7"),n("2877")),l=Object(d.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{key:t.$route.fullpath,staticClass:"about-container"},[t.spinShow?n("Spin",{attrs:{size:"large"}}):t._e(),n("div",{staticClass:"catalogue"},t._l(t.catalogueData.list,(function(e,a){return n("ul",{key:a,class:t.titleShow[a]?"act-name":void 0,attrs:{index:a},on:{click:function(e){return t.showTitle(a)}}},[n("li",{staticClass:"item-title",attrs:{title:e.name}},[n("Icon",{attrs:{type:"md-arrow-dropdown"}}),t._v(t._s(e.name))],1),t._l(e.list,(function(a,i){return n("li",{key:i,staticClass:"item-content",attrs:{title:a.name,documentId:a.id},on:{click:function(n){return n.stopPropagation(),t.setDocumentId(e,a)}}},[n("router-link",{attrs:{to:"/about-detail/"+a.id}},[t._v(t._s(a.name))])],1)}))],2)})),0),n("div",{staticClass:"main"},[t.spinShow2?n("Spin",{attrs:{size:"large"}}):t._e(),n("div",{staticClass:"text-content"},[n("button",{staticClass:"enshrine-btn",class:t.enshrineData.isEnshrined?"enshrined":void 0,on:{click:function(e){return t.enshrineTxt()}}},[t._v(t._s(t.enshrineData.isEnshrined?t.$t("Console.activityCollected"):t.$t("Console.activityCollect")))]),n("article",{staticClass:"context",domProps:{innerHTML:t._s(t.compiledMarkdown)}})]),n("div",{staticClass:"schedule"},[n("Anchor",{attrs:{"show-ink":"",container:".text-content"}},t._l(t.anchorList,(function(t,e){return n("AnchorLink",{key:e,attrs:{href:t.href,title:t.name}})})),1)],1)],1)],1)}),[],!1,null,"2c120ab4",null);e.default=l.exports},"78d7":function(t,e,n){"use strict";var a=n("d70bb");n.n(a).a},d70bb:function(t,e,n){}}]);